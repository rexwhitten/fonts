!function(){"use strict";window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var e;(function(e,t){!function(){var t=window,n=document;e.exports={polyfill:function(){if(!("scrollBehavior"in n.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)){var e,o=t.HTMLElement||t.Element,r=468,i=(e=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)?1:0),s={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:o.prototype.scroll||c,scrollIntoView:o.prototype.scrollIntoView},a=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now;t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?p.call(t,n.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):s.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?s.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(t,n.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value couldn't be converted");s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var e=function(e){var t;do{t=(e=e.parentNode)===n.body}while(!1===t&&!1===f(e));return t=null,e}(this),o=e.getBoundingClientRect(),r=this.getBoundingClientRect();e!==n.body?(p.call(this,e,e.scrollLeft+r.left-o.left,e.scrollTop+r.top-o.top),"fixed"!==t.getComputedStyle(e).position&&t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else s.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+i<e.scrollHeight:"X"===t?e.clientWidth+i<e.scrollWidth:void 0}function d(e,n){var o=t.getComputedStyle(e,null)["overflow"+n];return"auto"===o||"scroll"===o}function f(e){var t=u(e,"Y")&&d(e,"Y"),n=u(e,"X")&&d(e,"X");return t||n}function m(e){var n,o,i,s,c=(a()-e.startTime)/r;s=c=c>1?1:c,n=.5*(1-Math.cos(Math.PI*s)),o=e.startX+(e.x-e.startX)*n,i=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,o,i),o===e.x&&i===e.y||t.requestAnimationFrame(m.bind(t,e))}function p(e,o,r){var i,l,u,d,f=a();e===n.body?(i=t,l=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,d=s.scroll):(i=e,l=e.scrollLeft,u=e.scrollTop,d=c),m({scrollable:i,method:d,startTime:f,startX:l,startY:u,x:o,y:r})}}}}()}(e={exports:{}},e.exports),e.exports).polyfill;window.getSelection&&!function(){const e=document.createElement("div");return e.style.cssText="-ms-user-select: element; user-select: contain;","element"===e.style.getPropertyValue("-ms-user-select")||"contain"===e.style.getPropertyValue("-ms-user-select")||"contain"===e.style.getPropertyValue("user-select")}()&&document.addEventListener("click",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".user-select-contain");if(!t)return;const n=window.getSelection();if(!n.rangeCount)return;const o=n.getRangeAt(0).commonAncestorContainer;t.contains(o)||n.selectAllChildren(t)}),window.Element&&!Element.prototype.toggleAttribute&&(Element.prototype.toggleAttribute=function(e,t){var n=!!t,o=2===arguments.length&&!t;return null!==this.getAttribute(e)?!!n||(this.removeAttribute(e),!1):!o&&(this.setAttribute(e,""),!0)}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{writable:!0,configurable:!0,value(e,t){return Array.prototype.reduce.call(this,(n,o,r,i)=>{const s=e.call(t,o,r,i);return Array.isArray(s)?n.concat(s):(n.push(s),n)})}});class t{constructor(e){this.files=Array.from(e),this.percentages=this.files.map(()=>0),this.size=this.files.length,this.total=this.files.reduce((e,t)=>e+t.size,0),this.uploaded=0}percent(){const e=this.files.map((e,t)=>e.size*this.percentages[t]/100).reduce((e,t)=>e+t);return Math.round(e/this.total*100)}progress(e,t){const n=this.files.indexOf(e);this.percentages[n]=t}completed(){this.uploaded+=1}isFinished(){return this.uploaded===this.files.length}}function n(){if(!(this instanceof n))return new n;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var o=window.document.documentElement,r=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector;n.prototype.matchesSelector=function(e,t){return r.call(e,t)},n.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},n.prototype.indexes=[];var i=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;n.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(i))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var s=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;n.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(s))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var a,c=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;n.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(c))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),n.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},a="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var l=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function u(e,t){var n,o,r,i,s,a,c=(e=e.slice(0).concat(e.default)).length,u=t,d=[];do{if(l.exec(""),(r=l.exec(u))&&(u=r[3],r[2]||!u))for(n=0;n<c;n++)if(s=(a=e[n]).selector(r[1])){for(o=d.length,i=!1;o--;)if(d[o].index===a&&d[o].key===s){i=!0;break}i||d.push({index:a,key:s});break}}while(r);return d}function d(e,t){var n,o,r;for(n=0,o=e.length;n<o;n++)if(r=e[n],t.isPrototypeOf(r))return r}function f(e,t){return e.id-t.id}n.prototype.logDefaultIndexUsed=function(){},n.prototype.add=function(e,t){var n,o,r,i,s,c,l,f,m=this.activeIndexes,p=this.selectors;if("string"==typeof e){for(n={id:this.uid++,selector:e,data:t},l=u(this.indexes,e),o=0;o<l.length;o++)i=(f=l[o]).key,(s=d(m,r=f.index))||((s=Object.create(r)).map=new a,m.push(s)),r===this.indexes.default&&this.logDefaultIndexUsed(n),(c=s.map.get(i))||(c=[],s.map.set(i,c)),c.push(n);this.size++,p.push(e)}},n.prototype.remove=function(e,t){if("string"==typeof e){var n,o,r,i,s,a,c,l,d=this.activeIndexes,f={},m=1===arguments.length;for(n=u(this.indexes,e),r=0;r<n.length;r++)for(o=n[r],i=d.length;i--;)if(a=d[i],o.index.isPrototypeOf(a)){if(c=a.map.get(o.key))for(s=c.length;s--;)(l=c[s]).selector!==e||!m&&l.data!==t||(c.splice(s,1),f[l.id]=!0);break}this.size-=Object.keys(f).length}},n.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,o,r,i,s,a,c,l={},u=[],d=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,o=d.length;t<o;t++)for(i=d[t],n=0,r=(s=this.matches(i)).length;n<r;n++)l[(c=s[n]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,u.push(a)),a.elements.push(i);return u.sort(f)},n.prototype.matches=function(e){if(!e)return[];var t,n,o,r,i,s,a,c,l,u,d,m=this.activeIndexes,p={},h=[];for(t=0,r=m.length;t<r;t++)if(c=(a=m[t]).element(e))for(n=0,i=c.length;n<i;n++)if(l=a.map.get(c[n]))for(o=0,s=l.length;o<s;o++)!p[d=(u=l[o]).id]&&this.matchesSelector(e,u.selector)&&(p[d]=!0,h.push(u));return h.sort(f)};var m={},p={},h=new WeakMap,g=new WeakMap,v=new WeakMap,w=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function b(e,t,n){var o=e[t];return e[t]=function(){return n.apply(e,arguments),o.apply(e,arguments)},e}function y(){h.set(this,!0)}function E(){h.set(this,!0),g.set(this,!0)}function L(){return v.get(this)||null}function T(e,t){w&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||w.get})}function j(e){var t=(1===e.eventPhase?p:m)[e.type];if(t){var n=function(e,t,n){var o=[],r=t;do{if(1!==r.nodeType)break;var i=e.matches(r);if(i.length){var s={node:r,observers:i};n?o.unshift(s):o.push(s)}}while(r=r.parentElement);return o}(t,e.target,1===e.eventPhase);if(n.length){b(e,"stopPropagation",y),b(e,"stopImmediatePropagation",E),T(e,L);for(var o=0,r=n.length;o<r&&!h.get(e);o++){var i=n[o];v.set(e,i.node);for(var s=0,a=i.observers.length;s<a&&!g.get(e);s++)i.observers[s].data.call(i.node,e)}v.delete(e),T(e)}}}function k(e,t,o){var r=!!(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).capture,i=r?p:m,s=i[e];s||(s=new n,i[e]=s,document.addEventListener(e,j,r)),s.add(t,o)}function x(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){var t="function"==typeof Map?new Map:void 0;return(S=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return C(e,arguments,q(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),H(o,e)})(e)}function C(e,t,n){return(C=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&H(r,n.prototype),r}).apply(null,arguments)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,q(t).call(this,e))).name="QueryError",n.framesToPop=1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,S(Error)),t}();function D(e,t,n){var o=n||HTMLElement,r=e.closest(t);if(r instanceof o)return r;throw new I("Element not found: <".concat(o.name,"> ").concat(t))}function _(e,t,n){var o=n||HTMLElement,r=e.querySelector(t);if(r instanceof o)return r;throw new I("Element not found: <".concat(o.name,"> ").concat(t))}function O(e,t,n){var o=n||HTMLElement,r=[],i=!0,s=!1,a=void 0;try{for(var c,l=e.querySelectorAll(t)[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;u instanceof o&&r.push(u)}}catch(d){s=!0,a=d}finally{try{i||null==l.return||l.return()}finally{if(s)throw a}}return r}function N(e,t,n){var o=n||HTMLInputElement,r=e.elements.namedItem(t);if(r instanceof o)return r;throw new I("Element not found by name: <".concat(o.name,"> ").concat(t))}function P(e,t){var n=e.getAttribute(t);if(null!=n)return n;throw new I("Attribute not found on element: ".concat(t))}class R extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t}}function B(e,t){const n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}class F extends Error{constructor(e){super(),this.response=e,this.framesToPop=1}}const $=window.AbortError||class extends Error{};function U(e,t){if(e.status>=200&&e.status<300)return e;{const n=e.statusText?` ${e.statusText}`:"";throw t.message=`HTTP ${e.status}${n}`,t}}function W(e,t){const n=t?Object.assign({},t):{};n.credentials||(n.credentials="same-origin");const o=new Request(e,n);if(o.headers.append("X-Requested-With","XMLHttpRequest"),/#csrf-token=/.test(o.url))throw new TypeError("URL with encoded CSRF token was passed to fetch() without using the csrfRequest(url) helper");return o}async function V(e,t){const n=await self.fetch(e);if(t&&t.aborted)throw new $("The operation was aborted");return n}async function z(e,t){const n=W(e,t),o=await V(n,t&&t.signal);return U(o,new F(o)),o}async function X(e,t){const n=W(e,t),o=await V(n,t&&t.signal);return U(o,new F(o)),o.text()}async function K(e,t,n){const o=W(t,n),r=await V(o,n&&n.signal);return U(r,new F(r)),function(e,t){const n=t.headers.get("content-type")||"";if(!n.startsWith("text/html"))throw new R(`expected response with text/html, but was ${n}`,t);const o=t.headers.get("x-html-safe");if(!o)throw new R("missing X-HTML-Safe nonce",t);if(o!==e)throw new R("response X-HTML-Safe nonce did not match",t)}(function(e){const t=e.querySelector("meta[name=html-safe-nonce]");if(null==t||!(t instanceof HTMLMetaElement))throw new Error("could not find html-safe-nonce on document");const n=t.content;if(n)return n;throw new Error("could not find html-safe-nonce on document")}(e),r),B(e,await r.text())}async function G(e,t){const n=W(e,t);n.headers.set("Accept","application/json");const o=await self.fetch(n);return U(o,new F(o)),o.json()}const Y=["is-default","is-uploading","is-bad-file","is-duplicate-filename","is-too-big","is-too-many","is-hidden-file","is-failed","is-bad-dimensions","is-empty","is-bad-permissions","is-repository-required","is-bad-format"];function J(e,t){e.classList.remove(...Y),e.classList.add(t)}const Z=new class{constructor(){this.uploads=[],this.busy=!1}upload(e){this.uploads.push(e),this.process()}process(){if(this.busy||0===this.uploads.length)return;const e=this.uploads.shift();this.busy=!0;const t=new XMLHttpRequest;t.open("POST",e.to,!0);for(const o in e.header)t.setRequestHeader(o,e.header[o]);t.onloadstart=function(){e.start()},t.onload=(()=>{204===t.status?e.complete({}):201===t.status?e.complete(JSON.parse(t.responseText)):e.error({status:t.status,body:t.responseText}),this.busy=!1,this.process()}),t.onerror=(()=>{e.error({status:0,body:""}),this.busy=!1,this.uploads=[]}),t.upload.onprogress=function(t){if(t.lengthComputable){const n=Math.round(t.loaded/t.total*100);e.progress(n)}};const n=new FormData;e.sameOrigin&&n.append("authenticity_token",e.csrf);for(const o in e.form)n.append(o,e.form[o]);n.append("file",e.file),t.send(n)}};async function Q(e,t){for(const o of e.files){const r=ee(o,t),i=[];if(!x(t,"upload:setup",{batch:e,file:o,policyRequest:r.options,preprocess:i}))return;try{await Promise.all(i);const s=await G(r.url,r.options);Z.upload(te(e,o,s,t))}catch(n){if(x(t,"upload:invalid",{batch:e,file:o,error:n}),n.response){const e=await n.response.text();J(t,oe({status:n.response.status,body:e},o))}else{J(t,oe({status:0,body:""}))}}}}function ee(e,t){const n=P(t,"data-upload-policy-url"),o=t.getAttribute("data-upload-repository-id");let r=t.getAttribute("data-upload-policy-authenticity-token");null==r&&(r=ne(t));const i=new FormData;return i.append("name",e.name),i.append("size",String(e.size)),i.append("content_type",e.type),i.append("authenticity_token",r),o&&i.append("repository_id",o),e._path&&i.append("directory",String(e._path)),{url:n,options:{method:"post",body:i,headers:{}}}}function te(e,t,n,o){let r=n.upload_authenticity_token;null==r&&(r=ne(o));let i=n.asset_upload_authenticity_token;return null==i&&(i=ne(o)),{file:t,to:n.upload_url,form:n.form,header:n.header,sameOrigin:n.same_origin,csrf:r,start(){J(o,"is-uploading"),x(o,"upload:start",{batch:e,file:t,policy:n})},progress(n){e.progress(t,n),x(o,"upload:progress",{batch:e,file:t,percent:n})},complete(r){if(e.completed(),r&&r.href&&(n.asset||(n.asset={}),n.asset.href=r.href),n.asset_upload_url&&n.asset_upload_url.length>0){const e=new FormData;e.append("authenticity_token",i),G(n.asset_upload_url,{method:"put",body:e})}x(o,"upload:complete",{batch:e,file:t,policy:n,result:r}),J(o,"is-default")},error(r){x(o,"upload:error",{batch:e,file:t,policy:n});const i=oe(r);J(o,i)}}}function ne(e){return N(D(e,"form",HTMLFormElement),"authenticity_token").value}function oe(e,t){if(400===e.status)return"is-bad-file";if(422!==e.status)return"is-failed";const n=JSON.parse(e.body);if(!n||!n.errors)return"is-failed";for(const o of n.errors)switch(o.field){case"size":{const e=t?t.size:null;return null!=e&&0===parseInt(e)?"is-empty":"is-too-big"}case"file_count":return"is-too-many";case"width":case"height":return"is-bad-dimensions";case"name":return"already_exists"===o.code?"is-duplicate-filename":"is-bad-file";case"content_type":return"is-bad-file";case"uploader_id":return"is-bad-permissions";case"repository_id":return"is-repository-required";case"format":return"is-bad-format"}return"is-failed"}function re(e,t){return t&&e.getFilesAndDirectories?async function(e){return ie(await async function e(t,n){if(n.getFilesAndDirectories){const t=await n.getFilesAndDirectories(),o=se(t).map(t=>e(n.path,t));return Promise.all(o)}return n._path=t,Promise.resolve(n)}("",e))}(e):t&&function(e){return e.items&&Array.from(e.items).some(e=>{const t=e.webkitGetAsEntry&&e.webkitGetAsEntry();return t&&t.isDirectory})}(e)?async function(e){const t=se(Array.from(e.items).map(e=>e.webkitGetAsEntry())).map(e=>(async function e(t,n){if(n.isDirectory){const t=await(o=n,new Promise(function(e,t){o.createReader().readEntries(e,t)})),r=se(t).map(t=>e(n.fullPath,t));return Promise.all(r)}{const e=await function(e){return new Promise(function(t,n){e.file(t,n)})}(n);return e._path=t,e}var o})("",e));return ie(await Promise.all(t))}(e):Promise.resolve(se(Array.from(e.files)))}function ie(e){return e.reduce((e,t)=>Array.isArray(t)?e.concat(ie(t)):(e.push(t),e),[])}function se(e){return Array.from(e).filter(e=>!function(e){return e.name.startsWith(".")}(e))}class FileAttachmentElement extends HTMLElement{constructor(){super(),this.addEventListener("dragenter",de),this.addEventListener("dragover",de),this.addEventListener("dragleave",fe),this.addEventListener("drop",me),this.addEventListener("paste",pe)}connectedCallback(){}get directory(){return this.hasAttribute("directory")}set directory(e){e?this.setAttribute("directory",""):this.removeAttribute("directory")}upload(e){ae(e,this)}}function ae(e,n){Q(new t(e),n)}function ce(e){return Array.from(e.types).indexOf("Files")>=0}function le(e){switch(e){case"image/gif":return"image.gif";case"image/png":return"image.png";case"image/jpeg":return"image.jpg"}}window.customElements.get("file-attachment")||(window.FileAttachmentElement=FileAttachmentElement,window.customElements.define("file-attachment",FileAttachmentElement));let ue=null;function de(e){const t=e.currentTarget;if(!(t instanceof Element))throw new Error("invariant: app/assets/modules/github/file-attachment-element.js:77");ue&&clearTimeout(ue),ue=setTimeout(()=>t.classList.remove("dragover"),200);const n=e.dataTransfer;n&&ce(n)&&(n.dropEffect="copy",t.classList.add("dragover"),e.stopPropagation(),e.preventDefault())}function fe(e){if(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),!(e.currentTarget instanceof Element))throw new Error("invariant: app/assets/modules/github/file-attachment-element.js:98");e.currentTarget.classList.remove("dragover"),e.stopPropagation(),e.preventDefault()}function me(e){const t=e.currentTarget;if(!(t instanceof Element))return;t.classList.remove("dragover");const n=e.dataTransfer;n&&ce(n)&&(!async function(e,t){const n=await re(t,e.hasAttribute("directory"));n.length?!x(e,"upload:drop:setup",{upload:ae.bind(null,n),files:n})||ae(n,e):J(e,"is-hidden-file")}(t,n),e.stopPropagation(),e.preventDefault())}function pe(e){if(!e.clipboardData)return;if(!e.clipboardData.items)return;const t=e.currentTarget;if(!(t instanceof Element))return;const n=Array.from(e.clipboardData.items).map(e=>[e,le(e.type)]).filter(e=>e[1]).shift();if(!n)return;const[o]=n,r=o.getAsFile();r&&(ae([r],t),e.preventDefault())}function he(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent);const t=getSelection();if(null==t)return Promise.reject(new Error);t.removeAllRanges();const n=document.createRange();return n.selectNodeContents(e),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}function ge(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);const t=document.body;if(!t)return Promise.reject(new Error);const n=function(e){const t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}(e);return t.appendChild(n),he(n),t.removeChild(n),Promise.resolve()}function ve(e){const t=e.getAttribute("for"),n=e.getAttribute("value");function o(){e.dispatchEvent(new CustomEvent("clipboard-copy",{bubbles:!0}))}if(n)ge(n).then(o);else if(t){const n=e.ownerDocument.getElementById(t);n&&(r=n,r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement?"hidden"===r.type?ge(r.value):function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.value);e.select(),document.execCommand("copy");const t=getSelection();return null!=t&&t.removeAllRanges(),Promise.resolve()}(r):r instanceof HTMLAnchorElement&&r.hasAttribute("href")?ge(r.href):he(r)).then(o)}var r}function we(e){const t=e.currentTarget;t instanceof HTMLElement&&ve(t)}function be(e){if(" "===e.key||"Enter"===e.key){const t=e.currentTarget;t instanceof HTMLElement&&(e.preventDefault(),ve(t))}}function ye(e){e.currentTarget.addEventListener("keydown",be)}function Ee(e){e.currentTarget.removeEventListener("keydown",be)}class ClipboardCopyElement extends HTMLElement{constructor(){super(),this.addEventListener("click",we),this.addEventListener("focus",ye),this.addEventListener("blur",Ee)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}get value(){return this.getAttribute("value")||""}set value(e){this.setAttribute("value",e)}}window.customElements.get("clipboard-copy")||(window.ClipboardCopyElement=ClipboardCopyElement,window.customElements.define("clipboard-copy",ClipboardCopyElement));const Le="data-close-dialog",Te="[".concat(Le,"]");function je(e){let t=e.querySelector("[autofocus]");t||(t=e,e.setAttribute("tabindex","-1")),t.focus()}function ke(e){const t=e.currentTarget;t instanceof Element&&("Escape"===e.key||"Esc"===e.key?(Ce(t,!1),e.stopPropagation()):"Tab"===e.key&&function(e){if(!(e.currentTarget instanceof Element))return;const t=e.currentTarget.querySelector("details-dialog");if(!t)return;e.preventDefault();const n=Array.from(t.querySelectorAll("*")).filter(xe);if(0===n.length)return;const o=e.shiftKey?-1:1,r=n.filter(e=>e.matches(":focus"))[0];let i=0;if(r){const e=n.indexOf(r);if(-1!==e){const t=e+o;t>=0&&(i=t%n.length)}}n[i].focus()}(e))}function xe(e){return e.tabIndex>=0&&!e.disabled&&!e.hidden&&(!e.type||"hidden"!==e.type)&&!e.closest("[hidden]")}function Ae(e){const t=e.querySelector("details-dialog");return!(t instanceof DetailsDialogElement)||t.dispatchEvent(new CustomEvent("details-dialog-close",{bubbles:!0,cancelable:!0}))}function Me(e){if(!(e.currentTarget instanceof Element))return;const t=e.currentTarget.closest("details[open]");t&&(Ae(t)||(e.preventDefault(),e.stopPropagation()))}function Se(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-dialog");if(n instanceof DetailsDialogElement)if(t.hasAttribute("open"))document.activeElement&&De.set(n,{details:t,activeElement:document.activeElement}),je(n),t.addEventListener("keydown",ke);else{for(const t of n.querySelectorAll("form"))t instanceof HTMLFormElement&&t.reset();const e=function(e,t){const n=De.get(t);return n&&n.activeElement instanceof HTMLElement?n.activeElement:e.querySelector("summary")}(t,n);e&&e.focus(),t.removeEventListener("keydown",ke)}}function Ce(e,t){t!==e.hasAttribute("open")&&(t?e.setAttribute("open",""):Ae(e)&&e.removeAttribute("open"))}function He(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-dialog");if(!(n instanceof DetailsDialogElement))return;const o=n.querySelector("include-fragment:not([src])");if(!o)return;const r=n.src;null!==r&&(o.addEventListener("loadend",()=>{t.hasAttribute("open")&&je(n)}),o.setAttribute("src",r))}function qe(e,t,n){Ie(e),t&&e.addEventListener("toggle",He,{once:!0}),t&&n&&e.addEventListener("mouseover",He,{once:!0})}function Ie(e){e.removeEventListener("toggle",He),e.removeEventListener("mouseover",He)}const De=new WeakMap;class DetailsDialogElement extends HTMLElement{static get CLOSE_ATTR(){return Le}static get CLOSE_SELECTOR(){return Te}constructor(){super(),De.set(this,{details:null,activeElement:null}),this.addEventListener("click",function(e){let{target:t}=e;if(!(t instanceof Element))return;const n=t.closest("details");n&&t.closest(Te)&&Ce(n,!1)})}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e)}get preload(){return this.hasAttribute("preload")}set preload(e){e?this.setAttribute("preload",""):this.removeAttribute("preload")}connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true");const e=De.get(this);if(!e)return;const t=this.parentElement;if(!t)return;const n=t.querySelector("summary");n&&(n.hasAttribute("role")||n.setAttribute("role","button"),n.addEventListener("click",Me,{capture:!0})),t.addEventListener("toggle",Se),e.details=t,qe(t,this.src,this.preload)}disconnectedCallback(){const e=De.get(this);if(!e)return;const{details:t}=e;if(!t)return;t.removeEventListener("toggle",Se),Ie(t);const n=t.querySelector("summary");n&&n.removeEventListener("click",Me,{capture:!0}),e.details=null}toggle(e){const t=De.get(this);if(!t)return;const{details:n}=t;n&&Ce(n,e)}static get observedAttributes(){return["src","preload"]}attributeChangedCallback(){const e=De.get(this);if(!e)return;const{details:t}=e;t&&qe(t,this.src,this.preload)}}window.customElements.get("details-dialog")||(window.DetailsDialogElement=DetailsDialogElement,window.customElements.define("details-dialog",DetailsDialogElement));class DetailsMenuElement extends HTMLElement{constructor(){super()}get preload(){return this.hasAttribute("preload")}set preload(e){e?this.setAttribute("preload",""):this.removeAttribute("preload")}get src(){return this.getAttribute("src")||""}set src(e){this.setAttribute("src",e)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","menu");const e=this.parentElement;if(!e)return;const t=e.querySelector("summary");t&&(t.setAttribute("aria-haspopup","menu"),t.hasAttribute("role")||t.setAttribute("role","button")),e.addEventListener("click",$e),e.addEventListener("change",$e),e.addEventListener("keydown",We),e.addEventListener("toggle",Oe,{once:!0}),e.addEventListener("toggle",Pe),this.preload&&e.addEventListener("mouseover",Oe,{once:!0});const n=[Ne(e)];_e.set(this,{details:e,subscriptions:n,loaded:!1})}disconnectedCallback(){const e=_e.get(this);if(!e)return;_e.delete(this);const t=e.details,n=e.subscriptions;for(const o of n)o.unsubscribe();t.removeEventListener("click",$e),t.removeEventListener("change",$e),t.removeEventListener("keydown",We),t.removeEventListener("toggle",Oe,{once:!0}),t.removeEventListener("toggle",Pe),t.removeEventListener("mouseover",Oe,{once:!0})}}const _e=new WeakMap;function Oe(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-menu");if(!n)return;const o=n.getAttribute("src");if(!o)return;const r=_e.get(n);if(!r)return;if(r.loaded)return;r.loaded=!0;const i=n.querySelector("include-fragment");i&&!i.hasAttribute("src")&&(i.addEventListener("loadend",()=>Re(t)),i.setAttribute("src",o))}function Ne(e){let t=!1;const n=()=>t=!0,o=()=>t=!1,r=()=>{e.hasAttribute("open")&&(Re(e)||t||function(e){const t=document.activeElement;if(t&&Ve(t)&&e.contains(t))return;const n=Be(e,!0);n&&n.focus()}(e))};return e.addEventListener("mousedown",n),e.addEventListener("keydown",o),e.addEventListener("toggle",r),{unsubscribe:()=>{e.removeEventListener("mousedown",n),e.removeEventListener("keydown",o),e.removeEventListener("toggle",r)}}}function Pe(e){const t=e.currentTarget;if(t instanceof Element&&t.hasAttribute("open"))for(const n of document.querySelectorAll("details[open] > details-menu")){const e=n.closest("details");e&&e!==t&&!e.contains(t)&&e.removeAttribute("open")}}function Re(e){if(!e.hasAttribute("open"))return!1;const t=e.querySelector("[autofocus]");return!!t&&(t.focus(),!0)}function Be(e,t){const n=Array.from(e.querySelectorAll('[role^="menuitem"]:not([hidden]):not([disabled]):not([aria-disabled="true"])')),o=document.activeElement,r=n.indexOf(o),i=t?n[r+1]:n[r-1],s=t?n[0]:n[n.length-1];return i||s}const Fe=navigator.userAgent.match(/Macintosh/);function $e(e){const t=e.target;if(!(t instanceof Element))return;const n=e.currentTarget;if(n instanceof Element&&t.closest("details")===n)if("click"===e.type){const e=t.closest('[role="menuitem"], [role="menuitemradio"]'),o=e&&"LABEL"===e.tagName&&e.querySelector("input");e&&!o&&Ue(e,n)}else if("change"===e.type){const e=t.closest('[role="menuitemradio"], [role="menuitemcheckbox"]');e&&Ue(e,n)}}function Ue(e,t){if(e.hasAttribute("disabled")||"true"===e.getAttribute("aria-disabled"))return;const n=e.closest("details-menu");n&&n.dispatchEvent(new CustomEvent("details-menu-select",{cancelable:!0,detail:{relatedTarget:e}}))&&(!function(e,t){const n=t.querySelector("[data-menu-button]");if(!n)return;const o=function(e){if(!e)return null;const t=e.hasAttribute("data-menu-button-text")?e:e.querySelector("[data-menu-button-text]");return t?t.getAttribute("data-menu-button-text")||t.textContent:null}(e);if(o)n.textContent=o;else{const t=function(e){if(!e)return null;const t=e.hasAttribute("data-menu-button-contents")?e:e.querySelector("[data-menu-button-contents]");return t?t.innerHTML:null}(e);t&&(n.innerHTML=t)}}(e,t),function(e,t){for(const n of t.querySelectorAll('[role="menuitemradio"], [role="menuitemcheckbox"]')){const t=n.querySelector('input[type="radio"], input[type="checkbox"]');let o=n===e;t instanceof HTMLInputElement&&(o=t.indeterminate?"mixed":t.checked),n.setAttribute("aria-checked",o.toString())}}(e,t),"menuitemcheckbox"!==e.getAttribute("role")&&ze(t),n.dispatchEvent(new CustomEvent("details-menu-selected",{detail:{relatedTarget:e}})))}function We(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=e.target instanceof Element&&"SUMMARY"===e.target.tagName;if(!t.querySelector("details[open]"))switch(e.key){case"Escape":t.hasAttribute("open")&&(ze(t),e.preventDefault(),e.stopPropagation());break;case"ArrowDown":{n&&!t.hasAttribute("open")&&t.setAttribute("open","");const o=Be(t,!0);o&&o.focus(),e.preventDefault()}break;case"ArrowUp":{n&&!t.hasAttribute("open")&&t.setAttribute("open","");const o=Be(t,!1);o&&o.focus(),e.preventDefault()}break;case"n":if(Fe&&e.ctrlKey){const n=Be(t,!0);n&&n.focus(),e.preventDefault()}break;case"p":if(Fe&&e.ctrlKey){const n=Be(t,!1);n&&n.focus(),e.preventDefault()}break;case" ":case"Enter":{const n=document.activeElement;n&&Ve(n)&&n.closest("details")===t&&(e.preventDefault(),e.stopPropagation(),n.click())}}}function Ve(e){const t=e.getAttribute("role");return"menuitem"===t||"menuitemcheckbox"===t||"menuitemradio"===t}function ze(e){e.removeAttribute("open");const t=e.querySelector("summary");t&&t.focus()}window.customElements.get("details-menu")||(window.DetailsMenuElement=DetailsMenuElement,window.customElements.define("details-menu",DetailsMenuElement));const Xe=new Set(["👋","🤚","🖐️","✋","🖖","👌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🙏","✍️","💅","🤳","💪","🦵","🦶","👂","🦻","👃","👶","🧒","👦","👧","🧑","👱","👨","🧔","👱‍♂️","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👱‍♀️","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","🧓","👴","👵","🙍","🙍‍♂️","🙍‍♀️","🙎","🙎‍♂️","🙎‍♀️","🙅","🙅‍♂️","🙅‍♀️","🙆","🙆‍♂️","🙆‍♀️","💁","💁‍♂️","💁‍♀️","🙋","🙋‍♂️","🙋‍♀️","🧏","🧏‍♂️","🧏‍♀️","🙇","🙇‍♂️","🙇‍♀️","🤦","🤦‍♂️","🤦‍♀️","🤷","🤷‍♂️","🤷‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮","👮‍♂️","👮‍♀️","🕵️","🕵️‍♂️","🕵️‍♀️","💂","💂‍♂️","💂‍♀️","👷","👷‍♂️","👷‍♀️","🤴","👸","👳","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","👼","🎅","🤶","🦸","🦸‍♂️","🦸‍♀️","🦹","🦹‍♂️","🦹‍♀️","🧙","🧙‍♂️","🧙‍♀️","🧚","🧚‍♂️","🧚‍♀️","🧛","🧛‍♂️","🧛‍♀️","🧜","🧜‍♂️","🧜‍♀️","🧝","🧝‍♂️","🧝‍♀️","💆","💆‍♂️","💆‍♀️","💇","💇‍♂️","💇‍♀️","🚶","🚶‍♂️","🚶‍♀️","🧍","🧍‍♂️","🧍‍♀️","🧎","🧎‍♂️","🧎‍♀️","👨‍🦯","👩‍🦯","👨‍🦼","👩‍🦼","👨‍🦽","👩‍🦽","🏃","🏃‍♂️","🏃‍♀️","💃","🕺","🕴️","🧖","🧖‍♂️","🧖‍♀️","🧗","🧗‍♂️","🧗‍♀️","🏇","🏂","🏌️","🏌️‍♂️","🏌️‍♀️","🏄","🏄‍♂️","🏄‍♀️","🚣","🚣‍♂️","🚣‍♀️","🏊","🏊‍♂️","🏊‍♀️","⛹️","⛹️‍♂️","⛹️‍♀️","🏋️","🏋️‍♂️","🏋️‍♀️","🚴","🚴‍♂️","🚴‍♀️","🚵","🚵‍♂️","🚵‍♀️","🤸","🤸‍♂️","🤸‍♀️","🤽","🤽‍♂️","🤽‍♀️","🤾","🤾‍♂️","🤾‍♀️","🤹","🤹‍♂️","🤹‍♀️","🧘","🧘‍♂️","🧘‍♀️","🛀","🛌","🧑‍🤝‍🧑","👭","👫","👬"]);function Ke(e){return Xe.has(e)}const Ge="‍",Ye=65039;function Je(e){return[...e].filter(e=>!Qe(e.codePointAt(0))).join("")}function Ze(e,t){const n=[...e].map(e=>e.codePointAt(0));return n[1]&&(Qe(n[1])||n[1]===Ye)?n[1]=t:n.splice(1,0,t),String.fromCodePoint(...n)}function Qe(e){return e>=127995&&e<=127999}function et(e){switch(e){case 1:return 127995;case 2:return 127996;case 3:return 127997;case 4:return 127998;case 5:return 127999;default:return null}}class GEmojiElement extends HTMLElement{get image(){return this.firstElementChild instanceof HTMLImageElement?this.firstElementChild:null}get tone(){return(this.getAttribute("tone")||"").split(" ").map(e=>{const t=parseInt(e,10);return t>=0&&t<=5?t:0}).join(" ")}set tone(e){this.setAttribute("tone",e)}connectedCallback(){if(null===this.image&&!function(){const e=/\bWindows NT 6.1\b/.test(navigator.userAgent),t=/\bWindows NT 6.2\b/.test(navigator.userAgent),n=/\bWindows NT 6.3\b/.test(navigator.userAgent),o=/\bFreeBSD\b/.test(navigator.userAgent),r=/\bLinux\b/.test(navigator.userAgent);return!(e||t||n||r||o)}()){this.textContent="";const e=function(e){const t=document.createElement("img");return t.className="emoji",t.alt=e.getAttribute("alias")||"",t.height=20,t.width=20,t}(this);e.src=this.getAttribute("fallback-src")||"",this.appendChild(e)}this.hasAttribute("tone")&&tt(this)}static get observedAttributes(){return["tone"]}attributeChangedCallback(e){switch(e){case"tone":tt(this)}}}function tt(e){if(e.image)return;const t=e.tone.split(" ").map(e=>parseInt(e,10));if(0===t.length)e.textContent=Je(e.textContent);else if(1===t.length){const n=t[0];e.textContent=0===n?Je(e.textContent):function(e,t){const n=Je(e);if(!Ke(n))return e;const o=et(t);return o?n.split(Ge).map(e=>Ke(e)?Ze(e,o):e).join(Ge):e}(e.textContent,n)}else e.textContent=function(e,t){const n=Je(e);if(!Ke(n))return e;const o=t.map(e=>et(e));return n.split(Ge).map(e=>{if(!Ke(e))return e;const t=o.shift();return t?Ze(e,t):e}).join(Ge)}(e.textContent,t)}window.customElements.get("g-emoji")||(window.GEmojiElement=GEmojiElement,window.customElements.define("g-emoji",GEmojiElement));const nt=new WeakMap;function ot(e,t){setTimeout(function(){t.dispatchEvent(new Event(e))},0)}function rt(e){return it(e).then(function(t){const n=e.parentNode;n&&(e.insertAdjacentHTML("afterend",t),n.removeChild(e))},function(){e.classList.add("is-error")})}function it(e){const t=e.src;let n=nt.get(e);return n&&n.src===t?n.data:(n=t?e.load():Promise.reject(new Error("missing src")),nt.set(e,{src:t,data:n}),n)}class IncludeFragmentElement extends HTMLElement{constructor(){super()}static get observedAttributes(){return["src"]}get src(){const e=this.getAttribute("src");if(e){const t=this.ownerDocument.createElement("a");return t.href=e,t.href}return""}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get data(){return it(this)}attributeChangedCallback(e){"src"===e&&this._attached&&rt(this)}connectedCallback(){this._attached=!0,this.src&&rt(this)}disconnectedCallback(){this._attached=!1}request(){const e=this.src;if(!e)throw new Error("missing src");return new Request(e,{method:"GET",credentials:"same-origin",headers:{Accept:"text/html"}})}load(){return Promise.resolve().then(()=>(ot("loadstart",this),this.fetch(this.request()))).then(e=>{if(200!==e.status)throw new Error("Failed to load resource: the server responded with a status of ".concat(e.status));const t=e.headers.get("Content-Type");if(!t||!t.match(/^text\/html/))throw new Error("Failed to load resource: expected text/html but was ".concat(t));return e}).then(e=>e.text()).then(e=>(ot("load",this),ot("loadend",this),e),e=>{throw ot("error",this),ot("loadend",this),e})}fetch(e){return fetch(e)}}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.customElements.get("include-fragment")||(window.IncludeFragmentElement=IncludeFragmentElement,window.customElements.define("include-fragment",IncludeFragmentElement));const at=new WeakMap;class MarkdownButtonElement extends HTMLElement{constructor(){super();const e=()=>{const e=at.get(this);e&&gt(this,e)};var t;this.addEventListener("keydown",(t=e,function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t(e))})),this.addEventListener("click",e)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}click(){const e=at.get(this);e&&gt(this,e)}}class MarkdownHeaderButtonElement extends MarkdownButtonElement{constructor(){super();const e=parseInt(this.getAttribute("level")||3,10);if(e<1||e>6)return;const t="".concat("#".repeat(e)," ");at.set(this,{prefix:t})}}window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=MarkdownHeaderButtonElement,window.customElements.define("md-header",MarkdownHeaderButtonElement));class MarkdownBoldButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","b")}}window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=MarkdownBoldButtonElement,window.customElements.define("md-bold",MarkdownBoldButtonElement));class MarkdownItalicButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","i")}}window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=MarkdownItalicButtonElement,window.customElements.define("md-italic",MarkdownItalicButtonElement));class MarkdownQuoteButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=MarkdownQuoteButtonElement,window.customElements.define("md-quote",MarkdownQuoteButtonElement));class MarkdownCodeButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}}window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=MarkdownCodeButtonElement,window.customElements.define("md-code",MarkdownCodeButtonElement));class MarkdownLinkButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","k")}}window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=MarkdownLinkButtonElement,window.customElements.define("md-link",MarkdownLinkButtonElement));class MarkdownImageButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}}window.customElements.get("md-image")||(window.MarkdownImageButtonElement=MarkdownImageButtonElement,window.customElements.define("md-image",MarkdownImageButtonElement));class MarkdownUnorderedListButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"- ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=MarkdownUnorderedListButtonElement,window.customElements.define("md-unordered-list",MarkdownUnorderedListButtonElement));class MarkdownOrderedListButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}}window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=MarkdownOrderedListButtonElement,window.customElements.define("md-ordered-list",MarkdownOrderedListButtonElement));class MarkdownTaskListButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","L")}}window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=MarkdownTaskListButtonElement,window.customElements.define("md-task-list",MarkdownTaskListButtonElement));class MarkdownMentionButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"@",prefixSpace:!0})}}window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=MarkdownMentionButtonElement,window.customElements.define("md-mention",MarkdownMentionButtonElement));class MarkdownRefButtonElement extends MarkdownButtonElement{constructor(){super(),at.set(this,{prefix:"#",prefixSpace:!0})}}window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=MarkdownRefButtonElement,window.customElements.define("md-ref",MarkdownRefButtonElement));const ct=navigator.userAgent.match(/Macintosh/)?"Meta":"Control";class MarkdownToolbarElement extends HTMLElement{constructor(){super()}connectedCallback(){const e=function(e,t){if(t.metaKey&&"Meta"===ct||t.ctrlKey&&"Control"===ct){const n=e.querySelector('[hotkey="'.concat(t.key,'"]'));n&&(n.click(),t.preventDefault())}}.bind(null,this);this.field&&(this.field.addEventListener("keydown",e),lt.set(this,e))}disconnectedCallback(){const e=lt.get(this);e&&this.field&&(this.field.removeEventListener("keydown",e),lt.delete(this))}get field(){const e=this.getAttribute("for");if(!e)return;const t=document.getElementById(e);return t instanceof HTMLTextAreaElement?t:null}}const lt=new WeakMap;function ut(e){return e.trim().split("\n").length>1}function dt(e,t){return Array(t+1).join(e)}function ft(e,t,n){let o=t;const r=n?/\n/:/\s/;for(;e[o]&&!e[o].match(r);)o++;return o}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=MarkdownToolbarElement,window.customElements.define("markdown-toolbar",MarkdownToolbarElement));let mt=null;function pt(e,t){const n=e.value.slice(e.selectionStart,e.selectionEnd);let o;o=t.orderedList?function(e){const t=/^\d+\.\s+/,n=e.selectionStart===e.selectionEnd;let o,r,i,s,a=e.value.slice(e.selectionStart,e.selectionEnd),c=a,l=a.split("\n");if(n){const t=e.value.slice(0,e.selectionStart).split(/\n/);i=e.selectionStart-t[t.length-1].length,s=ft(e.value,e.selectionStart,!0),c=e.value.slice(i,s)}const u=c.split("\n");if(u.every(e=>t.test(e))){if(l=u.map(e=>e.replace(t,"")),a=l.join("\n"),n&&i&&s){const t=u[0].length-l[0].length;r=o=e.selectionStart-t,e.selectionStart=i,e.selectionEnd=s}}else{l=function(){let e,t,n;const o=[];for(n=e=0,t=l.length;e<t;n=++e){const e=l[n];o.push("".concat(n+1,". ").concat(e))}return o}(),a=l.join("\n");const{newlinesToAppend:t,newlinesToPrepend:i}=ht(e);r=e.selectionStart+t.length,o=r+a.length,n&&(r=o),a=t+a+i}return{text:a,selectionStart:r,selectionEnd:o}}(e):t.multiline&&ut(n)?function(e,t){const{prefix:n,suffix:o,surroundWithNewlines:r}=t;let i=e.value.slice(e.selectionStart,e.selectionEnd),s=e.selectionStart,a=e.selectionEnd;const c=i.split("\n");if(c.every(e=>e.startsWith(n)&&e.endsWith(o)))i=c.map(e=>e.slice(n.length,e.length-o.length)).join("\n"),a=s+i.length;else if(i=c.map(e=>n+e+o).join("\n"),r){const{newlinesToAppend:t,newlinesToPrepend:n}=ht(e);s+=t.length,a=s+i.length,i=t+i+n}return{text:i,selectionStart:s,selectionEnd:a}}(e,t):function(e,t){let n,o;const{prefix:r,suffix:i,blockPrefix:s,blockSuffix:a,replaceNext:c,prefixSpace:l,scanFor:u,surroundWithNewlines:d}=t,f=e.selectionStart,m=e.selectionEnd;let p=e.value.slice(e.selectionStart,e.selectionEnd),h=ut(p)&&s.length>0?"".concat(s,"\n"):r,g=ut(p)&&a.length>0?"\n".concat(a):i;if(l){const t=e.value[e.selectionStart-1];0===e.selectionStart||null==t||t.match(/\s/)||(h=" ".concat(h))}p=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.selectionStart===e.selectionEnd)e.selectionStart=function(e,t){let n=t;for(;e[n]&&null!=e[n-1]&&!e[n-1].match(/\s/);)n--;return n}(e.value,e.selectionStart),e.selectionEnd=ft(e.value,e.selectionEnd,o);else{const o=e.selectionStart-t.length,r=e.selectionEnd+n.length,i=e.value.slice(o,e.selectionStart)===t,s=e.value.slice(e.selectionEnd,r)===n;i&&s&&(e.selectionStart=o,e.selectionEnd=r)}return e.value.slice(e.selectionStart,e.selectionEnd)}(e,h,g,t.multiline);let v=e.selectionStart,w=e.selectionEnd;const b=c.length>0&&g.indexOf(c)>-1&&p.length>0;if(d){const t=ht(e);n=t.newlinesToAppend,o=t.newlinesToPrepend,h=n+r,g+=o}if(p.startsWith(h)&&p.endsWith(g)){const e=p.slice(h.length,p.length-g.length);if(f===m){let t=f-h.length;t=Math.max(t,v),t=Math.min(t,v+e.length),v=w=t}else w=v+e.length;return{text:e,selectionStart:v,selectionEnd:w}}if(b){if(u.length>0&&p.match(u)){g=g.replace(c,p);const e=h+g;return v=w=v+h.length,{text:e,selectionStart:v,selectionEnd:w}}{const e=h+p+g;return v=v+h.length+p.length+g.indexOf(c),w=v+c.length,{text:e,selectionStart:v,selectionEnd:w}}}{let e=h+p+g;v=f+h.length,w=m+h.length;const n=p.match(/^\s*|\s*$/g);if(t.trimFirst&&n){const t=n[0]||"",o=n[1]||"";e=t+h+p.trim()+g+o,v+=t.length,w-=o.length}return{text:e,selectionStart:v,selectionEnd:w}}}(e,t),function(e,t){let{text:n,selectionStart:o,selectionEnd:r}=t;const i=e.selectionStart,s=e.value.slice(0,i),a=e.value.slice(e.selectionEnd);if(null===mt||!0===mt){e.contentEditable="true";try{mt=document.execCommand("insertText",!1,n)}catch(c){mt=!1}e.contentEditable="false"}if(mt&&!e.value.slice(0,e.selectionStart).endsWith(n)&&(mt=!1),!mt){try{document.execCommand("ms-beginUndoUnit")}catch(l){}e.value=s+n+a;try{document.execCommand("ms-endUndoUnit")}catch(l){}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=o&&null!=r?e.setSelectionRange(o,r):e.setSelectionRange(i,e.selectionEnd)}(e,o)}function ht(e){const t=e.value.slice(0,e.selectionStart),n=e.value.slice(e.selectionEnd),o=t.match(/\n*$/),r=n.match(/^\n*/),i=o?o[0].length:0,s=r?r[0].length:0;let a,c;return t.match(/\S/)&&i<2&&(a=dt("\n",2-i)),n.match(/\S/)&&s<2&&(c=dt("\n",2-s)),null==a&&(a=""),null==c&&(c=""),{newlinesToAppend:a,newlinesToPrepend:c}}function gt(e,t){const n=e.closest("markdown-toolbar");if(!(n instanceof MarkdownToolbarElement))return;const o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){st(e,t,n[t])})}return e}({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1},t),r=n.field;r&&(r.focus(),pt(r,o))}function vt(e){if(null===e.parentNode||!(e.parentNode instanceof HTMLElement))throw new Error;for(var t=e.parentNode.children,n=0;n<t.length;++n)if(t[n]===e)return n;return 0}var wt=0;function bt(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var yt={INPUT:function(e){return e instanceof HTMLInputElement&&e.checked?"[x] ":"[ ] "},CODE:function(e){var t=e.textContent;return e.parentNode&&"PRE"===e.parentNode.nodeName?(e.textContent="```\n".concat(t.replace(/\n+$/,""),"\n```\n\n"),e):t.indexOf("`")>=0?"`` ".concat(t," ``"):"`".concat(t,"`")},STRONG:function(e){return"**".concat(e.textContent,"**")},EM:function(e){return"_".concat(e.textContent,"_")},DEL:function(e){return"~".concat(e.textContent,"~")},BLOCKQUOTE:function(e){var t=e.textContent.trim().replace(/^/gm,"> "),n=document.createElement("pre");return n.textContent="".concat(t,"\n\n"),n},A:function(e){var t=e.textContent,n=e.getAttribute("href");return/^https?:/.test(t)&&t===n?t:n?"[".concat(t,"](").concat(n,")"):t},IMG:function(e){var t=e.getAttribute("alt")||"",n=e.getAttribute("src");if(!n)throw new Error;var o=e.hasAttribute("width")?' width="'.concat(bt(e.getAttribute("width")||""),'"'):"",r=e.hasAttribute("height")?' height="'.concat(bt(e.getAttribute("height")||""),'"'):"";return o||r?'<img alt="'.concat(bt(t),'"').concat(o).concat(r,' src="').concat(bt(n),'">'):"![".concat(t,"](").concat(n,")")},LI:function(e){var t=e.parentNode;if(!t)throw new Error;var n,o,r,i="";if(o=(n=e).childNodes[0],r=n.childNodes[1],!(o&&n.childNodes.length<3)||("OL"!==o.nodeName&&"UL"!==o.nodeName||r&&(r.nodeType!==Node.TEXT_NODE||r.textContent.trim())))if("OL"===t.nodeName)if(wt>0&&!t.previousSibling){var s=vt(e)+wt+1;i="".concat(s,"\\. ")}else i="".concat(vt(e)+1,". ");else i="* ";var a=i.replace(/\S/g," "),c=e.textContent.trim().replace(/^/gm,a),l=document.createElement("pre");return l.textContent=c.replace(a,i),l},OL:function(e){var t=document.createElement("li");return t.appendChild(document.createElement("br")),e.append(t),e},H1:function(e){var t=parseInt(e.nodeName.slice(1));return e.prepend("".concat(Array(t+1).join("#")," ")),e},UL:function(e){return e}};yt.UL=yt.OL;for(var Et=2;Et<=6;++Et)yt["H".concat(Et)]=yt.H1;function Lt(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,function(e){return e.nodeName in yt&&!function(e){return e instanceof HTMLAnchorElement&&1===e.childNodes.length&&e.childNodes[0]instanceof HTMLImageElement&&e.childNodes[0].src===e.href}(e)&&(function(e){return"IMG"===e.nodeName||null!=e.firstChild}(e)||function(e){return"INPUT"===e.nodeName&&e instanceof HTMLInputElement&&"checkbox"===e.type}(e))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),n=[],o=t.nextNode();o;)o instanceof HTMLElement&&n.push(o),o=t.nextNode();n.reverse();for(var r=0;r<n.length;r++)(o=n[r]).replaceWith(yt[o.nodeName](o))}var Tt=new WeakMap,jt=0,kt=/\bEdge\//.test(navigator.userAgent);function xt(e,t){return function(e,t){var n=0===jt;jt+=Tt.has(e)?0:1;var o=Object.assign({quoteMarkdown:!1,copyMarkdown:!1,scopeSelector:""},t);Tt.set(e,o),n&&document.addEventListener("keydown",Ct);o.copyMarkdown&&e.addEventListener("copy",At)}(e,t),{unsubscribe:function(){!function(e){var t=Tt.get(e);if(null==t)return;Tt.delete(e),0==(jt-=1)&&document.removeEventListener("keydown",Ct);t.copyMarkdown&&e.removeEventListener("copy",At)}(e)}}}function At(e){var t=e.target;if(t instanceof HTMLElement&&!It(t)){var n=e.clipboardData;if(n){var o,r=window.getSelection();try{o=r.getRangeAt(0)}catch(a){return}var i=r.toString(),s=qt(i,o,!0);s&&(n.setData("text/plain",i),n.setData("text/x-gfm",s.selectionText),e.preventDefault(),r.removeAllRanges(),r.addRange(o))}}}function Mt(e){for(var t=e;t=t.parentElement;)if(Tt.has(t))return t}function St(e){var t,n=!0,o=!1,r=void 0;try{for(var i,s=e.querySelectorAll("textarea")[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;if(a instanceof HTMLTextAreaElement&&!((t=a).offsetWidth<=0&&t.offsetHeight<=0))return a}}catch(c){o=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}}function Ct(e){if(!function(e){return e.defaultPrevented||"r"!==e.key||e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||e.target instanceof HTMLElement&&It(e.target)}(e)){var t,n=window.getSelection();try{t=n.getRangeAt(0)}catch(o){return}Ht(n.toString(),t)&&e.preventDefault()}}function Ht(e,t){var n=qt(e,t,!1);if(!n)return!1;var o=n.container,r=n.selectionText;if(!o.dispatchEvent(new CustomEvent("quote-selection",{bubbles:!0,cancelable:!0,detail:{range:t,selectionText:r}})))return!0;var i=St(o);return!!i&&(function(e,t){var n="> ".concat(e.replace(/\n/g,"\n> "),"\n\n");t.value&&(n="".concat(t.value,"\n\n").concat(n));t.value=n,t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),t.focus(),t.selectionStart=t.value.length,t.scrollTop=t.scrollHeight}(r,i),!0)}function qt(e,t,n){var o=e.trim();if(o){var r=t.startContainer;if(r&&(r.nodeType!==Node.ELEMENT_NODE&&(r=r.parentNode),r instanceof Element)){var i=Mt(r);if(i){var s=Tt.get(i);if(s){if(s.quoteMarkdown&&!kt)try{var a=function(e,t){var n=e.startContainer;if(!(n&&n.parentNode&&n.parentNode instanceof HTMLElement))throw new Error("the range must start within an HTMLElement");var o=n.parentNode,r=e.cloneContents();if(t){var i=r.querySelector(t);i&&(r=document.createDocumentFragment()).appendChild(i)}wt=0;var s=o.closest("li");if(o.closest("pre")){var a=document.createElement("pre");a.appendChild(r),(r=document.createDocumentFragment()).appendChild(a)}else if(s&&s.parentNode&&("OL"===s.parentNode.nodeName&&(wt=vt(s)),!r.querySelector("li"))){var c=document.createElement("li");if(!s.parentNode)throw new Error;var l=document.createElement(s.parentNode.nodeName);c.appendChild(r),l.appendChild(c),(r=document.createDocumentFragment()).appendChild(l)}return r}(t,s.scopeSelector);i.dispatchEvent(new CustomEvent("quote-selection-markdown",{bubbles:!0,cancelable:!1,detail:{fragment:a,range:t,unwrap:n}})),Lt(a),o=function(e){var t=document.body;if(!t)return"";var n=document.createElement("div");n.appendChild(e),n.style.cssText="position:absolute;left:-9999px;",t.appendChild(n);var o="";try{var r=window.getSelection(),i=document.createRange();i.selectNodeContents(n),r.removeAllRanges(),r.addRange(i),o=r.toString(),r.removeAllRanges(),i.detach()}finally{t.removeChild(n)}return o}(a).replace(/^\n+/,"").replace(/\s+$/,"")}catch(c){setTimeout(function(){throw c})}return{selectionText:o,container:i}}}}}}function It(e){var t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}function Dt(e,t){(function(e,t){const n=e.scrollTop,o=n+e.clientHeight,r=t.offsetTop,i=r+t.clientHeight;return r>=n&&i<=o})(e,t)||(e.scrollTop=t.offsetTop)}let _t=!1;const Ot=!!navigator.userAgent.match(/Macintosh/);function Nt(e){if(e.shiftKey||e.metaKey||e.altKey)return;const t=e.currentTarget;if(!(t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement))return;if(_t)return;const n=document.getElementById(t.getAttribute("aria-owns")||"");if(n)switch(e.key){case"Enter":case"Tab":(function(e,t){const n=t.querySelector('[aria-selected="true"]');return!(!n||"true"!==n.getAttribute("aria-disabled")&&(n.click(),0))})(0,n)&&e.preventDefault();break;case"Escape":Bt(t,n);break;case"ArrowDown":Rt(t,n,1),e.preventDefault();break;case"ArrowUp":Rt(t,n,-1),e.preventDefault();break;case"n":Ot&&e.ctrlKey&&(Rt(t,n,1),e.preventDefault());break;case"p":Ot&&e.ctrlKey&&(Rt(t,n,-1),e.preventDefault())}}function Pt(e){if(!(e.target instanceof Element))return;const t=e.target.closest('[role="option"]');t&&"true"!==t.getAttribute("aria-disabled")&&function(e){e.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0}))}(t)}function Rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const o=t.querySelector('[aria-selected="true"]'),r=Array.from(t.querySelectorAll('[role="option"]')),i=r.indexOf(o);let s=1===n?0:r.length-1;if(o&&i>=0){const e=i+n;e>=0&&e<r.length&&(s=e)}const a=r[s];if(a)for(const c of r)a===c?(e.setAttribute("aria-activedescendant",a.id),a.setAttribute("aria-selected","true"),Dt(t,a)):c.setAttribute("aria-selected","false")}function Bt(e,t){e.removeAttribute("aria-activedescendant");for(const n of t.querySelectorAll('[aria-selected="true"]'))n.setAttribute("aria-selected","false")}function Ft(e){const t=e.currentTarget;if(!(t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement))return;_t="compositionstart"===e.type;const n=document.getElementById(t.getAttribute("aria-owns")||"");n&&Bt(t,n)}const $t=/\s|\(|\[/;function Ut(e,t,n){const o=e.lastIndexOf(t,n-1);if(-1===o)return;if(e.lastIndexOf(" ",n-1)>o)return;const r=e[o-1];return!r||$t.test(r)?{word:e.substring(o+t.length,n),position:o+t.length}:void 0}const Wt=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],Vt=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],zt=new WeakMap;function Xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selectionEnd;const{mirror:n,marker:o}=function(e,t){const n=e.nodeName.toLowerCase();if("textarea"!==n&&"input"!==n)throw new Error("expected textField to a textarea or input");let o=zt.get(e);if(o&&o.parentElement===e.parentElement)o.innerHTML="";else{o=document.createElement("div"),zt.set(e,o);const t=window.getComputedStyle(e),r=Wt.slice(0);"textarea"===n?r.push("white-space:pre-wrap;"):r.push("white-space:nowrap;");for(let e=0,n=Vt.length;e<n;e++){const n=Vt[e];r.push("".concat(n,":").concat(t.getPropertyValue(n),";"))}o.style.cssText=r.join(" ")}const r=document.createElement("span");let i,s;if(r.style.cssText="position: absolute;",r.innerHTML="&nbsp;","number"==typeof t){let n=e.value.substring(0,t);n&&(i=document.createTextNode(n)),(n=e.value.substring(t))&&(s=document.createTextNode(n))}else{const t=e.value;t&&(i=document.createTextNode(t))}if(i&&o.appendChild(i),o.appendChild(r),s&&o.appendChild(s),!o.parentElement){if(!e.parentElement)throw new Error("textField must have a parentElement to mirror");e.parentElement.insertBefore(o,e)}return o.scrollTop=e.scrollTop,o.scrollLeft=e.scrollLeft,{mirror:o,marker:r}}(e,t),r=n.getBoundingClientRect(),i=o.getBoundingClientRect();return setTimeout(()=>{n.remove()},5e3),{top:i.top-r.top,left:i.left-r.left}}const Kt=new WeakMap;class Gt{constructor(e,t){this.expander=e,this.input=t,this.menu=null,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithList=!1,t.addEventListener("paste",this.onpaste),t.addEventListener("input",this.oninput),t.addEventListener("keydown",this.onkeydown),t.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}activate(e,t){if(this.input!==document.activeElement)return;this.deactivate(),this.menu=t,t.id||(t.id="text-expander-".concat(Math.floor(1e5*Math.random()).toString())),this.input.setAttribute("aria-owns",t.id),this.expander.append(t);const{top:n,left:o}=Xt(this.input,e.position);var r,i;t.style.top="".concat(n,"px"),t.style.left="".concat(o,"px"),r=this.input,i=t,r.addEventListener("compositionstart",Ft),r.addEventListener("compositionend",Ft),r.addEventListener("keydown",Nt),i.addEventListener("click",Pt),t.addEventListener("combobox-commit",this.oncommit),t.addEventListener("mousedown",this.onmousedown),Bt(this.input,t),Rt(this.input,t)}deactivate(){const e=this.menu;var t,n;e&&(this.menu=null,e.removeEventListener("combobox-commit",this.oncommit),e.removeEventListener("mousedown",this.onmousedown),t=this.input,n=e,t.removeAttribute("aria-activedescendant"),t.removeEventListener("compositionstart",Ft),t.removeEventListener("compositionend",Ft),t.removeEventListener("keydown",Nt),n.removeEventListener("click",Pt),this.input.removeAttribute("aria-owns"),e.remove())}onCommit(e){let{target:t}=e;const n=t;if(!(n instanceof HTMLElement))return;const o=this.match;if(!o)return;const r=this.input.value.substring(0,o.position-o.key.length),i=this.input.value.substring(o.position+o.text.length),s={item:n,key:o.key,value:null};if(!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:s})))return;if(!s.value)return;const a="".concat(s.value," ");this.input.value=r+a+i,this.deactivate(),this.input.focus();const c=r.length+a.length;this.input.selectionStart=c,this.input.selectionEnd=c}onBlur(){this.interactingWithList?this.interactingWithList=!1:this.deactivate()}onPaste(){this.justPasted=!0}async onInput(){if(this.justPasted)return void(this.justPasted=!1);const e=this.findMatch();if(e){this.match=e;const t=await this.notifyProviders(e);if(!this.match)return;t?this.activate(e,t):this.deactivate()}else this.match=null,this.deactivate()}findMatch(){const e=this.input.selectionEnd,t=this.input.value;for(const n of this.expander.keys){const o=Ut(t,n,e);if(o)return{text:o.word,key:n,position:o.position}}}async notifyProviders(e){const t=[];if(this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:e=>t.push(e),text:e.text,key:e.key}})))return(await Promise.all(t)).filter(e=>e.matched).map(e=>e.fragment)[0]}onMousedown(){this.interactingWithList=!0}onKeydown(e){"Escape"===e.key&&(this.deactivate(),e.stopImmediatePropagation(),e.preventDefault())}}class TextExpanderElement extends HTMLElement{get keys(){const e=this.getAttribute("keys");return e?e.split(" "):[]}connectedCallback(){const e=this.querySelector('input[type="text"], textarea');if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))return;const t=new Gt(this,e);Kt.set(this,t)}disconnectedCallback(){const e=Kt.get(this);e&&(e.destroy(),Kt.delete(this))}}window.customElements.get("text-expander")||(window.TextExpanderElement=TextExpanderElement,window.customElements.define("text-expander",TextExpanderElement));const Yt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Jt=["January","February","March","April","May","June","July","August","September","October","November","December"];function Zt(e){return"0".concat(e).slice(-2)}function Qt(e,t){const n=e.getDay(),o=e.getDate(),r=e.getMonth(),i=e.getFullYear(),s=e.getHours(),a=e.getMinutes(),c=e.getSeconds();return t.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,function(t){let l;switch(t[1]){case"%":return"%";case"a":return Yt[n].slice(0,3);case"A":return Yt[n];case"b":return Jt[r].slice(0,3);case"B":return Jt[r];case"c":return e.toString();case"d":return Zt(o);case"e":return String(o);case"H":return Zt(s);case"I":return Zt(Qt(e,"%l"));case"l":return 0===s||12===s?String(12):String((s+12)%12);case"m":return Zt(r+1);case"M":return Zt(a);case"p":return s>11?"PM":"AM";case"P":return s>11?"pm":"am";case"S":return Zt(c);case"w":return String(n);case"y":return Zt(i%100);case"Y":return String(i);case"Z":return(l=e.toString().match(/\((\w+)\)$/))?l[1]:"";case"z":return(l=e.toString().match(/\w([+-]\d\d\d\d) /))?l[1]:""}return""})}function en(e){let t;return function(){if(t)return t;if("Intl"in window)try{return t=new Intl.DateTimeFormat(void 0,e)}catch(n){if(!(n instanceof RangeError))throw n}}}let tn=null;const nn=en({day:"numeric",month:"short"});function on(){if(null!==tn)return tn;const e=nn();if(e){const t=e.format(new Date(0));return tn=!!t.match(/^\d/)}return!1}let rn=null;const sn=en({day:"numeric",month:"short",year:"numeric"});function an(e){const t=e.closest("[lang]");return t instanceof HTMLElement&&t.lang?t.lang:"default"}const cn=new WeakMap;class ExtendedTimeElement extends HTMLElement{static get observedAttributes(){return["datetime","day","format","lang","hour","minute","month","second","title","weekday","year"]}connectedCallback(){const e=this.getFormattedTitle();e&&!this.hasAttribute("title")&&this.setAttribute("title",e);const t=this.getFormattedDate();t&&(this.textContent=t)}attributeChangedCallback(e,t,n){if("datetime"===e){const e=Date.parse(n);isNaN(e)?cn.delete(this):cn.set(this,new Date(e))}const o=this.getFormattedTitle();o&&!this.hasAttribute("title")&&this.setAttribute("title",o);const r=this.getFormattedDate();r&&(this.textContent=r)}get date(){return cn.get(this)}getFormattedTitle(){const e=this.date;if(!e)return;const t=ln();if(t)return t.format(e);try{return e.toLocaleString()}catch(n){if(n instanceof RangeError)return e.toString();throw n}}getFormattedDate(){}}const ln=en({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),un=new WeakMap;class LocalTimeElement extends ExtendedTimeElement{attributeChangedCallback(e,t,n){"hour"!==e&&"minute"!==e&&"second"!==e&&"time-zone-name"!==e||un.delete(this),super.attributeChangedCallback(e,t,n)}getFormattedDate(){const e=this.date;if(!e)return;const t=function(e,t){const n={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}};let o=on()?"weekday day month year":"weekday month day, year";for(const r in n){const t=n[r][e.getAttribute(r)];o=o.replace(r,t||"")}return o=o.replace(/(\s,)|(,\s$)/,""),Qt(t,o).replace(/\s+/," ").trim()}(this,e)||"",n=function(e,t){const n={},o=e.getAttribute("hour");"numeric"!==o&&"2-digit"!==o||(n.hour=o);const r=e.getAttribute("minute");"numeric"!==r&&"2-digit"!==r||(n.minute=r);const i=e.getAttribute("second");"numeric"!==i&&"2-digit"!==i||(n.second=i);const s=e.getAttribute("time-zone-name");"short"!==s&&"long"!==s||(n.timeZoneName=s);if(0===Object.keys(n).length)return;let a=un.get(e);a||(a=en(n),un.set(e,a));const c=a();if(c)return c.format(t);{const e=n.second?"%H:%M:%S":"%H:%M";return Qt(t,e)}}(this,e)||"";return"".concat(t," ").concat(n).trim()}}window.customElements.get("local-time")||(window.LocalTimeElement=LocalTimeElement,window.customElements.define("local-time",LocalTimeElement));class dn{constructor(e,t){this.date=e,this.locale=t}toString(){const e=this.timeElapsed();if(e)return e;{const e=this.timeAhead();return e||"on ".concat(this.formatDate())}}timeElapsed(){const e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24);return e>=0&&r<30?this.timeAgoFromMs(e):null}timeAhead(){const e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24);return e>=0&&r<30?this.timeUntil():null}timeAgo(){const e=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(e)}timeAgoFromMs(e){const t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return e<0?fn(this.locale,0,"second"):t<10?fn(this.locale,0,"second"):t<45?fn(this.locale,-t,"second"):t<90?fn(this.locale,-n,"minute"):n<45?fn(this.locale,-n,"minute"):n<90?fn(this.locale,-o,"hour"):o<24?fn(this.locale,-o,"hour"):o<36?fn(this.locale,-r,"day"):r<30?fn(this.locale,-r,"day"):i<12?fn(this.locale,-i,"month"):fn(this.locale,-s,"year")}microTimeAgo(){const e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return n<1?"1m":n<60?"".concat(n,"m"):o<24?"".concat(o,"h"):r<365?"".concat(r,"d"):"".concat(s,"y")}timeUntil(){const e=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(e)}timeUntilFromMs(e){const t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return i>=18?fn(this.locale,s,"year"):i>=12?fn(this.locale,s,"year"):r>=45?fn(this.locale,i,"month"):r>=30?fn(this.locale,i,"month"):o>=36?fn(this.locale,r,"day"):o>=24?fn(this.locale,r,"day"):n>=90?fn(this.locale,o,"hour"):n>=45?fn(this.locale,o,"hour"):t>=90?fn(this.locale,n,"minute"):t>=45?fn(this.locale,n,"minute"):fn(this.locale,t>=10?t:0,"second")}microTimeUntil(){const e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return r>=365?"".concat(s,"y"):o>=24?"".concat(r,"d"):n>=60?"".concat(o,"h"):n>1?"".concat(n,"m"):"1m"}formatDate(){let e=on()?"%e %b":"%b %e";var t;return t=this.date,(new Date).getUTCFullYear()!==t.getUTCFullYear()&&(e+=function(){if(null!==rn)return rn;const e=sn();if(e){const t=e.format(new Date(0));return rn=!!t.match(/\d,/)}return!0}()?", %Y":" %Y"),Qt(this.date,e)}formatTime(){const e=mn();return e?e.format(this.date):Qt(this.date,"%l:%M%P")}}function fn(e,t,n){const o=function(e,t){if("Intl"in window&&"RelativeTimeFormat"in window.Intl)try{return new Intl.RelativeTimeFormat(e,t)}catch(n){if(!(n instanceof RangeError))throw n}}(e,{numeric:"auto"});return o?o.format(t,n):function(e,t){if(0===e)switch(t){case"year":case"quarter":case"month":case"week":return"this ".concat(t);case"day":return"today";case"hour":case"minute":return"in 0 ".concat(t,"s");case"second":return"now"}else if(1===e)switch(t){case"year":case"quarter":case"month":case"week":return"next ".concat(t);case"day":return"tomorrow";case"hour":case"minute":case"second":return"in 1 ".concat(t)}else if(-1===e)switch(t){case"year":case"quarter":case"month":case"week":return"last ".concat(t);case"day":return"yesterday";case"hour":case"minute":case"second":return"1 ".concat(t," ago")}else if(e>1)switch(t){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"in ".concat(e," ").concat(t,"s")}else if(e<-1)switch(t){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"".concat(-e," ").concat(t,"s ago")}throw new RangeError("Invalid unit argument for format() '".concat(t,"'"))}(t,n)}const mn=en({hour:"numeric",minute:"2-digit"});class RelativeTimeElement extends ExtendedTimeElement{getFormattedDate(){const e=this.date;if(e)return new dn(e,an(this)).toString()}connectedCallback(){pn.push(this),hn||(vn(),hn=setInterval(vn,6e4)),super.connectedCallback()}disconnectedCallback(){const e=pn.indexOf(this);-1!==e&&pn.splice(e,1),pn.length||hn&&(clearInterval(hn),hn=null)}}const pn=[];let hn,gn;function vn(){let e,t,n;for(t=0,n=pn.length;t<n;t++)(e=pn[t]).textContent=e.getFormattedDate()||""}window.customElements.get("relative-time")||(window.RelativeTimeElement=RelativeTimeElement,window.customElements.define("relative-time",RelativeTimeElement));class TimeAgoElement extends RelativeTimeElement{getFormattedDate(){const e=this.getAttribute("format"),t=this.date;if(t)return"micro"===e?new dn(t,an(this)).microTimeAgo():new dn(t,an(this)).timeAgo()}}window.customElements.get("time-ago")||(window.TimeAgoElement=TimeAgoElement,window.customElements.define("time-ago",TimeAgoElement));class TimeUntilElement extends RelativeTimeElement{getFormattedDate(){const e=this.getAttribute("format"),t=this.date;if(t)return"micro"===e?new dn(t,an(this)).microTimeUntil():new dn(t,an(this)).timeUntil()}}function wn(e){!function(e){const t=_(document,".js-global-screen-reader-notice");t.textContent="",t.textContent=e}(function(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}(e))}window.customElements.get("time-until")||(window.TimeUntilElement=TimeUntilElement,window.customElements.define("time-until",TimeUntilElement));let bn=!1;function yn(){gn=document.activeElement,document.body&&document.body.classList.toggle("intent-mouse",bn)}function En(e,t){var n=e;if(!n)return Promise.resolve(t());var o=n.ownerDocument.documentElement;var r=function(e){for(var t=[];e;){var n=e.getBoundingClientRect(),o=n.top,r=n.left;t.push({element:e,top:o,left:r}),e=e.parentElement}return t}(n);return Promise.resolve(t()).then(function(e){var t=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(o.contains(n.element))return n}}(r);if(t){n=t.element;var i=t.top,s=t.left,a=n.getBoundingClientRect(),c=a.top,l=a.left;!function(e,t,n){var o=e.ownerDocument,r=o.defaultView;function i(e){return e.offsetParent?{top:e.scrollTop,left:e.scrollLeft}:{top:r.pageYOffset,left:r.pageXOffset}}function s(e,t,n){if(0===t&&0===n)return[0,0];var s=i(e),a=s.top+n,c=s.left+t;e===o||e===r||e===o.documentElement||e===o.body?o.defaultView.scrollTo(c,a):(e.scrollTop=a,e.scrollLeft=c);var l=i(e);return[l.left-s.left,l.top-s.top]}function a(e){var t=e;if(t.offsetParent&&t!==o.body){for(;t!==o.body;){if(!t.parentElement)return;t=t.parentElement;var n=r.getComputedStyle(t),i=n.position,s=n.overflowY,a=n.overflowX;if("fixed"===i||"auto"===s||"auto"===a||"scroll"===s||"scroll"===a)break}return t}}var c=a(e),l=0,u=0;for(;c;){var d=s(c,t-l,n-u);if(l+=d[0],u+=d[1],l===t&&u===n)break;c=a(c)}}(n,l-s,c-i)}return e})}document.addEventListener("mousedown",function(){bn=!0,gn===document.activeElement&&yn()},{capture:!0}),document.addEventListener("keydown",function(){bn=!1},{capture:!0}),document.addEventListener("focusin",yn,{capture:!0}),document.addEventListener("keydown",e=>{if("Escape"!==e.key)return;if(e.target!==document.body)return;const t=document.querySelector(".js-targetable-comment:target");t&&En(t,()=>{window.location.hash="",window.history.replaceState(null,null,window.location.pathname+window.location.search)})}),document.addEventListener("click",e=>{const t=document.querySelector(".js-targetable-comment:target");t&&(e.target instanceof HTMLAnchorElement||e.target instanceof HTMLElement&&(t.contains(e.target)||En(t,()=>{window.location.hash="",window.history.replaceState(null,null,window.location.pathname+window.location.search)})))}),document.addEventListener("click",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest("a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]");if(!t)return;const n=t.getAttribute("data-confirm");n&&(t instanceof HTMLInputElement&&t.hasAttribute("data-confirm-checked")&&!t.checked||confirm(n)||(e.stopImmediatePropagation(),e.preventDefault()))},!0);const Ln="interactive"===document.readyState||"complete"===document.readyState?Promise.resolve():new Promise(e=>{document.addEventListener("DOMContentLoaded",()=>{e()})}),Tn="complete"===document.readyState?Promise.resolve():new Promise(e=>{window.addEventListener("load",e)}),jn=[];let kn=0;function xn(e){!async function(){jn.push(e),await Ln,function(){const e=kn;kn=jn.length,An(jn.slice(e),null,window.location.href)}()}()}function An(e,t,n){const o=window.location.hash.slice(1),r={oldURL:t,newURL:n,target:o?document.getElementById(o):null};for(const i of e)i.call(null,r)}xn.clear=(()=>{jn.length=kn=0});let Mn=window.location.href;window.addEventListener("popstate",function(){Mn=window.location.href}),window.addEventListener("hashchange",function(e){const t=window.location.href;try{An(jn,e.oldURL||Mn,t)}finally{Mn=t}});let Sn=null;document.addEventListener("pjax:start",function(){Sn=window.location.href}),document.addEventListener("pjax:end",function(){An(jn,Sn,window.location.href)});const Cn="ontransitionend"in window;function Hn(e){return"height"===getComputedStyle(e).transitionProperty}function qn(e,t){e.style.transition="none",t(),e.offsetHeight,e.style.transition=""}function In(e,t){const n=e.getAttribute("data-details-container")||".js-details-container",o=D(e,n);!function(e,t){if(!Cn)return void t();const n=Array.from(e.querySelectorAll(".js-transitionable"));e.classList.contains("js-transitionable")&&n.push(e);for(const o of n){const e=Hn(o);o instanceof HTMLElement&&(o.addEventListener("transitionend",()=>{o.style.display="",o.style.visibility="",e&&qn(o,function(){o.style.height=""})},{once:!0}),o.style.boxSizing="content-box",o.style.display="block",o.style.visibility="visible",e&&qn(o,function(){o.style.height=getComputedStyle(o).height}),o.offsetHeight)}t();for(const o of n)if(o instanceof HTMLElement&&Hn(o)){const e=getComputedStyle(o).height;o.style.boxSizing="",o.style.height="0px"===e?`${o.scrollHeight}px`:"0px"}}(o,()=>{const n=null!=t?t:!o.classList.contains("open");o.classList.toggle("open",n),o.classList.toggle("Details--on",n),e.setAttribute("aria-expanded",n.toString()),Promise.resolve().then(()=>{!function(e){const t=e.querySelectorAll("input[autofocus], textarea[autofocus]"),n=t[t.length-1];n instanceof HTMLElement&&document.activeElement!==n&&n.focus()}(o),function(e){e.classList.contains("tooltipped")&&(e.classList.remove("tooltipped"),e.addEventListener("mouseleave",()=>{e.classList.add("tooltipped"),e instanceof HTMLElement&&e.blur()},{once:!0}))}(e),function(e){const t=e.closest(".js-edit-repository-meta");t instanceof HTMLFormElement&&t.reset()}(e);const t=new CustomEvent("details:toggled",{bubbles:!0,cancelable:!1,detail:{open:o.classList.contains("Details--on")}});o.dispatchEvent(t)})})}k("click",".js-details-target",function(e){const{currentTarget:t}=e;t instanceof HTMLElement&&(In(t),e.preventDefault())}),xn(function({target:e}){e&&function(e){let t=!1,n=e.parentElement;for(;n;)n.classList.contains("Details-content--shown")&&(t=!0),n.classList.contains("js-details-container")&&(n.classList.toggle("open",!t),n.classList.toggle("Details--on",!t),t=!1),n=n.parentElement}(e)});var Dn="function"==typeof FormData&&"entries"in FormData.prototype?function(e){return Array.from(new FormData(e).entries())}:function(e){for(var t=[],n=e.elements,o=0;o<n.length;o++){var r=n[o],i=r.tagName.toUpperCase();if("SELECT"===i||"TEXTAREA"===i||"INPUT"===i){var s=r.type,a=r.name;if(a&&!r.disabled&&"submit"!==s&&"reset"!==s&&"button"!==s&&("radio"!==s&&"checkbox"!==s||r.checked))if("SELECT"===i)for(var c=r.getElementsByTagName("option"),l=0;l<c.length;l++){var u=c[l];u.selected&&t.push([a,u.value])}else"file"===s?(console.warn("form-data-entries could not serialize <input type=file>",r),t.push([a,""])):t.push([a,r.value])}}return t};function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(c){r=!0,i=c}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class On extends Error{constructor(e,t){super(e),this.response=t}}function Nn(){let e,t;return[new Promise(function(n,o){e=n,t=o}),e,t]}let Pn;const Rn=[],Bn=[];function Fn(e,t){Pn||(Pn=new n,document.addEventListener("submit",$n)),Pn.add(e,t)}function $n(e){if(!(e.target instanceof HTMLFormElement))return;const t=e.target,n=Pn&&Pn.matches(t);if(!n||0===n.length)return;const o=function(e){const t={method:e.method||"GET",url:e.action,headers:new Headers({"X-Requested-With":"XMLHttpRequest"}),body:null};if("GET"===t.method.toUpperCase()){const n=function(e){const t=new URLSearchParams;for(const o of Dn(e)){var n=_n(o,2);const e=n[0],r=n[1];t.append(e,r)}return t.toString()}(e);n&&(t.url+=(~t.url.indexOf("?")?"&":"?")+n)}else t.body=new FormData(e);return t}(t),r=_n(Nn(),3),i=r[0],s=r[1],a=r[2];e.preventDefault(),async function(e,t,n,o){let r=!1;for(const i of e){const e=Nn(),s=_n(e,2),a=s[0],c=s[1],l=()=>(r=!0,c(),o),u={text:l,json:()=>(n.headers.set("Accept","application/json"),l()),html:()=>(n.headers.set("Accept","text/html"),l())};await Promise.race([a,i.data.call(null,t,u,n)])}return r}(n,t,o,i).then(async e=>{if(e){for(const e of Bn)await e(t);(async function(e){const t=await window.fetch(e.url,{method:e.method,body:null!==e.body?e.body:void 0,headers:e.headers,credentials:"same-origin"}),n={url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,text:"",get json(){const e=JSON.parse(this.text);return delete this.json,this.json=e,this.json},get html(){return delete this.html,this.html=function(e,t){const n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}(document,this.text),this.html}},o=await t.text();if(n.text=o,t.ok)return n;throw new On("request failed",n)})(o).then(s,a).catch(()=>{}).then(()=>{for(const e of Rn)e(t)})}else t.submit()},e=>{t.submit(),setTimeout(()=>{throw e})})}const Un=[];let Wn,Vn=0;function zn(){return Wn}function Xn(){try{return Math.min(Math.max(0,history.length)||0,9007199254740991)}catch(e){return 0}}function Kn(e){Wn=e;const t=location.href;Un[Xn()-1+Vn]={url:t,state:Wn},Un.length=Xn(),window.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}function Gn(){return(new Date).getTime()}function Yn(e,t,n){const o=Object.assign({},{_id:zn()._id},e);history.replaceState(o,t,n),Kn(o)}function Jn(e){try{return sessionStorage.getItem(e)}catch(t){return null}}function Zn(e,t){try{sessionStorage.setItem(e,t)}catch(n){}}function Qn(e,t={page:""}){t.page=e||"",window.ga("send","pageview",t)}function eo(e,t={}){window.ga(()=>{window.ga("require",e,t)})}function to(e){void 0===e.interactive&&(e.interactive=!0),window.ga("send","event",e.category,e.action,e.label,e.value,{nonInteraction:!e.interactive})}function no(e){const t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}function oo(){return function(){const e=no("meta[name=analytics-location]");return e instanceof HTMLMetaElement?e.content:window.location.pathname}()+function(){let e="";no("meta[name=analytics-location-query-strip]")||(e=window.location.search);const t=no("meta[name=analytics-location-params]");t instanceof HTMLMetaElement&&(e+=(e?"&":"?")+t.content);for(const n of O(document,"meta[name=analytics-param-rename]",HTMLMetaElement)){const t=n.content.split(":",2);e=e.replace(new RegExp(`(^|[?&])${t[0]}($|=)`,"g"),`$1${t[1]}$2`)}return e}()}function ro(){var e;!function(e){window.ga("set",{location:e})}(`${window.location.protocol}//${window.location.host}${oo()}`),e=no("meta[name=analytics-location]")?"(masked)":document.title,window.ga("set",{title:e});const t=no("meta[name=analytics-ec-payload]");t instanceof HTMLMetaElement&&io(t.content);const n=Jn("ga-deferred");n&&(io(n),function(e){try{sessionStorage.removeItem(e)}catch(t){}}("ga-deferred"));for(const i of O(document,"meta.js-ga-set",HTMLMetaElement))o=i.name,r=i.content,window.ga("set",o,r);var o,r}function io(e){if(e)for(const t of JSON.parse(e))window.ga.apply(null,t)}function so(){for(const e of document.querySelectorAll("meta[name=analytics-virtual-pageview]"))e instanceof HTMLMetaElement&&Qn(e.content,{title:""});Qn()}function ao(e){const[t,n,o,r]=e.trim().split(/\s*,\s*/);return r?{category:t,action:n,label:o,value:Number(r)}:{category:t,action:n,label:o}}var co,lo;Wn=function(){const e={_id:(new Date).getTime()};return Kn(e),e}(),window.addEventListener("popstate",function(e){const t=e.state;t&&t._id&&(t._id<(zn()._id||NaN)?Vn--:Vn++,Kn(t))},!0),window.addEventListener("hashchange",function(){if(Xn()>Un.length){const e={_id:Gn()};history.replaceState(e,"",location.href),Kn(e)}},!0),k("click",".js-rendered, .js-source",function(e){const t=e.currentTarget;t.classList.contains("selected")?e.preventDefault():(function(e){const t=D(e,".js-file-header"),n=e.classList.contains("js-rendered"),o=e.classList.contains("js-source"),r=P(t,"data-short-path"),i=P(t,"data-anchor"),s=new URL(window.location.href,window.location.origin),a=new URLSearchParams(s.search.slice(1));s.hash=i,n?a.set("short_path",r):o&&a.delete("short_path");s.search=a.toString(),Yn(null,"",s.toString())}(t),function(e){for(const t of document.querySelectorAll(".js-rendered, .js-source"))t.classList.remove("selected"),t.removeAttribute("aria-current");e.classList.add("selected"),e.setAttribute("aria-current","true")}(t))}),Fn(".js-prose-diff-toggle-form",async function(e,t){const n=D(e,".js-details-container"),o=_(n,".js-file-content"),r=await t.html();for(;o.lastChild;)o.removeChild(o.lastChild);o.append(r.html),n.classList.toggle("display-rich-diff"),n.classList.toggle("show-inline-notes")}),function(){var e=function(e){this.w=e||[]};e.prototype.set=function(e){this.w[e]=!0},e.prototype.encode=function(){for(var e=[],t=0;t<this.w.length;t++)this.w[t]&&(e[Math.floor(t/6)]^=1<<t%6);for(t=0;t<e.length;t++)e[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(e[t]||0);return e.join("")+"~"};var t=new e;function n(e){t.set(e)}var o=function(t,n){var o=new e(i(t));o.set(n),t.set(st,o.w)},r=function(n){n=i(n),n=new e(n);for(var o=t.w.slice(),r=0;r<n.w.length;r++)o[r]=o[r]||n.w[r];return new e(o).encode()},i=function(e){return e=e.get(st),a(e)||(e=[]),e},s=function(e){return"function"==typeof e},a=function(e){return"[object Array]"==Object.prototype.toString.call(Object(e))},c=function(e){return null!=e&&-1<(e.constructor+"").indexOf("String")},l=function(e,t){return 0==e.indexOf(t)},u=function(e){return e?e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""):""},d=function(e){var t=T.createElement("img");return t.width=1,t.height=1,t.src=e,t},f=function(){},m=function(e){return encodeURIComponent instanceof Function?encodeURIComponent(e):(n(28),e)},p=function(e,t,o,r){try{e.addEventListener?e.addEventListener(t,o,!!r):e.attachEvent&&e.attachEvent("on"+t,o)}catch(i){n(27)}},h=/^[\w\-:\/.?=&%!]+$/,g=function(e,t,n,o){e&&(n?(o="",t&&h.test(t)&&(o=' id="'+t+'"'),h.test(e)&&T.write("<script"+o+' src="'+e+'"><\/script>')):((n=T.createElement("script")).type="text/javascript",n.async=!0,n.src=e,o&&(n.onload=o),t&&(n.id=t),(e=T.getElementsByTagName("script")[0]).parentNode.insertBefore(n,e)))},v=function(){return"https:"==T.location.protocol},w=function(e,t){return(e=e.match("(?:&|#|\\?)"+m(t).replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"=([^&#]*)"))&&2==e.length?e[1]:""},b=function(){var e=""+T.location.hostname;return 0==e.indexOf("www.")?e.substring(4):e},y=function(e,t){if(1==t.length&&null!=t[0]&&"object"==typeof t[0])return t[0];for(var n={},o=Math.min(e.length+1,t.length),r=0;r<o;r++){if("object"==typeof t[r]){for(var i in t[r])t[r].hasOwnProperty(i)&&(n[i]=t[r][i]);break}r<e.length&&(n[e[r]]=t[r])}return n},E=function(){this.keys=[],this.values={},this.m={}};E.prototype.set=function(e,t,n){this.keys.push(e),n?this.m[":"+e]=t:this.values[":"+e]=t},E.prototype.get=function(e){return this.m.hasOwnProperty(":"+e)?this.m[":"+e]:this.values[":"+e]},E.prototype.map=function(e){for(var t=0;t<this.keys.length;t++){var n=this.keys[t],o=this.get(n);o&&e(n,o)}};var L=window,T=document,j=window,k=function(e){var t=j._gaUserPrefs;if(t&&t.ioo&&t.ioo()||e&&!0===j["ga-disable-"+e])return!0;try{var n=j.external;if(n&&n._gaUserPrefs&&"oo"==n._gaUserPrefs)return!0}catch(o){}return!1},x=function(e){var t=[],n=T.cookie.split(";");e=new RegExp("^\\s*"+e+"=\\s*(.*?)\\s*$");for(var o=0;o<n.length;o++){var r=n[o].match(e);r&&t.push(r[1])}return t},A=function(e,t,o,r,i,s){if(!(i=!k(i)&&!(C.test(T.location.hostname)||"/"==o&&S.test(r))))return!1;if(t&&1200<t.length&&(t=t.substring(0,1200),n(24)),o=e+"="+t+"; path="+o+"; ",s&&(o+="expires="+new Date((new Date).getTime()+s).toGMTString()+"; "),r&&"none"!=r&&(o+="domain="+r+";"),r=T.cookie,T.cookie=o,!(r=r!=T.cookie))e:{for(e=x(e),r=0;r<e.length;r++)if(t==e[r]){r=!0;break e}r=!1}return r},M=function(e){return m(e).replace(/\(/g,"%28").replace(/\)/g,"%29")},S=/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/,C=/(^|\.)doubleclick\.net$/i,H=function(){return(de||v()?"https:":"http:")+"//www.google-analytics.com"},q=function(e){this.name="len",this.message=e+"-8192"},I=function(e,t,n){if(n=n||f,2036>=t.length)D(e,t,n);else{if(!(8192>=t.length))throw N("len",t.length),new q(t.length);O(e,t,n)||_(e,t,n)||D(e,t,n)}},D=function(e,t,n){var o=d(e+"?"+t);o.onload=o.onerror=function(){o.onload=null,o.onerror=null,n()}},_=function(e,t,n){var o=L.XMLHttpRequest;if(!o)return!1;var r=new o;return"withCredentials"in r&&(r.open("POST",e,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","text/plain"),r.onreadystatechange=function(){4==r.readyState&&(n(),r=null)},r.send(t),!0)},O=function(e,t,n){return!!L.navigator.sendBeacon&&(!!L.navigator.sendBeacon(e,t)&&(n(),!0))},N=function(e,t,n){1<=100*Math.random()||k("?")||(e=["t=error","_e="+e,"_v=j48","sr=1"],t&&e.push("_f="+t),n&&e.push("_m="+m(n.substring(0,100))),e.push("aip=1"),e.push("z="+G()),D(H()+"/collect",e.join("&"),f))},P=function(e){var t=L.gaData=L.gaData||{};return t[e]=t[e]||{}},R=function(){this.M=[]};function B(e){if(100!=e.get(Ot)&&Jn(te(e,Tt))%1e4>=100*ne(e,Ot))throw"abort"}function F(e){if(k(te(e,xt)))throw"abort"}function $(){var e=T.location.protocol;if("http:"!=e&&"https:"!=e)throw"abort"}function U(e){try{L.navigator.sendBeacon?n(42):L.XMLHttpRequest&&"withCredentials"in new L.XMLHttpRequest&&n(40)}catch(o){}e.set(it,r(e),!0),e.set(ye,ne(e,ye)+1);var t=[];Q.map(function(n,o){o.F&&(null!=(n=e.get(n))&&n!=o.defaultValue&&("boolean"==typeof n&&(n*=1),t.push(o.F+"="+m(""+n))))}),t.push("z="+Y()),e.set(ve,t.join("&"),!0)}function W(e){var t=te(e,Rt)||H()+"/collect",n=te(e,be);if(!n&&e.get(we)&&(n="beacon"),n){var o=te(e,ve),r=(r=e.get(ge))||f;"image"==n?D(t,o,r):"xhr"==n&&_(t,o,r)||"beacon"==n&&O(t,o,r)||I(t,o,r)}else I(t,te(e,ve),e.get(ge));t=e.get(xt),n=(t=P(t)).hitcount,t.hitcount=n?n+1:1,t=e.get(xt),delete P(t).pending_experiments,e.set(ge,f,!0)}function V(e){var t;(L.gaData=L.gaData||{}).expId&&e.set(Ye,(L.gaData=L.gaData||{}).expId),(L.gaData=L.gaData||{}).expVar&&e.set(Je,(L.gaData=L.gaData||{}).expVar);var n=e.get(xt);if(n=P(n).pending_experiments){var o=[];for(t in n)n.hasOwnProperty(t)&&n[t]&&o.push(encodeURIComponent(t)+"."+encodeURIComponent(n[t]));t=o.join("!")}else t=void 0;t&&e.set(Ze,t,!0)}function z(){if(L.navigator&&"preview"==L.navigator.loadPurpose)throw"abort"}function X(e){var t=L.gaDevIds;a(t)&&0!=t.length&&e.set("&did",t.join(","),!0)}function K(e){if(!e.get(xt))throw"abort"}R.prototype.add=function(e){this.M.push(e)},R.prototype.D=function(e){try{for(var t=0;t<this.M.length;t++){var n=e.get(this.M[t]);n&&s(n)&&n.call(L,e)}}catch(o){}(t=e.get(ge))!=f&&s(t)&&(e.set(ge,f,!0),setTimeout(t,10))};var G=function(){return Math.round(2147483647*Math.random())},Y=function(){try{var e=new Uint32Array(1);return L.crypto.getRandomValues(e),2147483647&e[0]}catch(t){return G()}};function J(e){var t=ne(e,nt);if(500<=t&&n(15),"transaction"!=(o=te(e,he))&&"item"!=o){var o=ne(e,rt),r=(new Date).getTime(),i=ne(e,ot);if(0==i&&e.set(ot,r),0<(i=Math.round(2*(r-i)/1e3))&&(o=Math.min(o+i,20),e.set(ot,r)),0>=o)throw"abort";e.set(rt,--o)}e.set(nt,++t)}var Z=function(){this.data=new E},Q=new E,ee=[];Z.prototype.get=function(e){var t=ie(e),n=this.data.get(e);return t&&null==n&&(n=s(t.defaultValue)?t.defaultValue():t.defaultValue),t&&t.Z?t.Z(this,e,n):n};var te=function(e,t){return null==(e=e.get(t))?"":""+e},ne=function(e,t){return null==(e=e.get(t))||""===e?0:1*e};Z.prototype.set=function(e,t,n){if(e)if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&oe(this,o,e[o],n);else oe(this,e,t,n)};var oe=function(e,t,n,o){if(null!=n)switch(t){case xt:xn.test(n)}var r=ie(t);r&&r.o?r.o(e,t,n,o):e.data.set(t,n,o)},re=function(e,t,n,o,r){this.name=e,this.F=t,this.Z=o,this.o=r,this.defaultValue=n},ie=function(e){var t=Q.get(e);if(!t)for(var n=0;n<ee.length;n++){var o=ee[n],r=o[0].exec(e);if(r){t=o[1](r),Q.set(t.name,t);break}}return t},se=function(e,t,n,o,r){return e=new re(e,t,n,o,r),Q.set(e.name,e),e.name},ae=function(e,t){ee.push([new RegExp("^"+e+"$"),t])},ce=function(e,t,n){return se(e,t,n,void 0,le)},le=function(){},ue=c(window.GoogleAnalyticsObject)&&u(window.GoogleAnalyticsObject)||"ga",de=!1,fe=ce("apiVersion","v"),me=ce("clientVersion","_v");se("anonymizeIp","aip");var pe=se("adSenseId","a"),he=se("hitType","t"),ge=se("hitCallback"),ve=se("hitPayload");se("nonInteraction","ni"),se("currencyCode","cu"),se("dataSource","ds");var we=se("useBeacon",void 0,!1),be=se("transport");se("sessionControl","sc",""),se("sessionGroup","sg"),se("queueTime","qt");var ye=se("_s","_s");se("screenName","cd");var Ee=se("location","dl",""),Le=se("referrer","dr"),Te=se("page","dp","");se("hostname","dh");var je=se("language","ul"),ke=se("encoding","de");se("title","dt",function(){return T.title||void 0}),ae("contentGroup([0-9]+)",function(e){return new re(e[0],"cg"+e[1])});var xe=se("screenColors","sd"),Ae=se("screenResolution","sr"),Me=se("viewportSize","vp"),Se=se("javaEnabled","je"),Ce=se("flashVersion","fl");se("campaignId","ci"),se("campaignName","cn"),se("campaignSource","cs"),se("campaignMedium","cm"),se("campaignKeyword","ck"),se("campaignContent","cc");var He=se("eventCategory","ec"),qe=se("eventAction","ea"),Ie=se("eventLabel","el"),De=se("eventValue","ev"),_e=se("socialNetwork","sn"),Oe=se("socialAction","sa"),Ne=se("socialTarget","st"),Pe=se("l1","plt"),Re=se("l2","pdt"),Be=se("l3","dns"),Fe=se("l4","rrt"),$e=se("l5","srt"),Ue=se("l6","tcp"),We=se("l7","dit"),Ve=se("l8","clt"),ze=se("timingCategory","utc"),Xe=se("timingVar","utv"),Ke=se("timingLabel","utl"),Ge=se("timingValue","utt");se("appName","an"),se("appVersion","av",""),se("appId","aid",""),se("appInstallerId","aiid",""),se("exDescription","exd"),se("exFatal","exf");var Ye=se("expId","xid"),Je=se("expVar","xvar"),Ze=se("exp","exp"),Qe=se("_utma","_utma"),et=se("_utmz","_utmz"),tt=se("_utmht","_utmht"),nt=se("_hc",void 0,0),ot=se("_ti",void 0,0),rt=se("_to",void 0,20);ae("dimension([0-9]+)",function(e){return new re(e[0],"cd"+e[1])}),ae("metric([0-9]+)",function(e){return new re(e[0],"cm"+e[1])}),se("linkerParam",void 0,void 0,function(e){var t=ln(e=e.get(Tt),0);return"_ga=1."+m(t+"."+e)},le);var it=se("usage","_u"),st=se("_um");se("forceSSL",void 0,void 0,function(){return de},function(e,t,o){n(34),de=!!o});var at=se("_j1","jid");ae("\\&(.*)",function(e){var t=new re(e[0],e[1]),n=function(e){var t;return Q.map(function(n,o){o.F==e&&(t=o)}),t&&t.name}(e[0].substring(1));return n&&(t.Z=function(e){return e.get(n)},t.o=function(e,t,o,r){e.set(n,o,r)},t.F=void 0),t});var ct=ce("_oot"),lt=se("previewTask"),ut=se("checkProtocolTask"),dt=se("validationTask"),ft=se("checkStorageTask"),mt=se("historyImportTask"),pt=se("samplerTask"),ht=se("_rlt"),gt=se("buildHitTask"),vt=se("sendHitTask"),wt=se("ceTask"),bt=se("devIdTask"),yt=se("timingTask"),Et=se("displayFeaturesTask"),Lt=ce("name"),Tt=ce("clientId","cid"),jt=ce("clientIdTime"),kt=se("userId","uid"),xt=ce("trackingId","tid"),At=ce("cookieName",void 0,"_ga"),Mt=ce("cookieDomain"),St=ce("cookiePath",void 0,"/"),Ct=ce("cookieExpires",void 0,63072e3),Ht=ce("legacyCookieDomain"),qt=ce("legacyHistoryImport",void 0,!0),It=ce("storage",void 0,"cookie"),Dt=ce("allowLinker",void 0,!1),_t=ce("allowAnchor",void 0,!0),Ot=ce("sampleRate","sf",100),Nt=ce("siteSpeedSampleRate",void 0,1),Pt=ce("alwaysSendReferrer",void 0,!1),Rt=se("transportUrl"),Bt=se("_r","_r");function Ft(e,t,o,r){t[e]=function(){try{return r&&n(r),o.apply(this,arguments)}catch(t){throw N("exc",e,t&&t.name),t}}}var $t=function(e,t,n){this.V=e,this.fa=t,this.$=!1,this.oa=n,this.ea=1},Ut=function(e,t){var n;if(e.fa&&e.$)return 0;if(e.$=!0,t){if(e.oa&&ne(t,e.oa))return ne(t,e.oa);if(0==t.get(Nt))return 0}return 0==e.V?0:(void 0===n&&(n=Y()),0==n%e.V?Math.floor(n/e.V)%e.ea+1:0)};var Wt=function(e){var t={};if(Vt(t)||zt(t)){var n=t[Pe];null==n||1/0==n||isNaN(n)||(0<n?(Xt(t,Be),Xt(t,Ue),Xt(t,$e),Xt(t,Re),Xt(t,Fe),Xt(t,We),Xt(t,Ve),e(t)):p(L,"load",function(){Wt(e)},!1))}},Vt=function(e){var t;if(!(t=(t=L.performance||L.webkitPerformance)&&t.timing))return!1;var n=t.navigationStart;return 0!=n&&(e[Pe]=t.loadEventStart-n,e[Be]=t.domainLookupEnd-t.domainLookupStart,e[Ue]=t.connectEnd-t.connectStart,e[$e]=t.responseStart-t.requestStart,e[Re]=t.responseEnd-t.responseStart,e[Fe]=t.fetchStart-n,e[We]=t.domInteractive-n,e[Ve]=t.domContentLoadedEventStart-n,!0)},zt=function(e){if(L.top!=L)return!1;var t=L.external,n=t&&t.onloadT;return t&&!t.isValidLoadTime&&(n=void 0),2147483648<n&&(n=void 0),0<n&&t.setPageReadyTime(),null!=n&&(e[Pe]=n,!0)},Xt=function(e,t){var n=e[t];(isNaN(n)||1/0==n||0>n)&&(e[t]=void 0)},Kt=function(e){return function(t){if("pageview"==t.get(he)&&!e.I){e.I=!0;var n=function(e){var t=Math.min(ne(e,Nt),100);return!(Jn(te(e,Tt))%100>=t)}(t);t=0<w(t.get(Ee),"gclid").length,(n||t)&&Wt(function(t){e.send(n?"timing":"adtiming",t)})}}},Gt=!1,Yt=function(e){if("cookie"==te(e,It)){var t=te(e,At),o=Qt(e),r=nn(te(e,St)),i=tn(te(e,Mt)),s=1e3*ne(e,Ct),a=te(e,xt);if("auto"!=i)A(t,o,r,i,a,s)&&(Gt=!0);else{var c;if(n(32),o=[],4!=(i=b().split(".")).length||(c=i[i.length-1],parseInt(c,10)!=c)){for(c=i.length-2;0<=c;c--)o.push(i.slice(c).join("."));o.push("none"),c=o}else c=["none"];for(var l=0;l<c.length;l++)if(i=c[l],e.data.set(Mt,i),o=Qt(e),A(t,o,r,i,a,s))return void(Gt=!0);e.data.set(Mt,"auto")}}},Jt=function(e){if("cookie"==te(e,It)&&!Gt&&(Yt(e),!Gt))throw"abort"},Zt=function(e){if(e.get(qt)){var t=te(e,Mt),o=te(e,Ht)||b(),r=rn("__utma",o,t);r&&(n(19),e.set(tt,(new Date).getTime(),!0),e.set(Qe,r.R),(t=rn("__utmz",o,t))&&r.hash==t.hash&&e.set(et,t.R))}},Qt=function(e){var t=M(te(e,Tt)),n=tn(te(e,Mt)).split(".").length;return 1<(e=on(te(e,St)))&&(n+="-"+e),["GA1",n,t].join(".")},en=function(e,t,n){for(var o,r=[],i=[],s=0;s<e.length;s++){var a=e[s];a.H[n]==t?r.push(a):null==o||a.H[n]<o?(i=[a],o=a.H[n]):a.H[n]==o&&i.push(a)}return 0<r.length?r:i},tn=function(e){return 0==e.indexOf(".")?e.substr(1):e},nn=function(e){return e?(1<e.length&&e.lastIndexOf("/")==e.length-1&&(e=e.substr(0,e.length-1)),0!=e.indexOf("/")&&(e="/"+e),e):"/"},on=function(e){return"/"==(e=nn(e))?1:e.split("/").length};function rn(e,t,n){"none"==t&&(t="");var o=[],r=x(e);e="__utma"==e?6:2;for(var i=0;i<r.length;i++){var s=(""+r[i]).split(".");s.length>=e&&o.push({hash:s[0],R:r[i],O:s})}if(0!=o.length)return 1==o.length?o[0]:sn(t,o)||sn(n,o)||sn(null,o)||o[0]}function sn(e,t){var n;null==e?n=e=1:(n=Jn(e),e=Jn(l(e,".")?e.substring(1):"."+e));for(var o=0;o<t.length;o++)if(t[o].hash==n||t[o].hash==e)return t[o]}var an=new RegExp(/^https?:\/\/([^\/:]+)/),cn=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/;function ln(e,t){var n=new Date,o=L.navigator,r=o.plugins||[];for(e=[e,o.userAgent,n.getTimezoneOffset(),n.getYear(),n.getDate(),n.getHours(),n.getMinutes()+t],t=0;t<r.length;++t)e.push(r[t].description);return Jn(e.join("."))}var un=function(e){n(48),this.target=e,this.T=!1};un.prototype.ca=function(e,t){if(e.tagName){if("a"==e.tagName.toLowerCase())return void(e.href&&(e.href=dn(this,e.href,t)));if("form"==e.tagName.toLowerCase())return fn(this,e)}if("string"==typeof e)return dn(this,e,t)};var dn=function(e,t,n){(r=cn.exec(t))&&3<=r.length&&(t=r[1]+(r[3]?r[2]+r[3]:"")),e=e.target.get("linkerParam");var o=t.indexOf("?"),r=t.indexOf("#");return n?t+=(-1==r?"#":"&")+e:(n=-1==o?"?":"&",t=-1==r?t+(n+e):t.substring(0,r)+n+e+t.substring(r)),t.replace(/&+_ga=/,"&_ga=")},fn=function(e,t){if(t&&t.action){var n=e.target.get("linkerParam").split("=")[1];if("get"==t.method.toLowerCase()){e=t.childNodes||[];for(var o=0;o<e.length;o++)if("_ga"==e[o].name)return void e[o].setAttribute("value",n);(e=T.createElement("input")).setAttribute("type","hidden"),e.setAttribute("name","_ga"),e.setAttribute("value",n),t.appendChild(e)}else"post"==t.method.toLowerCase()&&(t.action=dn(e,t.action))}};function mn(e,t){if(t==T.location.hostname)return!1;for(var n=0;n<e.length;n++)if(e[n]instanceof RegExp){if(e[n].test(t))return!0}else if(0<=t.indexOf(e[n]))return!0;return!1}un.prototype.S=function(e,t,o){function r(o){try{var r;o=o||L.event;e:{var s=o.target||o.srcElement;for(o=100;s&&0<o;){if(s.href&&s.nodeName.match(/^a(?:rea)?$/i)){r=s;break e}s=s.parentNode,o--}r={}}("http:"==r.protocol||"https:"==r.protocol)&&mn(e,r.hostname||"")&&r.href&&(r.href=dn(i,r.href,t))}catch(a){n(26)}}var i=this;this.T||(this.T=!0,p(T,"mousedown",r,!1),p(T,"keyup",r,!1)),o&&p(T,"submit",function(t){if((t=(t=t||L.event).target||t.srcElement)&&t.action){var n=t.action.match(an);n&&mn(e,n[1])&&fn(i,t)}})};var pn,hn=/^(GTM|OPT)-[A-Z0-9]+$/,gn=/;_gaexp=[^;]*/g,vn=/;((__utma=)|([^;=]+=GAX?\d+\.))[^;]*/g,wn=function(e,t,o){this.U=at,this.aa=t,(t=o)||(t=(t=te(e,Lt))&&"t0"!=t?Ln.test(t)?"_gat_"+M(te(e,xt)):"_gat_"+M(t):"_gat"),this.Y=t,Ut(new $t(10),e)&&(n(30),this.pa=!0)},bn=function(e,t){t.get(e.U)||("1"==x(e.Y)[0]?t.set(e.U,"",!0):t.set(e.U,""+G(),!0))},yn=function(e,t){if(t.get(e.U)){var n=6e5;e.pa&&(n/=10),A(e.Y,"1",t.get(St),t.get(Mt),t.get(xt),n)}},En=function(e,t){if(t.get(e.U)){var n=new E,o=function(e){ie(e).F&&n.set(ie(e).F,t.get(e))};o(fe),o(me),o(xt),o(Tt),o(kt),o(e.U),n.set(ie(it).F,r(t));var i=e.aa;n.map(function(e,t){i+=m(e)+"=",i+=m(""+t)+"&"}),i+="z="+G(),d(i),t.set(e.U,"",!0)}},Ln=/^gtm\d+$/,Tn=function(e,t){var n;(e=e.b).get("dcLoaded")||(o(e,29),(t=t||{})[At]&&(n=M(t[At])),function(e,t){var n=t.get(gt);t.set(gt,function(t){bn(e,t);var o=n(t);return yn(e,t),o});var o=t.get(vt);t.set(vt,function(t){var n=o(t);return En(e,t),n})}(t=new wn(e,"https://stats.g.doubleclick.net/r/collect?t=dc&aip=1&_r=3&",n),e),e.set("dcLoaded",!0))},jn=function(e){if(!e.get("dcLoaded")&&"cookie"==e.get(It)){o(e,51);var t=new wn(e);bn(t,e),yn(t,e),e.get(t.U)&&(e.set(Bt,1,!0),e.set(Rt,H()+"/r/collect",!0))}},kn=function(e){return e?(1*e).toFixed(3):"0"},xn=/^(UA|YT|MO|GP)-(\d+)-(\d+)$/,An=function(e){function t(e,t){i.b.data.set(e,t)}function o(e,n){t(e,n),i.filters.add(e)}function r(e,t,o){Ut(new $t(1e4,!0,t),i.b)&&(e=x(e))&&0<e.length&&n(o)}var i=this;this.b=new Z,this.filters=new R,t(Lt,e[Lt]),t(xt,u(e[xt])),t(At,e[At]),t(Mt,e[Mt]||b()),t(St,e[St]),t(Ct,e[Ct]),t(Ht,e[Ht]),t(qt,e[qt]),t(Dt,e[Dt]),t(_t,e[_t]),t(Ot,e[Ot]),t(Nt,e[Nt]),t(Pt,e[Pt]),t(It,e[It]),t(kt,e[kt]),t(jt,e[jt]),t(fe,1),t(me,"j48"),o(ct,F),o(lt,z),o(ut,$),o(dt,K),o(ft,Jt),o(mt,Zt),o(pt,B),o(ht,J),o(wt,V),o(bt,X),o(Et,jn),o(gt,U),o(vt,W),o(yt,Kt(this)),Mn(this.b,e[Tt]),Sn(this.b),this.b.set(pe,function(){var e=L.gaGlobal=L.gaGlobal||{};return e.hid=e.hid||G()}()),function(e,t,n){if(!pn){var o;o=T.location.hash;var r=L.name,i=/^#?gaso=([^&]*)/;(r=(o=(o=o&&o.match(i)||r&&r.match(i))?o[1]:x("GASO")[0]||"")&&o.match(/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))&&(A("GASO",""+o,n,t,e,0),window._udo||(window._udo=t),window._utcp||(window._utcp=n),e=r[1],g("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(e?"prefix="+e+"&":"")+G(),"_gasojs")),pn=!0}}(this.b.get(xt),this.b.get(Mt),this.b.get(St)),this.ra=new $t(1e4,!0,"gaexp10"),r("_gid","gacookie11",41),r("_gaid","gacookie12",44)},Mn=function(e,t){if("cookie"==te(e,It)){var o;Gt=!1;e:{var r=x(te(e,At));if(r&&!(1>r.length)){o=[];for(var i=0;i<r.length;i++){var s,a=(s=r[i].split(".")).shift();("GA1"==a||"1"==a)&&1<s.length?(1==(a=s.shift().split("-")).length&&(a[1]="1"),a[0]*=1,a[1]*=1,s={H:a,s:s.join(".")}):s=void 0,s&&o.push(s)}if(1==o.length){n(13),o=o[0].s;break e}if(0!=o.length){if(n(14),r=tn(te(e,Mt)).split(".").length,1==(o=en(o,r,0)).length){o=o[0].s;break e}r=on(te(e,St)),o=(o=en(o,r,1))[0]&&o[0].s;break e}n(12)}o=void 0}o||(o=te(e,Mt),null!=(o=rn("__utma",r=te(e,Ht)||b(),o))?(n(10),o=o.O[1]+"."+o.O[2]):o=void 0),o&&(e.data.set(Tt,o),Gt=!0)}if(o=e.get(_t),(i=w(T.location[o?"href":"search"],"_ga"))&&(e.get(Dt)?-1==(o=i.indexOf("."))?n(22):(r=i.substring(o+1),"1"!=i.substring(0,o)?n(22):-1==(o=r.indexOf("."))?n(22):(i=r.substring(0,o))!=ln(o=r.substring(o+1),0)&&i!=ln(o,-1)&&i!=ln(o,-2)?n(23):(n(11),e.data.set(Tt,o))):n(21)),t&&(n(9),e.data.set(Tt,m(t))),!e.get(Tt))if(t=(t=L.gaGlobal&&L.gaGlobal.vid)&&-1!=t.search(/^(?:utma\.)?\d+\.\d+$/)?t:void 0)n(17),e.data.set(Tt,t);else{for(n(8),o=(t=L.navigator.userAgent+(T.cookie?T.cookie:"")+(T.referrer?T.referrer:"")).length,r=L.history.length;0<r;)t+=r--^o++;e.data.set(Tt,[G()^2147483647&Jn(t),Math.round((new Date).getTime()/1e3)].join("."))}Yt(e)},Sn=function(e){var t=L.navigator,o=L.screen,r=T.location;if(e.set(Le,function(e){var t=T.referrer;if(/^https?:\/\//i.test(t)){if(e)return t;e="//"+T.location.hostname;var n=t.indexOf(e);if(!(5!=n&&6!=n||"/"!=(e=t.charAt(n+e.length))&&"?"!=e&&""!=e&&":"!=e))return;return t}}(e.get(Pt))),r){var i=r.pathname||"";"/"!=i.charAt(0)&&(n(31),i="/"+i),e.set(Ee,r.protocol+"//"+r.hostname+i+r.search)}o&&e.set(Ae,o.width+"x"+o.height),o&&e.set(xe,o.colorDepth+"-bit");o=T.documentElement;var s=(i=T.body)&&i.clientWidth&&i.clientHeight,a=[];if(o&&o.clientWidth&&o.clientHeight&&("CSS1Compat"===T.compatMode||!s)?a=[o.clientWidth,o.clientHeight]:s&&(a=[i.clientWidth,i.clientHeight]),o=0>=a[0]||0>=a[1]?"":a.join("x"),e.set(Me,o),e.set(Ce,function(){var e,t,n;if((n=(n=L.navigator)?n.plugins:null)&&n.length)for(var o=0;o<n.length&&!t;o++){var r=n[o];-1<r.name.indexOf("Shockwave Flash")&&(t=r.description)}if(!t)try{t=(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(s){}if(!t)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t="WIN 6,0,21,0",e.AllowScriptAccess="always",t=e.GetVariable("$version")}catch(s){}if(!t)try{t=(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(s){}return t&&(e=t.match(/[\d]+/g))&&3<=e.length&&(t=e[0]+"."+e[1]+" r"+e[2]),t||void 0}()),e.set(ke,T.characterSet||T.charset),e.set(Se,t&&"function"==typeof t.javaEnabled&&t.javaEnabled()||!1),e.set(je,(t&&(t.language||t.browserLanguage)||"").toLowerCase()),r&&e.get(_t)&&(t=T.location.hash)){for(t=t.split(/[?&#]+/),r=[],o=0;o<t.length;++o)(l(t[o],"utm_id")||l(t[o],"utm_campaign")||l(t[o],"utm_source")||l(t[o],"utm_medium")||l(t[o],"utm_term")||l(t[o],"utm_content")||l(t[o],"gclid")||l(t[o],"dclid")||l(t[o],"gclsrc"))&&r.push(t[o]);0<r.length&&(t="#"+r.join("&"),e.set(Ee,e.get(Ee)+t))}};An.prototype.get=function(e){return this.b.get(e)},An.prototype.set=function(e,t){this.b.set(e,t)};var Cn={pageview:[Te],event:[He,qe,Ie,De],social:[_e,Oe,Ne],timing:[ze,Xe,Ge,Ke]};An.prototype.send=function(e){var t,o;1>arguments.length||("string"==typeof arguments[0]?(t=arguments[0],o=[].slice.call(arguments,1)):(t=arguments[0]&&arguments[0][he],o=arguments),t&&((o=y(Cn[t]||[],o))[he]=t,this.b.set(o,void 0,!0),this.filters.D(this.b),this.b.data.m={},Ut(this.ra,this.b)&&function(e){var t=L.performance;if(t&&t.getEntriesByName){n(35);var o="https://www.google-analytics.com/analytics.js?wpid="+e;g(o,void 0,void 0,function(){try{var r=1,i=t.getEntriesByName("https://www.google-analytics.com/analytics.js");i&&0!=i.length||(i=t.getEntriesByName("http://www.google-analytics.com/analytics.js"),r=0);var s=t.getEntriesByName(o);if(i&&1==i.length&&s&&1==s.length){n(37);var a=i[0],c=s[0],l={tid:e,ad:kn(a.duration),bd:kn(c.duration),ar:kn(a.responseEnd-a.requestStart),br:kn(c.responseEnd-c.requestStart),an:kn(a.domainLookupEnd-a.domainLookupStart),bn:kn(c.domainLookupEnd-c.domainLookupStart),ac:kn(a.connectEnd-a.connectStart),bc:kn(c.connectEnd-c.connectStart),as:r};for(var u in(r=[]).push("_v=j48"),r.push("id=10"),l)l.hasOwnProperty(u)&&r.push(u+"="+m(l[u]));r.push("z="+G()),D("https://www.google-analytics.com/u/d",r.join("&"),f)}}catch(d){}})}}(this.b.get(xt))))},An.prototype.ma=function(e,t){var n=this;Bn(e,n,t)||($n(e,function(){Bn(e,n,t)}),Fn(String(n.get(Lt)),e,void 0,t,!0))};var Hn,qn,In,Dn,_n=function(e){return"prerender"!=T.visibilityState&&(e(),!0)},On=function(e){if(!_n(e)){n(16);var t=!1,o=function(){if(!t&&_n(e)){t=!0;var n=o,r=T;r.removeEventListener?r.removeEventListener("visibilitychange",n,!1):r.detachEvent&&r.detachEvent("onvisibilitychange",n)}};p(T,"visibilitychange",o)}},Nn=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,Pn=function(e){if(s(e[0]))this.u=e[0];else{var t=Nn.exec(e[0]);if(null!=t&&4==t.length&&(this.c=t[1]||"t0",this.K=t[2]||"",this.C=t[3],this.a=[].slice.call(e,1),this.K||(this.A="create"==this.C,this.i="require"==this.C,this.g="provide"==this.C,this.ba="remove"==this.C),this.i&&(3<=this.a.length?(this.X=this.a[1],this.W=this.a[2]):this.a[1]&&(c(this.a[1])?this.X=this.a[1]:this.W=this.a[1]))),t=e[1],e=e[2],!this.C)throw"abort";if(this.i&&(!c(t)||""==t))throw"abort";if(this.g&&(!c(t)||""==t||!s(e)))throw"abort";if(Rn(this.c)||Rn(this.K))throw"abort";if(this.g&&"t0"!=this.c)throw"abort"}};function Rn(e){return 0<=e.indexOf(".")||0<=e.indexOf(":")}Hn=new E,In=new E,Dn=new E,qn={ec:45,ecommerce:46,linkid:47};var Bn=function(e,t,n){t==Xn||t.get(Lt);var o=Hn.get(e);return!!s(o)&&(t.plugins_=t.plugins_||new E,!!t.plugins_.get(e)||(t.plugins_.set(e,new o(t,n||{})),!0))},Fn=function(e,t,o,r,i){if(!s(Hn.get(t))&&!In.get(t)){if(qn.hasOwnProperty(t)&&n(qn[t]),hn.test(t)){if(n(52),!(e=Xn.j(e)))return!0;r={id:t,B:(o=r||{}).dataLayer||"dataLayer",ia:!!e.get("anonymizeIp"),na:i,G:!1},e.get("&gtm")==t&&(r.G=!0);var a=String(e.get("name"));"t0"!=a&&(r.target=a),k(String(e.get("trackingId")))||(r.ja=String(e.get(Tt)),r.ka=Number(e.get(jt)),o=o.palindrome?vn:gn,o=(o=T.cookie.replace(/^|(; +)/g,";").match(o))?o.sort().join("").substring(1):void 0,r.la=o,r.qa=w(e.b.get(Ee)||"","gclid")),e=r.B,o=(new Date).getTime(),L[e]=L[e]||[],o={"gtm.start":o},i||(o.event="gtm.js"),L[e].push(o),o=function(e){function t(e,t){t&&(n+="&"+e+"="+m(t))}var n="https://www.google-analytics.com/gtm/js?id="+m(e.id);return"dataLayer"!=e.B&&t("l",e.B),t("t",e.target),t("cid",e.ja),t("cidt",e.ka),t("gac",e.la),t("aip",e.ia),e.na&&t("m","sync"),t("cycle",e.G),e.qa&&t("gclid",e.qa),n}(r)}!o&&qn.hasOwnProperty(t)?(n(39),o=t+".js"):n(43),o&&(o&&0<=o.indexOf("/")||(o=(de||v()?"https:":"http:")+"//www.google-analytics.com/plugins/ua/"+o),e=(r=Vn(o)).protocol,o=T.location.protocol,("https:"==e||e==o||"http:"==e&&"http:"==o)&&Wn(r)&&(g(r.url,void 0,i),In.set(t,!0)))}},$n=function(e,t){var n=Dn.get(e)||[];n.push(t),Dn.set(e,n)},Un=function(e,t){Hn.set(e,t),t=Dn.get(e)||[];for(var n=0;n<t.length;n++)t[n]();Dn.set(e,[])},Wn=function(e){var t=Vn(T.location.href);return!!l(e.url,"https://www.google-analytics.com/gtm/js?id=")||!(e.query||0<=e.url.indexOf("?")||0<=e.path.indexOf("://"))&&(e.host==t.host&&e.port==t.port||(t="http:"==e.protocol?80:443,!("www.google-analytics.com"!=e.host||(e.port||t)!=t||!l(e.path,"/plugins/"))))},Vn=function(e){function t(e){var t=(e.hostname||"").split(":")[0].toLowerCase(),n=(e.protocol||"").toLowerCase();n=1*e.port||("http:"==n?80:"https:"==n?443:"");return e=e.pathname||"",l(e,"/")||(e="/"+e),[t,""+n,e]}var n=T.createElement("a");n.href=T.location.href;var o=(n.protocol||"").toLowerCase(),r=t(n),i=n.search||"",s=o+"//"+r[0]+(r[1]?":"+r[1]:"");return l(e,"//")?e=o+e:l(e,"/")?e=s+e:!e||l(e,"?")?e=s+r[2]+(e||i):0>e.split("/")[0].indexOf(":")&&(e=s+r[2].substring(0,r[2].lastIndexOf("/"))+"/"+e),n.href=e,o=t(n),{protocol:(n.protocol||"").toLowerCase(),host:o[0],port:o[1],path:o[2],query:n.search||"",url:e||""}},zn={ga:function(){zn.f=[]}};zn.ga(),zn.D=function(e){var t=zn.J.apply(zn,arguments);t=zn.f.concat(t);for(zn.f=[];0<t.length&&!zn.v(t[0])&&(t.shift(),!(0<zn.f.length)););zn.f=zn.f.concat(t)},zn.J=function(e){for(var t=[],n=0;n<arguments.length;n++)try{var o=new Pn(arguments[n]);o.g?Un(o.a[0],o.a[1]):(o.i&&(o.ha=Fn(o.c,o.a[0],o.X,o.W)),t.push(o))}catch(r){}return t},zn.v=function(e){try{if(e.u)e.u.call(L,Xn.j("t0"));else{var t=e.c==ue?Xn:Xn.j(e.c);if(e.A)"t0"!=e.c||Xn.create.apply(Xn,e.a);else if(e.ba)Xn.remove(e.c);else if(t)if(e.i){if(e.ha&&(e.ha=Fn(e.c,e.a[0],e.X,e.W)),!Bn(e.a[0],t,e.W))return!0}else if(e.K){var n=e.C,o=e.a,r=t.plugins_.get(e.K);r[n].apply(r,o)}else t[e.C].apply(t,e.a)}}catch(i){}};var Xn=function(e){n(1),zn.D.apply(zn,[arguments])};Xn.h={},Xn.P=[],Xn.L=0,Xn.answer=42;var Kn=[xt,Mt,Lt];Xn.create=function(e){var t=y(Kn,[].slice.call(arguments));t[Lt]||(t[Lt]="t0");var n=""+t[Lt];return Xn.h[n]?Xn.h[n]:(t=new An(t),Xn.h[n]=t,Xn.P.push(t),t)},Xn.remove=function(e){for(var t=0;t<Xn.P.length;t++)if(Xn.P[t].get(Lt)==e){Xn.P.splice(t,1),Xn.h[e]=null;break}},Xn.j=function(e){return Xn.h[e]},Xn.getAll=function(){return Xn.P.slice(0)},Xn.N=function(){"ga"!=ue&&n(49);var e=L[ue];if(!e||42!=e.answer){if(Xn.L=e&&e.l,Xn.loaded=!0,Ft("create",t=L[ue]=Xn,t.create),Ft("remove",t,t.remove),Ft("getByName",t,t.j,5),Ft("getAll",t,t.getAll,6),Ft("get",t=An.prototype,t.get,7),Ft("set",t,t.set,4),Ft("send",t,t.send),Ft("requireSync",t,t.ma),Ft("get",t=Z.prototype,t.get),Ft("set",t,t.set),!v()&&!de){e:{for(var t=T.getElementsByTagName("script"),o=0;o<t.length&&100>o;o++){var r=t[o].src;if(r&&0==r.indexOf("https://www.google-analytics.com/analytics")){n(33),t=!0;break e}}t=!1}t&&(de=!0)}v()||de||!Ut(new $t(1e4))||(n(36),de=!0),(L.gaplugins=L.gaplugins||{}).Linker=un,t=un.prototype,Un("linker",un),Ft("decorate",t,t.ca,20),Ft("autoLink",t,t.S,25),Un("displayfeatures",Tn),Un("adfeatures",Tn),e=e&&e.q,a(e)?zn.D.apply(Xn,e):n(50)}},Xn.da=function(){for(var e=Xn.getAll(),t=0;t<e.length;t++)e[t].get(Lt)};var Gn=Xn.N,Yn=L[ue];function Jn(e){var t,n,o=1;if(e)for(o=0,n=e.length-1;0<=n;n--)o=0!=(t=266338304&(o=(o<<6&268435455)+(t=e.charCodeAt(n))+(t<<14)))?o^t>>21:o;return o}Yn&&Yn.r?Gn():On(Gn),On(function(){zn.D(["provide","render",f])})}(window),function(){var e=window,t="push",n="length",o="prototype",r=function(e){if(e.get&&e.set){this.clear();var t=e.get("buildHitTask");e.set("buildHitTask",d(this,t)),e.set("_rlt",f(this,e.get("_rlt")))}},i={action:"pa",promoAction:"promoa",id:"ti",affiliation:"ta",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",step:"cos",label:"col",option:"col",options:"col",list:"pal",listSource:"pls"},s={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",quantity:"qt",coupon:"cc","dimension(\\d+)":"cd","metric(\\d+)":"cm"},a={id:"id",name:"nm",creative:"cr",position:"ps"},c=function(e,t){this.name=e,this.source=t,this.e=[]},l="detail checkout checkout_option click add remove purchase refund".split(" ");r[o].clear=function(){this.b=void 0,this.f=[],this.a=[],this.g=[],this.d=void 0},r[o].h=function(e,t){var n=t||{};"promo_click"==e?n.promoAction="click":n.action=e,this.b=m(n)},r[o].j=function(e){(e=m(e))&&this.f[t](e)},r[o].i=function(e){var o=m(e);if(o){var r,i=e.list||"";e=e.listSource||"";for(var s=0;s<this.a[n];s++)if(this.a[s].name==i){r=this.a[s];break}r||(r=new c(i,e),this.a[t](r)),r.e[t](o)}},r[o].c=function(e){(e=m(e))&&this.g[t](e)};var u=function(e,t,r){if("[object Array]"==Object[o].toString.call(Object(e)))for(var i=0;i<e[n];i++)t.call(r,e[i])};r[o].data=function(e){if(e&&e.ecommerce){(e=e.ecommerce).promoView&&u(e.promoView.promotions,this.c,this),e.promoClick&&(this.h("promo_click",e.promoClick.actionField),u(e.promoClick.promotions,this.c,this));for(var t=0;t<l[n];t++){var o=e[l[t]];if(o){this.h(l[t],o.actionField),u(o.products,this.j,this);break}}u(e.impressions,this.i,this),e.currencyCode&&(this.d=e.currencyCode)}};var d=function(e,t){return function(o){var r,c,l;for(e.b&&p(i,e.b,o,"&"),r=0;r<e.f[n];r++)c="&pr"+(r+1),p(s,e.f[r],o,c);for(r=0;r<e.a[n];r++){c="&il"+(r+1),(l=e.a[r]).name&&o.set(c+"nm",l.name,!0),l.source&&o.set(c+"ls",l.source,!0);for(var u=0;u<l.e[n];u++)p(s,l.e[u],o,c+"pi"+(u+1))}for(r=0;r<e.g[n];r++)c="&promo"+(r+1),p(a,e.g[r],o,c);return e.d&&o.set("&cu",e.d,!0),e.clear(),t(o)}},f=function(e,t){return function(n){var o=e.b&&e.b.action;if("purchase"!=o&&"refund"!=o)return t(n)}},m=function(e){var t=0,n={};if(e&&"object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o],t++);return t?n:void 0},p=function(e,t,n,o){for(var r in t)if(t.hasOwnProperty(r))for(var i in e)if(e.hasOwnProperty(i)){var s=r.match("^"+i+"$");s&&n.set(o+e[i]+s.slice(1).join(""),t[r],!0)}};!function(){e.gaplugins=e.gaplugins||{},e.gaplugins.EC=r,r[o].setAction=r[o].h,r[o].addProduct=r[o].j,r[o].addImpression=r[o].i,r[o].addPromo=r[o].c,r[o].clear=r[o].clear,r[o].data=r[o].data;var n=e.GoogleAnalyticsObject||"ga";e[n]=e[n]||function(){(e[n].q=e[n].q||[])[t](arguments)},e[n]("provide","ec",r)}()}(),window.ga||(window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[]),co="octolyticsPlugin",lo=function(e){const t=e.get("sendHitTask");e.set("sendHitTask",function(e){if(t(e),"event"===e.get("hitType")&&window._octo){const t=`//${window._octo.host}/collect`,n=new Blob([e.get("hitPayload")],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon&&navigator.sendBeacon(t,n)}})},window.ga("provide",co,lo);var uo=null,fo=null,mo=[];function po(e,t){var n=[];function o(){var e=n;n=[],t(e)}return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];n.push(r),1===n.length&&ho(e,o)}}function ho(e,t){fo||(fo=new MutationObserver(go)),uo||(uo=e.createElement("div"),fo.observe(uo,{attributes:!0})),mo.push(t),uo.setAttribute("data-twiddle",""+Date.now())}function go(){var e=mo;mo=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(n){setTimeout(function(){throw n},0)}}var vo=new WeakMap,wo=new WeakMap,bo=new WeakMap,yo=new WeakMap;function Eo(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=o[0],i=o[1],s=o[2];r===Mo?(Lo(s,i),To(s,i)):r===So?jo(s,i):r===Co&&ko(e.observers,i)}}function Lo(e,t){if(t instanceof e.elementConstructor){var n=vo.get(t);if(n||(n=[],vo.set(t,n)),-1===n.indexOf(e.id)){var o=void 0;if(e.initialize&&(o=e.initialize.call(void 0,t)),o){var r=wo.get(t);r||(r={},wo.set(t,r)),r[""+e.id]=o}n.push(e.id)}}}function To(e,t){if(t instanceof e.elementConstructor){var n=yo.get(t);if(n||(n=[],yo.set(t,n)),-1===n.indexOf(e.id)){e.elements.push(t);var o=wo.get(t),r=o?o[""+e.id]:null;if(r&&r.add&&r.add.call(void 0,t),e.subscribe){var i=e.subscribe.call(void 0,t);if(i){var s=bo.get(t);s||(s={},bo.set(t,s)),s[""+e.id]=i}}e.add&&e.add.call(void 0,t),n.push(e.id)}}}function jo(e,t){if(t instanceof e.elementConstructor){var n=yo.get(t);if(n){var o=e.elements.indexOf(t);if(-1!==o&&e.elements.splice(o,1),-1!==(o=n.indexOf(e.id))){var r=wo.get(t),i=r?r[""+e.id]:null;if(i&&i.remove&&i.remove.call(void 0,t),e.subscribe){var s=bo.get(t),a=s?s[""+e.id]:null;a&&a.unsubscribe&&a.unsubscribe()}e.remove&&e.remove.call(void 0,t),n.splice(o,1)}0===n.length&&yo.delete(t)}}}function ko(e,t){var n=yo.get(t);if(n){for(var o=n.slice(0),r=0;r<o.length;r++){var i=e[o[r]];if(i){var s=i.elements.indexOf(t);-1!==s&&i.elements.splice(s,1);var a=wo.get(t),c=a?a[""+i.id]:null;c&&c.remove&&c.remove.call(void 0,t);var l=bo.get(t),u=l?l[""+i.id]:null;u&&u.unsubscribe&&u.unsubscribe(),i.remove&&i.remove.call(void 0,t)}}yo.delete(t)}}var xo=null;function Ao(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var Mo=1,So=2,Co=3;function Ho(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];"childList"===r.type?(qo(e,t,r.addedNodes),Io(e,t,r.removedNodes)):"attributes"===r.type&&Do(e,t,r.target)}(function(e){if(null===xo){var t=e.createElement("div"),n=e.createElement("div"),o=e.createElement("div");t.appendChild(n),n.appendChild(o),t.innerHTML="",xo=o.parentNode!==n}return xo})(e.ownerDocument)&&function(e,t){for(var n=0;n<e.observers.length;n++){var o=e.observers[n];if(o)for(var r=o.elements,i=0;i<r.length;i++){var s=r[i];s.parentNode||t.push([Co,s])}}}(e,t)}function qo(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];if(Ao(r))for(var i=e.selectorSet.matches(r),s=0;s<i.length;s++){var a=i[s].data;t.push([Mo,r,a])}if("querySelectorAll"in r)for(var c=e.selectorSet.queryAll(r),l=0;l<c.length;l++)for(var u=c[l],d=u.data,f=u.elements,m=0;m<f.length;m++)t.push([Mo,f[m],d])}}function Io(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];if("querySelectorAll"in r){t.push([Co,r]);for(var i=r.querySelectorAll("*"),s=0;s<i.length;s++)t.push([Co,i[s]])}}}function Do(e,t,n){if(Ao(n))for(var o=e.selectorSet.matches(n),r=0;r<o.length;r++){var i=o[r].data;t.push([Mo,n,i])}if("querySelectorAll"in n){var s=yo.get(n);if(s)for(var a=0;a<s.length;a++){var c=e.observers[s[a]];c&&(e.selectorSet.matchesSelector(n,c.selector)||t.push([So,n,c]))}}}var _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo=0;function No(e){var t,o,r;this.rootNode=9===e.nodeType?e.documentElement:e,this.ownerDocument=9===e.nodeType?e:e.ownerDocument,this.observers=[],this.selectorSet=new n,this.mutationObserver=new MutationObserver(function(e,t){var n=[];Ho(e,n,t),Eo(e,n)}.bind(this,this)),this._scheduleAddRootNodes=po(this.ownerDocument,function(e){var t=[];qo(e,t,[e.rootNode]),Eo(e,t)}.bind(this,this)),this._handleThrottledChangedTargets=po(this.ownerDocument,function(e,t){var n=[];(function(e,t,n){for(var o=0;o<n.length;o++)for(var r=n[o],i=r.form?r.form.elements:e.rootNode.querySelectorAll("input"),s=0;s<i.length;s++)Do(e,t,i[s])})(e,n,t),Eo(e,n)}.bind(this,this)),this.rootNode.addEventListener("change",function(e,t){e._handleThrottledChangedTargets(t.target)}.bind(this,this),!1),t=this.ownerDocument,o=function(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}.bind(this,this),"interactive"===(r=t.readyState)||"complete"===r?ho(t,o):t.addEventListener("DOMContentLoaded",ho(t,o))}No.prototype.disconnect=function(){this.mutationObserver.disconnect()},No.prototype.observe=function(e,t){var n=void 0;"function"==typeof t?n={selector:e,initialize:t}:"object"===(void 0===t?"undefined":_o(t))?(n=t).selector=e:n=e;var o=this,r={id:Oo++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){o._abortObserving(r)}};return this.selectorSet.add(r.selector,r),this.observers[r.id]=r,this._scheduleAddRootNodes(),r},No.prototype._abortObserving=function(e){for(var t=e.elements,n=0;n<t.length;n++)jo(e,t[n]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]},No.prototype.triggerObservers=function(e){var t=[];!function(e,t,n){if("querySelectorAll"in n){Do(e,t,n);for(var o=n.querySelectorAll("*"),r=0;r<o.length;r++)Do(e,t,o[r])}}(this,t,e),Eo(this,t)};var Po=void 0;function Ro(){var e;return(Po||(Po=new No(window.document)),e=Po).observe.apply(e,arguments)}const Bo=document.querySelector("meta[name=google-analytics]");Bo instanceof HTMLMetaElement&&(!function(e,t,n={}){window.ga("create",e,t,n),window.ga("set","transport","sendBeacon"in window.navigator?"beacon":"xhr")}(Bo.content,"auto"),eo("octolyticsPlugin"),eo("ec"),ro()),async function(){await Ln,so()}(),document.addEventListener("pjax:complete",()=>{setTimeout(()=>{ro(),so()},20)},!1),Ro("[data-ga-load]",function(e){const t=ao(e.getAttribute("data-ga-load")||"");t.interactive=!1,to(t)}),Ro("meta[name=analytics-event]",{constructor:HTMLMetaElement,initialize(e){const t=ao(e.content);t.interactive=!1,to(t)}}),k("click","[data-ga-click]",function(e){io(e.currentTarget.getAttribute("data-ga-ec")||""),to(ao(e.currentTarget.getAttribute("data-ga-click")||""))},{capture:!0}),k("click","[data-ga-deferred]",function(e){Zn("ga-deferred",e.currentTarget.getAttribute("data-ga-deferred")||"")},{capture:!0}),k("change","[data-ga-change]",function(e){io(e.currentTarget.getAttribute("data-ga-ec")||""),to(ao(e.currentTarget.getAttribute("data-ga-change")||""))},{capture:!0}),k("click",".js-skip-to-content",function(e){const t=document.getElementById("start-of-content");if(t){const e=t.nextElementSibling;e instanceof HTMLElement&&(e.setAttribute("tabindex","-1"),e.focus())}e.preventDefault()});const Fo="ontouchstart"in document;for(const Tu of document.querySelectorAll(".HeaderMenu-details"))Tu.addEventListener("toggle",Uo),Fo||(Tu.addEventListener("mouseover",Wo),Tu.addEventListener("mouseleave",Wo));let $o=!1;function Uo(e){if(!$o){$o=!0;for(const t of document.querySelectorAll(".HeaderMenu-details"))t!==e.currentTarget&&t.removeAttribute("open");setTimeout(()=>$o=!1)}}function Wo(e){const{currentTarget:t}=e;t instanceof HTMLElement&&window.innerWidth>1012&&("mouseover"===e.type?e.target instanceof Node&&e.relatedTarget instanceof Node&&t.contains(e.target)&&!t.contains(e.relatedTarget)&&t.setAttribute("open",""):t.removeAttribute("open"))}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xo(e,t,n){return t&&zo(e.prototype,t),n&&zo(e,n),e}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Go=function(){function e(t){Vo(this,e),Ko(this,"parent",void 0),Ko(this,"children",[]),this.parent=t}return Xo(e,[{key:"delete",value:function(e){var t=this.children.indexOf(e);return-1!==t&&(this.children=this.children.slice(0,t).concat(this.children.slice(t+1)),0===this.children.length&&this.parent.delete(this),!0)}},{key:"add",value:function(e){return this.children.push(e),this}}]),e}();function Yo(e){if(!(e instanceof HTMLElement))return!1;var t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n&&"checkbox"!==n&&"radio"!==n||e.isContentEditable}function Jo(e){Yo(e)?e.focus():(e instanceof HTMLAnchorElement&&e.href||"BUTTON"===e.tagName||"SUMMARY"===e.tagName||function(e){if(!(e instanceof HTMLElement))return!1;var t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"input"===t&&("checkbox"===n||"radio"===n)}(e))&&e.click()}function Zo(e){return"".concat(e.ctrlKey?"Control+":"").concat(e.altKey?"Alt+":"").concat(e.metaKey?"Meta+":"").concat(e.key)}var Qo=new(function(){function e(t){Vo(this,e),Ko(this,"parent",null),Ko(this,"children",{}),this.parent=t||null}return Xo(e,[{key:"get",value:function(e){return this.children[e]}},{key:"insert",value:function(t){for(var n=this,o=0;o<t.length;o+=1){var r=t[o],i=n.get(r);if(o===t.length-1)return i instanceof e&&(n.delete(i),i=null),i||(i=new Go(n),n.children[r]=i),i;i instanceof Go&&(i=null),i||(i=new e(n),n.children[r]=i),n=i}return n}},{key:"delete",value:function(e){for(var t in this.children){if(this.children[t]===e){var n=delete this.children[t];return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),n}}return!1}}]),e}()),er=new WeakMap,tr=Qo,nr=null;function or(){nr=null,tr=Qo}function rr(e){if(!(e.target instanceof Node&&Yo(e.target))){null!=nr&&clearTimeout(nr),nr=setTimeout(or,1500);var t=tr.get(Zo(e));if(t)return tr=t,t instanceof Go?(Jo(t.children[t.children.length-1]),e.preventDefault(),void or()):void 0;or()}}Ro("[data-hotkey]",{add(e){!function(e,t){0===Object.keys(Qo.children).length&&document.addEventListener("keydown",rr);var n=function(e){return e.split(",").map(function(e){return e.split(" ")})}(t||e.getAttribute("data-hotkey")||"").map(function(t){return Qo.insert(t).add(e)});er.set(e,n)}(e)},remove(e){!function(e){var t=er.get(e);if(t&&t.length){var n=!0,o=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;a&&a.delete(e)}}catch(c){o=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}}0===Object.keys(Qo.children).length&&document.removeEventListener("keydown",rr)}(e)}});class ir{constructor(e){this.closed=!1,this.unsubscribe=(()=>{e(),this.closed=!0})}}function sr(e,t,n,o=!1){return e.addEventListener(t,n,o),new ir(()=>{e.removeEventListener(t,n,o)})}function ar(...e){return new ir(()=>{for(const t of e)t.unsubscribe()})}function cr(e){if(!window._octo)return;const t=Math.floor((new Date).getTime()/1e3);e.timestamp=t;if(document.head&&document.head.querySelector('meta[name="octolytics-event-url"]')){const t=_(document.head,'meta[name="octolytics-event-url"]',HTMLMetaElement).content,n=JSON.stringify(e);navigator.sendBeacon&&navigator.sendBeacon(t,n)}}function lr(e,t){const n=e.head;if(!n)return"";for(const o of n.getElementsByTagName("meta"))if(o.name===t)return o.content;return""}function ur(e){const t=lr(e,"expected-hostname");return!!t&&t.replace(/\.$/,"").split(".").slice(-2).join(".")!==e.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".")}k("click","[data-octo-click]",function(e){if(!window._octo)return;const t=e.currentTarget,n=t instanceof HTMLElement&&t.getAttribute("data-octo-click")||"",o={};o.event_type=n;const r={},i={},s={};let a=[];t instanceof HTMLElement&&t.hasAttribute("data-octo-dimensions")&&(a=(t.getAttribute("data-octo-dimensions")||"").split(","));const c=document.head?document.head.querySelectorAll('meta[name^="octolytics-"]'):[];for(const l of c)if(l instanceof HTMLMetaElement)if(l.name.startsWith("octolytics-dimension-")){r[l.name.replace(/^octolytics-dimension-/,"")]=l.content}else if(l.name.startsWith("octolytics-measure-")){i[l.name.replace(/^octolytics-measure-/,"")]=l.content}else if(l.name.startsWith("octolytics-context-")){s[l.name.replace(/^octolytics-context-/,"")]=l.content}else if(l.name.startsWith("octolytics-actor-")){r[l.name.replace(/^octolytics-/,"").replace(/-/g,"_")]=l.content}else if(l.name.startsWith("octolytics-")){o[l.name.replace(/^octolytics-/,"").replace(/-/g,"_")]=l.content}if(t instanceof HTMLElement&&t.hasAttribute("data-ga-click")){const e=(t.getAttribute("data-ga-click")||"").split(",").map(e=>e.trim());r.category=e[0],r.action=e[1]}for(const l of a){const e=l.split(":"),t=e.shift();t&&(r[t]=e.join(":"))}o.dimensions=r,o.measures=i,o.context=s,cr(o)});let dr=[];function fr(e,t=!1){void 0===e.timestamp&&(e.timestamp=(new Date).getTime()),dr.push(e),t?pr():async function(){await Tn,null==mr&&(mr=window.requestIdleCallback(pr))}()}let mr=null;function pr(){if(mr=null,ur(document))return;const e=lr(document,"browser-stats-url");if(!e)return;const t=JSON.stringify({stats:dr});navigator.sendBeacon&&navigator.sendBeacon(e,t),dr=[]}k("click","[data-hydro-click]",function(e){const t=e.currentTarget;fr({hydroEventPayload:t.getAttribute("data-hydro-click")||"",hydroEventHmac:t.getAttribute("data-hydro-click-hmac")||"",hydroClientContext:t.getAttribute("data-hydro-client-context")||""},!0)});const hr=document.querySelector(".js-hovercard-content"),gr={};let vr,wr,br=null,yr=0;const Er=12,Lr=24,Tr=Lr-7,jr=16,kr=100,xr=250;function Ar(e){return"Popover-message--"+e}function Mr(e){setTimeout(()=>{if(document.body&&document.body.contains(e)){const t=e.querySelector("[data-hovercard-tracking]");if(t){const e=t.getAttribute("data-hovercard-tracking");if(e){const t={event_type:"user-hovercard-load"};t.dimensions=JSON.parse(e),cr(t)}}const n=e.querySelector("[data-hydro-view]");n instanceof HTMLElement&&function(e){fr({hydroEventPayload:e.getAttribute("data-hydro-view")||"",hydroEventHmac:e.getAttribute("data-hydro-view-hmac")||"",hydroClientContext:e.getAttribute("data-hydro-client-context")||""},!0)}(n)}},500)}function Sr(){hr instanceof HTMLElement&&(hr.style.display="none",hr.children[0].innerHTML="",br=null,vr=null)}function Cr(e){if(!(hr instanceof HTMLElement))throw new Error("invariant violation, cardContentContainer is not HTMLElement");const{width:t,height:n}=hr.getBoundingClientRect(),{left:o,top:r,height:i,width:s}=function(e){const t=e.getClientRects();let n=t[0];for(const o of t)if(o.left<yr&&o.right>yr){n=o;break}return n}(e),a=r>n;if(e.classList.contains("js-hovercard-left")){const e=r+i/2;return{containerTop:a?e-n+Tr+jr/2:e-Tr-jr/2,containerLeft:o-t-Er,contentClassSuffix:a?"right-bottom":"right-top"}}{const e=window.innerWidth-o>t,c=o+s/2;return{containerTop:a?r-n-Er:r+i+Er,containerLeft:e?c-Lr:c-t+Lr,contentClassSuffix:a?e?"bottom-left":"bottom-right":e?"top-left":"top-right"}}}function Hr(e,t){if(!(hr instanceof HTMLElement))return;const n=hr.children[0];n.innerHTML="";const o=document.createElement("div");for(const r of e.children)o.appendChild(r.cloneNode(!0));n.appendChild(o),function(e,t){if(!(hr instanceof HTMLElement))return;hr.style.visibility="hidden",hr.style.display="block",t.classList.remove(Ar("bottom-left"),Ar("bottom-right"),Ar("right-top"),Ar("right-bottom"),Ar("top-left"),Ar("top-right"));const{containerTop:n,containerLeft:o,contentClassSuffix:r}=Cr(e);t.classList.add(Ar(r)),hr.style.top=`${n+window.pageYOffset}px`,hr.style.left=`${o+window.pageXOffset}px`,function(e,t){const n=e.getAttribute("data-hovercard-z-index-override");t.style.zIndex=n||"100"}(e,hr),hr.style.visibility=""}(t,n),Mr(o),hr.style.display="block"}function qr(e){const t=e.getAttribute("data-hovercard-url");if(t){const n=function(e){const t=e.closest("[data-hovercard-subject-tag]");if(t)return t.getAttribute("data-hovercard-subject-tag");const n=document.head&&document.head.querySelector('meta[name="hovercard-subject-tag"]');return n?n.getAttribute("content"):null}(e);if(n){const e=new URL(t,window.location.origin),o=new URLSearchParams(e.search.slice(1));return o.append("subject",n),o.append("current_path",window.location.pathname+window.location.search),e.search=o.toString(),e.toString()}return t}return""}async function Ir(e,t){const n=e.currentTarget;if(e instanceof MouseEvent&&(yr=e.clientX),!(n instanceof Element))return;if(vr===n)return;if(n.closest(".js-hovercard-content"))return;if(!function(e){const t=e.getAttribute("data-hovercard-type");return"pull_request"===t||"issue"===t?!!e.closest("[data-issue-and-pr-hovercards-enabled]"):"team"===t?!!e.closest("[data-team-hovercards-enabled]"):"repository"===t?!!e.closest("[data-repository-hovercards-enabled]"):"commit"===t?!!e.closest("[data-commit-hovercards-enabled]"):"project"===t?!!e.closest("[data-project-hovercards-enabled]"):"contributors"!==t||!!e.closest("[data-contributors-hovercards-enabled]")}(n))return;Sr(),vr=n,br=document.activeElement;const o=qr(n);let r;try{const e=new Promise(e=>window.setTimeout(e,t,0));r=await async function(e){return gr[e]||(gr[e]=K(document,e)),gr[e]}(o),await e}catch(i){const e=i.response;if(e&&404===e.status){const e="Hovercard is unavailable";return n.setAttribute("aria-label",e),void n.classList.add("tooltipped","tooltipped-ne")}if(e&&410===e.status){const t=await e.clone().json();return n.setAttribute("aria-label",t.message),void n.classList.add("tooltipped","tooltipped-ne")}if(/X-HTML-Safe/.test(i.message))return;throw i}n===vr&&(Hr(r,n),e instanceof KeyboardEvent&&hr instanceof HTMLElement&&hr.focus())}function Dr(e){Ir(e,xr)}function _r(e){if(vr){if(e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement){const t=e.relatedTarget;if(t.closest(".js-hovercard-content")||t.closest("[data-hovercard-url]"))return}else e instanceof KeyboardEvent&&br instanceof HTMLElement&&br.focus();Sr()}}function Or(e){const t=vr;wr=window.setTimeout(()=>{vr===t&&_r(e)},kr)}function Nr(e){if(e instanceof KeyboardEvent)switch(e.key){case"Escape":_r(e)}}function Pr(){wr&&clearTimeout(wr)}hr&&(Ro("[data-hovercard-url]",{subscribe:e=>ar(sr(e,"mouseover",Dr),sr(e,"mouseleave",Or),sr(e,"keyup",Nr))}),Ro("[data-hovercard-url]",{remove(e){vr===e&&Sr()}}),Ro(".js-hovercard-content",{subscribe:e=>ar(sr(e,"mouseover",Pr),sr(e,"mouseleave",_r),sr(e,"keyup",Nr))}),Ro(".js-hovercard-include-fragment",{constructor:HTMLTemplateElement,add(e){vr&&Hr(e.content,vr)}}),k("menu:activated","details",Sr),window.addEventListener("statechange",Sr));let Rr=!1;const Br=new n;function Fr(e){const t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(const n of Br.matches(t))n.data.call(null,t)}function $r(e,t){Rr||(Rr=!0,document.addEventListener("focus",Fr,!0)),Br.add(e,t),document.activeElement&&document.activeElement.matches(e)&&t(document.activeElement)}function Ur(e,t,n){function o(t){const{currentTarget:r}=t;r&&(r.removeEventListener(e,n),r.removeEventListener("blur",o))}$r(t,function(t){t.addEventListener(e,n),t.addEventListener("blur",o)})}function Wr(e,t){function n(e){const{currentTarget:o}=e;o&&(o.removeEventListener("input",t),o.removeEventListener("blur",n))}$r(e,function(e){e.addEventListener("input",t),e.addEventListener("blur",n)})}function Vr(e){const t=e.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(t){if(1===t.length){const e=Kr(t[0]);if(!e)return;return Object.freeze({start:e,end:e})}if(2===t.length){const e=Kr(t[0]),n=Kr(t[1]);if(!e||!n)return;return Yr(Object.freeze({start:e,end:n}))}}else;}function zr(e){return{blobRange:Vr(e),anchorPrefix:function(e){const t=e.match(/(file-.+?-)L\d+?/i);return t?t[1]:""}(e)}}function Xr({anchorPrefix:e,blobRange:t}){return t?`#${e}${function(e){const{start:t,end:n}=Yr(e);return null!=t.column&&null!=n.column?`L${t.line}C${t.column}-L${n.line}C${n.column}`:t.line===n.line?`L${t.line}`:`L${t.line}-L${n.line}`}(t)}`:"#"}function Kr(e){const t=e.match(/L(\d+)/),n=e.match(/C(\d+)/);return t?Object.freeze({line:parseInt(t[1]),column:n?parseInt(n[1]):null}):null}function Gr(e,t,n){const o=[null,0],r=n(e.line);if(!r)return o;if(null==e.column)return[r,-1];let i=e.column-1;const s=function e(t){if(t.nodeType===Node.TEXT_NODE)return[t];if(!t.childNodes||!t.childNodes.length)return[];let n=[];for(const o of t.childNodes)n=n.concat(e(o));return n}(r);for(let a=0;a<s.length;a++){const e=s[a],n=i-e.textContent.length;if(0===n){const n=s[a+1];return t&&n?[n,0]:[e,i]}if(n<0)return[e,i];i=n}return o}function Yr(e){const t=[e.start,e.end];return t.sort(Jr),t[0]===e.start&&t[1]===e.end?e:Object.freeze({start:t[0],end:t[1]})}function Jr(e,t){return e.line===t.line&&e.column===t.column?0:e.line===t.line&&"number"==typeof e.column&&"number"==typeof t.column?e.column-t.column:e.line-t.line}Wr(".js-csv-filter-field",function(e){if(!(e.target instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/pages/blob/csv.js:4");const t=e.target.value.toLowerCase();for(const n of document.querySelectorAll(".js-csv-data tbody tr"))n.hidden=!!t&&!n.textContent.toLowerCase().includes(t)});let Zr=!1;function Qr(e,t){return document.querySelector(`#${e}LC${t}`)}function ei({blobRange:e,anchorPrefix:t}){if(0!==document.querySelectorAll(".js-file-line").length&&(function(){for(const e of document.querySelectorAll(".js-file-line.highlighted"))e.classList.remove("highlighted");for(const e of document.querySelectorAll(".js-file-line .highlighted")){const t=D(e,".js-file-line");e.replaceWith(...e.childNodes),t.normalize()}}(),e))if(null===e.start.column||null===e.end.column)for(let n=e.start.line;n<=e.end.line;n+=1){const e=Qr(t,n);e&&e.classList.add("highlighted")}else if(e.start.line===e.end.line&&null!=e.start.column&&null!=e.end.column){const n=function(e,t){const[n,o]=Gr(e.start,!0,t),[r,i]=Gr(e.end,!1,t);if(!n||!r)return;let s=o,a=i;if(-1===s&&(s=0),-1===a&&(a=r.childNodes.length),!n.ownerDocument)throw new Error("DOMRange needs to be inside document");const c=n.ownerDocument.createRange();return c.setStart(n,s),c.setEnd(r,a),c}(e,e=>Qr(t,e));if(n){const e=document.createElement("span");e.classList.add("highlighted"),function(e,t){t.appendChild(e.extractContents()),e.insertNode(t)}(n,e)}}}function ti(){const e=zr(window.location.hash);ei(e),function(){const e=document.querySelector(".js-file-line-actions");if(!e)return;const t=document.querySelectorAll(".js-file-line.highlighted"),n=t[0];if(n){!function(e){const t=[];for(const i of e)t.push(i.textContent);const n=document.getElementById("js-copy-lines");if(n instanceof ClipboardCopyElement){n.textContent=`Copy ${o=e.length,r="line",1===o?r:r.endsWith("y")?`${r.substring(0,r.length-1)}ies`:`${r}s`}`,n.value=t.join("\n");const i=`Blob, copyLines, numLines:${e.length.toString()}`;n.setAttribute("data-ga-click",i)}var o,r}(t),function(e){const t=document.getElementById("js-view-git-blame");if(!t)return;t.setAttribute("data-ga-click",`Blob, viewGitBlame, numLines:${e.toString()}`)}(t.length);const o=function(e){const t=document.querySelector(".js-permalink-shortcut");if(t instanceof HTMLAnchorElement){const n=`${t.href}${window.location.hash}`,o=document.getElementById("js-copy-permalink");if(o instanceof ClipboardCopyElement){o.value=n;const t=`Blob, copyPermalink, numLines:${e.toString()}`;o.setAttribute("data-ga-click",t)}return n}}(t.length);o&&function(e,t){const n=document.getElementById("js-new-issue");if(n instanceof HTMLAnchorElement){if(!n.href)return;const o=new URL(n.href,window.location.origin),r=new URLSearchParams(o.search.slice(1));r.set("permalink",e),o.search=r.toString(),n.href=o.toString(),n.setAttribute("data-ga-click",`Blob, newIssue, numLines:${t.toString()}`)}}(o,t.length),e.style.top=`${n.offsetTop-2}px`,e.classList.remove("d-none")}else e.classList.add("d-none")}();const{blobRange:t,anchorPrefix:n}=e,o=t&&Qr(n,t.start.line);if(!Zr&&o){o.scrollIntoView(),D(o,".blob-wrapper, .js-blob-wrapper").scrollLeft=0}Zr=!1}function ni(e,t){return""===t?null:e.getElementById(t)||e.getElementsByName(t)[0]}function oi(e){try{return decodeURIComponent(e.slice(1))}catch(t){return""}}xn(function(){if(document.querySelector(".js-file-line-container")){setTimeout(ti,0);const e=window.location.hash;for(const t of document.querySelectorAll(".js-update-url-with-hash"))if(t instanceof HTMLAnchorElement)t.hash=e;else if(t instanceof HTMLFormElement){const n=new URL(t.action,window.location.origin);n.hash=e,t.action=n.toString()}}}),k("click",".js-line-number",function(e){if(!(e instanceof MouseEvent))throw new Error("invariant: expected click event to be MouseEvent -- app/assets/modules/github/pages/blob/lines.js:184");const t=zr(e.currentTarget.id),{blobRange:n}=t;if(!n)throw new Error("invariant: expected line number clicks to match range -- app/assets/modules/github/pages/blob/lines.js:189");const o=Vr(window.location.hash);o&&e.shiftKey&&(t.blobRange={start:o.start,end:n.end}),function(e){const t=window.scrollY;Zr=!0,e(),window.scrollTo(0,t)}(()=>{window.location.hash=Xr(t)})}),k("submit",".js-jump-to-line-form",function(e){const t=_(e.currentTarget,".js-jump-to-line-field",HTMLInputElement).value.replace(/[^\d-]/g,"").split("-").map(e=>parseInt(e,10)).filter(e=>e>0).sort((e,t)=>e-t);t.length&&(window.location.hash=`L${t.join("-L")}`),e.preventDefault()});const ri=(new Date).getTime();const ii=/^\S/,si=/^\s+at /;function ai(){const e=lr(document,"user-login");if(e)return e;const t=window._octo&&window._octo._clientId();return t?`anonymous-${t}`:null}window.addEventListener("pageshow",()=>{}),window.addEventListener("pagehide",()=>{});const ci=document.querySelector("meta[name=js-proxy-site-detection-payload]"),li=document.querySelector("meta[name=expected-hostname]");if(ci instanceof HTMLMetaElement&&li instanceof HTMLMetaElement&&ur(document)){const e={url:window.location.href,expectedHostname:li.content,documentHostname:document.location.hostname,proxyPayload:ci.content},t=new Error,n={};n.$__=btoa(JSON.stringify(e)),function(e,t={}){!function(e){const t=lr(document,"browser-errors-url");t&&window.fetch(t,{method:"post",body:JSON.stringify(e)}).catch(function(){})}(function(e,t={}){let n;if(e){let o="";const r=e;if(e.stack){const{framesToPop:t}=r;o=function(e,t=0){if(0===t)return e;let n=e.split("\n");return n.length>=2&&ii.test(n[0])&&si.test(n[1])&&n.shift(),null!=t&&(n=n.slice(t)),n.join("\n")}(e.stack,t)}else{let{fileName:e,lineNumber:n,columnNumber:i}=r;null==e&&(e=String(t.filename)),null==n&&(n=t.lineno||0),null==i&&(i=t.colno||0),o=`${e}:${n}:${i}`}n={message:e.message,name:e.name,stack:o,toString:e.toString()}}return Object.assign({error:n,filename:"",lineno:0,colno:0,url:window.location.href,readyState:document.readyState,referrer:document.referrer,timeSinceLoad:Math.round((new Date).getTime()-ri),user:ai()||void 0},t)}(e,t))}(t,n)}let ui=!1;const di=[];function fi(){di.length?ui||(window.addEventListener("resize",mi,{passive:!0}),document.addEventListener("scroll",mi,{passive:!0}),ui=!0):function(){const e={passive:!0};window.removeEventListener("resize",mi,e),document.removeEventListener("scroll",mi,e),ui=!1}()}function mi(){for(const e of di)if(e.element.offsetHeight>0){const{element:t,placeholder:n,top:o}=e,r=t.getBoundingClientRect();if(n){const i=n.getBoundingClientRect();t.classList.contains("is-stuck")?i.top>parseInt(String(o))?hi(e):gi(e):r.top<=parseInt(String(o))&&pi(e)}else r.top<=parseInt(String(o))?pi(e):hi(e)}}function pi({element:e,placeholder:t,top:n}){if(t){const o=e.getBoundingClientRect();e.style.top=n.toString(),e.style.left=`${o.left}px`,e.style.width=`${o.width}px`,e.style.marginTop="0",e.style.position="fixed",t.style.display="block"}e.classList.add("is-stuck")}function hi({element:e,placeholder:t}){t&&(e.style.position="static",e.style.marginTop=t.style.marginTop,t.style.display="none"),e.classList.remove("is-stuck")}function gi({element:e,placeholder:t,offsetParent:n,top:o}){if(t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(e.style.left=`${i.left}px`,e.style.width=`${i.width}px`,n){const t=n.getBoundingClientRect();t.bottom<r.height+parseInt(String(o))&&(e.style.top=`${t.bottom-r.height}px`)}}}function vi(e){if(function(e){const{position:t}=window.getComputedStyle(e);return/sticky/.test(t)}(e))return null;const t=e.previousElementSibling;if(t&&t.classList.contains("is-placeholder")){if(!(t instanceof HTMLElement))throw new Error("invariant error: previousElement must be an HTMLElement");return t}const n=document.createElement("div");if(n.style.visibility="hidden",n.style.display="none",n.style.height=window.getComputedStyle(e).height,n.className=e.className,n.classList.remove("js-sticky"),n.classList.add("is-placeholder"),!e.parentNode)throw new Error("invariant error: Element must be inserted into the dom");return e.parentNode.insertBefore(n,e)}function wi(e){const t=e.ownerDocument;e.scrollIntoView(),t.defaultView.scrollBy(0,-function(e){mi();const t=e.querySelectorAll(".js-sticky-offset-scroll"),n=e.querySelectorAll(".js-position-sticky");return Math.max(0,...Array.from(t).map(e=>{const{top:t,height:n}=e.getBoundingClientRect();return 0===t?n:0}))+Math.max(0,...Array.from(n).map(e=>{const{top:t,height:n}=e.getBoundingClientRect(),o=parseInt(getComputedStyle(e).top);if(!e.parentElement)return 0;const r=e.parentElement.getBoundingClientRect().top;return t===o&&r<0?n:0}))}(t))}function bi(e,t){return O(document,".js-details-container.open.Details--on").filter(n=>n.getAttribute(e)===t)}function yi(e,t,n,o,r){const i=_(document,".js-file-filter"),s=new URL(window.location.href,window.location.origin);if(!e&&!o){if(t)return;return s.search="",Yn(zn(),"",s.toString())}const a=_(i,".js-file-filter-form",HTMLFormElement),c=new FormData(a),l=n.filter(e=>!c.getAll("file-filters[]").includes(e)),u=r.filter(e=>!c.getAll("owned-by[]").includes(e));for(const f of l)c.append("file-filters[]",f);for(const f of u)c.append("owned-by[]",f);const d=new URLSearchParams(c);d.has("file-filters[]")&&""!==d.toString()||d.set("file-filters[]",""),t&&d.set("w","1"),s.search=d.toString(),Yn(zn(),"",s.toString())}function Ei(e){var t;t=e,_(document,".js-file-filter-text",HTMLElement).classList.toggle("text-blue",t),function(e){const t=document.querySelector(".js-reset-filters"),n=document.querySelector(".js-commits-filtered");null==t||n||(t.hidden=!e)}(e),function(){const e=ji(),t=qi();for(const r of e)if(t){const e="0"===P(r,"data-non-deleted-files-count");r.disabled=e}else r.disabled=!1;const n=document.querySelector(".js-deleted-files-container"),o=ki();if(o&&n){const t=function(e){const t=e.find(e=>e.checked&&"0"!==P(e,"data-deleted-files-count"));return Boolean(t)}(e);n.classList.toggle("text-gray",!t),o.disabled=!t}}(),function(){const e=Ci(),t=_(document,".js-file-filter-select-all-container",HTMLElement),n=P(t,e?"data-select-all-markup":"data-all-selected-markup");t.textContent=n,t.classList.toggle("text-gray",!e),t.classList.toggle("text-blue",e)}(),function(){const e=document.querySelector(".js-deleted-files-container");if(e){const t=qi()?"data-show-deleted-markup":"data-hide-deleted-markup",n=P(e,t);e.textContent=n}}(),function(){const e=O(document,".js-file-type-count");for(const t of e){const e=qi()?"data-non-deleted-file-count-markup":"data-all-file-count-markup",n=t.getAttribute(e);n&&(t.textContent=n)}}(),yi(e,Hi(),Ti(),Mi(),Si())}function Li(e){!function(){const e=ki(),t=Ti(),n=O(document,".js-file"),o=Si(),r=xi();for(const i of n){let n=!0;const s=i.getAttribute("data-file-type");if(s&&(n=t.includes(s)),r&&n){const e=i.hasAttribute("data-file-user-viewed");e&&(n=!r.checked)}if(o.length>0&&n){const e=(i.getAttribute("data-codeowners")||"").split(",");n=e.filter(e=>o.includes(e)).length>0}if(e&&e.checked&&n){const e="true"===i.getAttribute("data-file-deleted");e&&(n=!1)}Ii(i,n)}}(),Ei(e)}function Ti(){return ji().filter(e=>e.checked).map(e=>e.value)}function ji(){return O(document,".js-diff-file-type-option",HTMLInputElement)}function ki(){const e=document.querySelector(".js-deleted-files-toggle");if(e instanceof HTMLInputElement)return e}function xi(){const e=document.querySelector(".js-viewed-files-toggle");if(e instanceof HTMLInputElement)return e}function Ai(){return Ci()||qi()||Mi()}function Mi(){return Si().length>0}function Si(){return O(document,".js-diff-owner-option",HTMLInputElement).filter(e=>e.checked).map(e=>e.value)}function Ci(){return Ti().length!==ji().length}function Hi(){return new URLSearchParams(window.location.search).has("w")}function qi(){const e=ki();return!!e&&e.checked}function Ii(e,t){const n=D(e,".js-file.js-details-container");n.classList.toggle("open",t),n.classList.toggle("Details--on",t)}function Di(e){const t=ji();for(const n of t)n.checked=e}function _i(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}Ro(".js-sticky",{constructor:HTMLElement,add(e){!function(e){const t=vi(e),n=window.getComputedStyle(e).position;e.style.position="static";const o=e.offsetParent;e.style.position="fixed";const r=window.getComputedStyle(e).top,i={element:e,placeholder:t,offsetParent:o,top:"auto"===r?0:r};e.style.position=n,di.push(i)}(e),mi(),fi()},remove(e){!function(e){const t=di.map(e=>e.element).indexOf(e);di.splice(t,1)}(e),fi()}}),k("change",".js-diff-file-type-option",function(){Li(Ai())}),k("change",".js-diff-owner-option",function(){Li(Mi())}),k("click",".js-file-filter-select-all",function(){Ci()&&(Di(!0),Li(Ai()))}),k("change",".js-deleted-files-toggle",function(){Li(Ai())}),k("change",".js-viewed-files-toggle",function(){Li(Ai())}),Ro(".js-file-filter",function(){Ai()?Ei(!0):yi(!1,Hi(),Ti(),Mi(),Si())}),k("click",".js-file-header .js-details-target",function({currentTarget:e}){if(!document.querySelector(".js-file-filter"))return;const t=D(e,".js-details-container"),n=function(e){const t=P(e,"data-file-type"),n=bi("data-file-type",t),o=O(document,".js-diff-file-type-option",HTMLInputElement).find(e=>e.value===t);if(!o)return!1;const r=o.checked!==n.length>0;return r&&(o.checked=n.length>0),r}(t),o=ki();let r=!1;o&&(r=function(e,t){let n=!1;if("true"===P(e,"data-file-deleted")){const e=bi("data-file-deleted","true");(n=t.checked!==(0===e.length))&&(t.checked=0===e.length)}return n}(t,o));const i=xi();let s=!1;i&&(s=function(e,t){let n=!1;if("true"===e.getAttribute("data-file-user-viewed")){const e=bi("data-file-user-viewed","true");(n=t.checked!==(0===e.length))&&(t.checked=0===e.length)}return n}(t,i)),(n||r||s)&&Ei(Ai())}),k("click",".js-file-header .js-details-target",function(e){if(!(e instanceof MouseEvent&&e.altKey&&e.currentTarget instanceof HTMLElement)){const t=D(e.currentTarget,".js-file");return void(t.getBoundingClientRect().top<0&&wi(t))}const{currentTarget:t}=e,n=D(t,".js-details-container");n.addEventListener("details:toggled",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.js:27");const{open:t}=e.detail;En(n,()=>{for(const e of document.querySelectorAll(".js-file.js-details-container"))e!==n&&(e.classList.toggle("open",t),e.classList.toggle("Details--on",t))}),function(e){if(!document.querySelector(".js-file-filter"))return;Di(e);const t=ki();t&&(t.checked=!e),Ei(Ai())}(t)},{once:!0})}),xn(()=>{const e=window.location.hash.slice(1);if(!e)return;const t=document.getElementsByName(e)[0];if(!t)return;const n=t.nextElementSibling;n&&n.matches(".js-file.js-details-container")&&(n.classList.add("open"),n.classList.add("Details--on"))}),Ro(".js-file-header-dropdown",{subscribe:e=>sr(e,"toggle",function({currentTarget:e}){if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.js:65");const t=e,n=t.hasAttribute("open"),o=D(t,".js-file-header");if(!(o instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.js:69");o.classList.toggle("has-open-dropdown",n)})});const Oi=new WeakMap;async function Ni(e){return Oi.get(e)||Pi(await(t=e,n="codeEditor:ready",new Promise(e=>{t.addEventListener(n,e,{once:!0})})));var t,n}function Pi(e){if(!(e instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const t=e.detail.editor;if(!e.target)throw new Error("assert: event.target is null");return Oi.set(e.target,t),t}k("codeEditor:ready",".js-code-editor",Pi);const Ri={Message:"render:hook:message",AfterReady:"render:hook:afterready"};function Bi(e){return!function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}(e)}const Fi=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"],$i=new WeakMap;function Ui(e){if(null==e)return;const t=$i.get(e);null!=t&&(t.load=t.hello=null,t.helloTimer&&(clearTimeout(t.helloTimer),t.helloTimer=null),t.loadTimer&&(clearTimeout(t.loadTimer),t.loadTimer=null))}function Wi(e){if(null!=e)return e.classList.remove(...Fi),e.classList.add("is-render-failed"),Ui(e)}function Vi(e,t=function(){return!0}){return function(){if(Bi(e)&&!e.classList.contains("is-render-ready")&&!e.classList.contains("is-render-failed")&&!e.classList.contains("is-render-failed-fatally")&&(!t||t()))return Wi(e)}}function zi(e,t){let n=Gi(e,t);if(n&&-1===t.indexOf("/")){n+=Gi(e.substring(e.lastIndexOf("/")+1),t)}return n}function Xi(e){const t=e.toLowerCase().split("");let n="";for(let o=0;o<t.length;o++){const e=t[o].replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");n+=0===o?`(.*)(${e})`:`([^${e}]*?)(${e})`}return new RegExp(`${n}(.*?)$`,"i")}function Ki(e,t,n){if(t){const o=e.innerHTML.trim().match(n||Xi(t));if(!o)return;let r=!1;const i=[];for(let e=1;e<o.length;++e){const t=o[e];t&&(e%2==0?r||(i.push("<mark>"),r=!0):r&&(i.push("</mark>"),r=!1),i.push(t))}e.innerHTML=i.join("")}else{const t=e.innerHTML.trim(),n=t.replace(/<\/?mark>/g,"");t!==n&&(e.innerHTML=n)}}function Gi(e,t){let n=e;if(n===t)return 1;const o=n.length;let r=0,i=0;for(let l=0;l<t.length;l++){const e=t[l],s=n.indexOf(e.toLowerCase()),a=n.indexOf(e.toUpperCase()),c=Math.min(s,a),u=c>-1?c:Math.max(s,a);if(-1===u)return 0;r+=.1,n[u]===e&&(r+=.1),0===u&&(r+=.8,0===l&&(i=1))," "===n.charAt(u-1)&&(r+=.8),n=n.substring(u+1,o)}const s=t.length,a=r/s;let c=(a*(s/o)+a)/2;return i&&c+.1<1&&(c+=.1),c}function Yi(e,t){if(function(e){return!!(e?e.closest(".js-jump-to-field"):document.querySelector(".js-jump-to-field"))}(e))return;const n=_(document,".js-site-search-form",HTMLFormElement);let o,r;_(document,".js-site-search").classList.toggle("scoped-search",t),t?(o=P(n,"data-scoped-search-url"),r=P(e,"data-scoped-placeholder")):(o=P(n,"data-unscoped-search-url"),r=P(e,"data-unscoped-placeholder")),n.setAttribute("action",o),e.setAttribute("placeholder",r)}function Ji(e){const t=_(document,".js-stale-session-flash"),n=_(t,".js-stale-session-flash-signed-in"),o=_(t,".js-stale-session-flash-signed-out");t.hidden=!1,n.hidden="false"===e,o.hidden="true"===e,window.addEventListener("popstate",function(e){e.state&&null!=e.state.container&&location.reload()}),document.addEventListener("submit",function(e){e.preventDefault()})}let Zi;if(Ro(".js-render-target",{constructor:HTMLElement,initialize:function(e){const t=$i.get(e);null!=t&&t.load||(Ui(e),function(e){if($i.get(e))return;const t={load:null,hello:null,helloTimer:null,loadTimer:null};t.load=Date.now(),t.helloTimer=setTimeout(Vi(e,function(){return!t.hello}),1e4),t.loadTimer=setTimeout(Vi(e),45e3),$i.set(e,t)}(e),e.classList.add("is-render-automatic"),e.classList.add("is-render-requested"))}}),window.addEventListener("message",function(e){const t=e.data;if(!t)return;const n=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return}}(t)||t;if("string"!=typeof n.type&&"render"!==n.type)return;const o=n.type;if("string"!=typeof n.identity)return;const r=n.identity;if("string"!=typeof n.body)return;const i=n.body,s=function(e){return Array.from(document.querySelectorAll(".js-render-target")).filter(t=>!e||t.getAttribute("data-identity")===e)[0]}(r);s&&e.origin===s.getAttribute("data-host")&&function(e,t,n,o,r){switch(o){case"hello":{const t=$i.get(e)||{untimed:!0};t.hello=Date.now();const n={type:"render:cmd",body:{cmd:"ack",ack:!0}},o={type:"render:cmd",body:{cmd:"branding",branding:!1}},r=function(e){const t=e.querySelector("iframe");return t instanceof HTMLIFrameElement?t.contentWindow:null}(e);if(_i(r,n),_i(r,o),e.classList.contains("is-local")&&r&&"function"==typeof r.postMessage){const t=r,n=e.closest(".js-code-editor"),o=n instanceof HTMLElement?(i=n,Oi.get(i)):null;if(o){let e=null;const n=(n,r)=>{if(function(e){return e&&"setValue"===e.origin}(r))return;const i=o.code();i!==e&&(e=i,_i(t,{type:"render:data",body:i}))};o.editor.on("change",n),n()}}}break;case"error":return Wi(e);case"error:fatal":return Wi(e),e.classList.add("is-render-failed-fatal");case"error:invalid":return Wi(e),e.classList.add("is-render-failed-invalid");case"loading":return e.classList.remove(...Fi),e.classList.add("is-render-loading");case"loaded":return e.classList.remove(...Fi),e.classList.add("is-render-loaded");case"ready":e.classList.remove(...Fi),e.classList.add("is-render-ready"),r&&"number"==typeof r.height&&(e.style.height=`${r.height}px`),x(e,Ri.AfterReady,{container:e,payload:r});break;case"resize":r&&"number"==typeof r.height&&(e.style.height=`${r.height}px`);break;case"data":x(e,"edit:visual",r);break;default:return void x(e,Ri.Message,{type:t,body:o,payload:r})}var i}(s,o,0,i,null!=n.payload?n.payload:void 0)}),Ur("keyup",".js-site-search-field",function(e){const t=e.target;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/search/site.js:32");const n=0===t.value.length;n&&"Backspace"===e.key&&t.classList.contains("is-clearable")&&Yi(t,!1),n&&"Escape"===e.key&&Yi(t,!0),t.classList.toggle("is-clearable",n)}),$r(".js-site-search-focus",function(e){const t=D(e,".js-chromeless-input-container");t.classList.add("focus"),e.addEventListener("blur",function n(){if(t.classList.remove("focus"),!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/search/site.js:51");0===e.value.length&&e.classList.contains("js-site-search-field")&&Yi(e,!0),e.removeEventListener("blur",n)})}),k("submit",".js-site-search-form",function(e){_(e.target,".js-site-search-type-field",HTMLInputElement).value=new URLSearchParams(window.location.search).get("type")||""}),"function"==typeof BroadcastChannel)try{(Zi=new BroadcastChannel("stale-session")).onmessage=(e=>{"string"==typeof e.data&&Ji(e.data)})}catch(Lu){}if(!Zi){let e=!1;Zi={postMessage(t){e=!0;try{window.localStorage.setItem("logged-in",t)}finally{e=!1}}},window.addEventListener("storage",function(t){if(!e&&t.storageArea===window.localStorage&&"logged-in"===t.key)try{"true"!==t.newValue&&"false"!==t.newValue||Ji(t.newValue)}finally{window.localStorage.removeItem(t.key)}})}const Qi=document.querySelector(".js-stale-session-flash[data-signedin]");if(Qi){const e=Qi.getAttribute("data-signedin");Zi.postMessage(e)}const es={},ts={},ns={};let os=null,rs=0,is=null;const ss=1e3,as=1008,cs=1011,ls=1012,us=1013,ds=[],fs=36e5;function ms(e){const t=Date.now();let n=es[e]||0;const o=ns[e];o&&(n=Math.max(n,o[1])),n>0&&t-n<fs||(ds.push(e),es[e]=t)}function ps(e){for(const t of ds)e.send(`subscribe:${t}`);ds.length=0}function hs(){try{return os=function(){const e=document.head&&document.head.querySelector("link[rel=web-socket]");if(!(e instanceof HTMLLinkElement))return;let t;try{t=new WebSocket(e.href)}catch(r){if(r.name&&"SecurityError"!==r.name)throw new Error(`error opening WebSocket: ${r.message} (${r.name})`);return null}function n(){clearTimeout(o),rs=0,ps(t)}t.addEventListener("open",n);const o=setTimeout(function(){t.removeEventListener("open",n),t.close(),t===os&&(os=null)},4e3);return t.addEventListener("close",gs),t.addEventListener("message",function(e){const[t,n]=JSON.parse(String(e.data));if(!t||!n)return;const o=ts[t]||[];for(const r of o)x(r,"socket:message",{data:n,name:t});ns[t]=[n,Date.now()]}),t}()}catch(e){throw os=null,e}}function gs(e){if(!1===navigator.onLine||null==document.querySelector(".js-socket-channel"))return;let t=os,n=ss;if(e instanceof CloseEvent&&(n=e.code),e.target instanceof WebSocket&&(t=e.target),rs>=5||n===as||n===cs)return window.removeEventListener("online",gs),void(t&&(t.removeEventListener("close",gs),t.close(ss,"give-up-reconnects"),t===os&&(os=null)));let o=0;n===ls||n===us?o=100:rs>0&&(o=1e3*Math.pow(2,rs)),rs+=1,is&&clearTimeout(is),is=setTimeout(hs,o)}function vs(e){const t=e.getAttribute("data-channel");return t?t.split(/\s+/):[]}function ws(e,t){let{wait:n}=e;return null!=n&&(n-=t)<=0&&(n=null),n===e.wait?e:Object.assign({},e,{wait:n})}window.WebSocket&&(Ro(".js-socket-channel[data-channel]",{add:function(e){const t=os||hs();if(t){for(const t of vs(e))ms(t),null==ts[t]&&(ts[t]=[]),ts[t].push(e);t.readyState===WebSocket.OPEN&&ps(t)}},remove:function(e){for(const t of vs(e)){const n=ts[t];if(n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}}}),window.addEventListener("online",gs),window.addEventListener("offline",function(){os&&os.close(ss,"navigator-offline")})),document.addEventListener("pjax:popstate",function(e){if(!(e instanceof CustomEvent))return;const t=e.target;if(!(t instanceof Element))return;const n=e.detail.cachedAt;n&&setTimeout(()=>{const e=Date.now();for(const o of t.querySelectorAll(".js-socket-channel[data-channel]"))for(const t of vs(o)){if(!(t in ns))continue;const[r,i]=ns[t];i<n||x(o,"socket:message",{data:ws(r,e-i),name:t})}})}),window.addEventListener("visibilitychange",function(){if(document.hasFocus()){for(const e of document.querySelectorAll(".js-socket-channel[data-channel]"))for(const t of vs(e))ms(t);os&&os.readyState===WebSocket.OPEN&&ps(os)}});const bs=new WeakMap,ys=new WeakMap,Es=new WeakMap;function Ls(e,t){const n=parseFloat(Es.get(e)),o=parseFloat(Es.get(t)),r=ys.get(e)||"",i=ys.get(t)||"";return n>o?-1:n<o?1:r<i?-1:r>i?1:0}function Ts(e){if(e.hasAttribute("data-filter-value")){return(e.getAttribute("data-filter-value")||"").toLowerCase().trim()}return e.textContent.toLowerCase().trim()}function js(e,t){return function(e,t,n={}){if(!e)return 0;const o=t.toLowerCase(),r=null!=n.text?n.text:Ts,i=n.limit,s=n.score;let a=bs.get(e);const c=e.querySelector('input[type="radio"]:checked'),l=Array.from(e.children);a||(a=Array.from(e.children),bs.set(e,a));for(const h of l)e.removeChild(h),h.style.display="";const u=document.createDocumentFragment();let d=0,f=0;if(o){const e=Array.from(a);for(const n of e){null==ys.get(n)&&ys.set(n,r(n));const e=s?s(ys.get(n)||"",o,n):zi(ys.get(n)||"",o);Es.set(n,String(e))}e.sort(Ls);const t=Xi(o);for(const r of e)(null==i||d<i)&&parseFloat(Es.get(r))>0&&(f++,!0===n.mark&&(Ki(r),Ki(r,o,t)),u.appendChild(r)),d++}else for(const h of a)(null==i||d<i)&&(f++,!0===n.mark&&Ki(h),u.appendChild(h)),d++;let m=!1;if(c instanceof HTMLInputElement)for(const h of u.querySelectorAll('input[type="radio"]:checked'))h instanceof HTMLInputElement&&h.value!==c.value&&(h.checked=!1,m=!0);e.appendChild(u),c&&m&&c.dispatchEvent(new Event("change",{bubbles:!0}));const p=e.querySelectorAll(".js-divider");for(const h of p)h.classList.toggle("d-none",Boolean(o&&o.trim().length>0));return f}(t,` ${e.toLowerCase().replace(/_/g," ")}`,{limit:5,text:xs,score:As})}const ks={};function xs(e){const t=e.getAttribute("data-emoji-name")||"";return ks[t]=` ${function(e){return(e.getAttribute("data-text")||"").trim().toLowerCase()}(e).replace(/_/g," ")}`,t}function As(e,t){const n=ks[e].indexOf(t);return n>-1?1e3-n:0}function Ms(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:62");":"===e.detail.key&&(e.detail.value=function(e){if(e.hasAttribute("data-use-colon-emoji"))return e.getAttribute("data-value");const t=e.firstElementChild;return t&&"G-EMOJI"===t.tagName&&!t.firstElementChild?t.textContent:e.getAttribute("data-value")}(e.detail.item))}function Ss(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:68");const{key:t,provide:n}=e.detail;if(":"!==t)return;const o=e.target;if(!(o instanceof Element))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:75");n(async function(e,t){const n=await Cs(e),o=js(t,n);return{fragment:n,matched:o>0}}(P(o,"data-emoji-url"),e.detail.text))}Ro("text-expander[data-emoji-url]",{subscribe:e=>ar(sr(e,"text-expander-change",Ss),sr(e,"text-expander-value",Ms))});const Cs=function(e){const t=new Map;return function(...n){const o=JSON.stringify(n),r=t.get(o);if(void 0!==r)return r;const i=e(...n);return t.set(o,i),i}}(async function(e){const t=(await K(document,e)).firstElementChild;if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:92");return t});k("click",".js-tagsearch-nav-item",e=>{D(e.currentTarget,".js-tagsearch-popover-content").scrollTop=0}),Ro(".js-file-line-container, .js-code-block-container",{constructor:HTMLElement,subscribe(e){const t=document.querySelector(".js-tagsearch-popover");if(!t)return{unsubscribe(){}};const n=_(t,".js-tagsearch-popover-content"),o=new WeakMap,r=new WeakMap;let i;async function s(n){const i=function(e,t,n){let o,r;if(document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t,n);e&&(o=e.offsetNode,r=e.offset)}else if(document.caretRangeFromPoint){const e=document.caretRangeFromPoint(t,n);e&&(o=e.startContainer,r=e.startOffset)}if(!o||"number"!=typeof r||o.nodeType!==Node.TEXT_NODE)return;const i=o.textContent;if(!i)return null;const s=function(e,t,n){let o;for(;o=t.exec(e);){const e=o.index+o[0].length;if(o.index<n&&n<e)return[o[0],o.index,e]}return null}(i,e,r);if(!s)return null;const a=document.createRange();return a.setStart(o,s[1]),a.setEnd(o,s[2]),a}(/\w+[!?]?/g,n.clientX,n.clientY);if(!i)return;const s=i.commonAncestorContainer.parentElement;if(!s)throw new Error("invariant: app/assets/modules/github/tagsearch.js:27");for(const e of s.classList)if(["pl-token","pl-c","pl-s","pl-k"].includes(e))return;const a=i.toString();if(!a||a.match(/\n|\s|[();&.=",]/))return;let l=r.get(s);if(l||(l=new Set,r.set(s,l)),l.has(a))return;l.add(a);let u=P(t,"data-tagsearch-lang");if("HTML+ERB"===u){if(!s.closest(".pl-sre"))return;u="Ruby"}if(e.classList.contains("js-code-block-container")&&!(u=function(e){const t=e.closest(".highlight");if(t)for(const n of t.classList)switch(n){case"highlight-source-go":return"Go";case"highlight-source-js":return"JavaScript";case"highlight-source-python":return"Python";case"highlight-source-ruby":return"Ruby";case"highlight-source-ts":return"TypeScript"}return null}(s)))return;const d=await async function(e,t,n){const o=P(e,"data-tagsearch-url"),r=P(e,"data-tagsearch-path"),i=P(e,"data-tagsearch-ref"),s=new URL(o,window.location.origin),a=new URLSearchParams;a.set("q",t),a.set("context",r),a.set("ref",i),a.set("lang",n),s.search=a.toString();const c=await X(s);return/js-tagsearch-no-definitions/.test(c)?"":c}(t,a,u);if(!d)return;const f=document.createElement("span");f.classList.add("pl-token"),f.addEventListener("click",c),f.setAttribute("data-hydro-click",P(t,"data-hydro-click")),f.setAttribute("data-hydro-click-hmac",P(t,"data-hydro-click-hmac")),o.set(f,d),i.surroundContents(f)}function a(){n.scrollTop=0}function c(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;const r=e.currentTarget;if(!(r instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/tagsearch.js:81");r===i?u():(function(e){i&&i.classList.remove("active");(i=e).classList.add("active"),n.innerHTML=o.get(e)||"",l(e);const t=e.closest(".js-file-line");t&&function(e){const t=e.id.replace(/^LC/,""),o=n.querySelector(".js-tagsearch-looking-at-def"),r=n.querySelector(".js-tagsearch-defined-on");if(!t||!o||!r)return;P(o,"data-row")===t&&(o.hidden=!1,r.hidden=!0)}(t)}(r),function(){if(!t.hidden)return void a();t.hidden=!1,a(),document.addEventListener("click",f),document.addEventListener("keyup",m),window.addEventListener("resize",d,{passive:!0})}()),e.preventDefault()}function l(e){const n=e.getClientRects()[0];t.style.position="absolute",t.style.top=`${window.scrollY+n.bottom+7}px`,t.style.left=`${window.scrollX+n.left}px`}function u(){t.hidden||(t.hidden=!0,i&&i.classList.remove("active"),i=null,document.removeEventListener("click",f),document.removeEventListener("keyup",m),window.removeEventListener("resize",d))}function d(){i instanceof HTMLElement&&l(i)}function f(e){const{target:n}=e;if(n instanceof Node){if(!i)throw new Error("invariant: app/assets/modules/github/tagsearch.js:163");t.contains(n)||i.contains(n)||u()}}function m(e){switch(e.key){case"Escape":u()}}return e.addEventListener("mousemove",s),{unsubscribe(){e.removeEventListener("mousemove",s)}}}});const Hs=new WeakMap;let qs=null;function Is(e,t){return e.closest("task-lists")===t.closest("task-lists")}function Ds(e){if(e.currentTarget!==e.target)return;const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest(".contains-task-list");if(!n)return;if(t.classList.add("is-ghost"),e.dataTransfer&&e.dataTransfer.setData("text/plain",t.textContent.trim()),!t.parentElement)return;const o=Array.from(t.parentElement.children),r=o.indexOf(t),i=Hs.get(t);i&&i.sortStarted(n),qs={didDrop:!1,dragging:t,dropzone:t,sourceList:n,sourceSibling:o[r+1]||null,sourceIndex:r}}function _s(e){if(!qs)return;const t=e.currentTarget;t instanceof Element&&(Is(qs.dragging,t)?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),qs.dropzone!==t&&(qs.dragging.classList.add("is-dragging"),qs.dropzone=t,!function(e,t){if(e.parentNode===t.parentNode){let n=e;for(;n;){if(n===t)return!0;n=n.previousElementSibling}}return!1}(qs.dragging,t)?t.after(qs.dragging):t.before(qs.dragging))):e.stopPropagation())}function Os(e){if(!qs)return;e.preventDefault(),e.stopPropagation();const t=e.currentTarget;if(!(t instanceof Element))return;if(qs.didDrop=!0,!qs.dragging.parentElement)return;let n=Array.from(qs.dragging.parentElement.children).indexOf(qs.dragging);const o=t.closest(".contains-task-list");if(!o)return;if(qs.sourceIndex===n&&qs.sourceList===o)return;qs.sourceList===o&&qs.sourceIndex<n&&n++;const r={list:qs.sourceList,index:qs.sourceIndex},i={list:o,index:n},s=Hs.get(qs.dragging);s&&s.sortFinished({src:r,dst:i})}function Ns(){qs&&(qs.dragging.classList.remove("is-dragging"),qs.dragging.classList.remove("is-ghost"),qs.didDrop||qs.sourceList.insertBefore(qs.dragging,qs.sourceSibling),qs=null)}function Ps(e){if(!qs)return;const t=e.currentTarget;t instanceof Element&&(Is(qs.dragging,t)?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")):e.stopPropagation())}const Rs=new WeakMap;class TaskListsElement extends HTMLElement{constructor(){super(),this.addEventListener("change",e=>{const t=e.target;t instanceof HTMLInputElement&&t.classList.contains("task-list-item-checkbox")&&this.dispatchEvent(new CustomEvent("task-lists-check",{bubbles:!0,detail:{position:Vs(t),checked:t.checked}}))}),Rs.set(this,new MutationObserver(Ks.bind(null,this)))}connectedCallback(){const e=Rs.get(this);e&&e.observe(this,{childList:!0,subtree:!0}),Ks(this)}disconnectedCallback(){const e=Rs.get(this);e&&e.disconnect()}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get sortable(){return this.hasAttribute("sortable")}set sortable(e){e?this.setAttribute("sortable",""):this.removeAttribute("sortable")}static get observedAttributes(){return["disabled"]}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"disabled":Gs(this)}}}const Bs=document.createElement("template");Bs.innerHTML='\n  <span class="handle">\n    <svg class="drag-handle" aria-hidden="true" width="16" height="15" version="1.1" viewBox="0 0 16 15">\n      <path d="M12,4V5H4V4h8ZM4,8h8V7H4V8Zm0,3h8V10H4v1Z"></path>\n    </svg>\n  </span>';const Fs=new WeakMap;function $s(e){if(Fs.get(e))return;Fs.set(e,!0);const t=e.closest("task-lists");if(!(t instanceof TaskListsElement))return;if(t.querySelectorAll(".task-list-item").length<=1)return;const n=Bs.content.cloneNode(!0),o=n.querySelector(".handle");if(e.prepend(n),!o)throw new Error("handle not found");o.addEventListener("mouseenter",ea),o.addEventListener("mouseleave",ta),function(e,t,n){Hs.set(e,{sortStarted:t,sortFinished:n}),e.addEventListener("dragstart",Ds),e.addEventListener("dragenter",_s),e.addEventListener("dragend",Ns),e.addEventListener("drop",Os),e.addEventListener("dragover",Ps)}(e,Zs,Qs),e.addEventListener("mouseenter",Us),e.addEventListener("mouseleave",Ws)}function Us(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest("task-lists");n instanceof TaskListsElement&&n.sortable&&!n.disabled&&t.classList.add("hovered")}function Ws(e){const t=e.currentTarget;t instanceof Element&&t.classList.remove("hovered")}function Vs(e){const t=zs(e);if(!t)throw new Error(".contains-task-list not found");const n=Array.from(t.children).indexOf(e.closest(".task-list-item"));return[Ys(t),n]}function zs(e){const t=e.parentElement;return t?t.closest(".contains-task-list"):null}function Xs(e){return zs(e)===function e(t){const n=zs(t);return n?e(n)||n:null}(e)}function Ks(e){const t=e.querySelectorAll(".contains-task-list > .task-list-item");for(const n of t)Xs(n)&&$s(n);Gs(e)}function Gs(e){for(const t of e.querySelectorAll(".task-list-item"))t.classList.toggle("enabled",!e.disabled);for(const t of e.querySelectorAll(".task-list-item-checkbox"))t instanceof HTMLInputElement&&(t.disabled=e.disabled)}function Ys(e){const t=e.closest("task-lists");if(!t)throw new Error("parent not found");return Array.from(t.querySelectorAll("ol, ul")).indexOf(e)}const Js=new WeakMap;function Zs(e){const t=e.closest("task-lists");if(!t)throw new Error("parent not found");Js.set(t,Array.from(t.querySelectorAll("ol, ul")))}function Qs(e){let{src:t,dst:n}=e;const o=t.list.closest("task-lists");if(!o)return;const r=Js.get(o);r&&(Js.delete(o),o.dispatchEvent(new CustomEvent("task-lists-move",{bubbles:!0,detail:{src:[r.indexOf(t.list),t.index],dst:[r.indexOf(n.list),n.index]}})))}function ea(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest(".task-list-item");if(!n)return;const o=n.closest("task-lists");o instanceof TaskListsElement&&o.sortable&&!o.disabled&&n.setAttribute("draggable","true")}function ta(e){if(qs)return;const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest(".task-list-item");n&&n.setAttribute("draggable","false")}function na(e){const t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=function(e){const t=e.querySelector("input.is-submit-button-value");return t instanceof HTMLInputElement?t:null}(t);if(e.name){const o=e.matches("input[type=submit]")?"Submit":"",r=e.value||o;n||((n=document.createElement("input")).type="hidden",n.classList.add("is-submit-button-value"),t.prepend(n)),n.name=e.name,n.value=r}else n&&n.remove()}function oa(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:n}))}function ra(e,t){t&&(!function(e,t){if(!(e instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw new TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw new Error("The specified element is not owned by the form element.")}(e,t),na(t)),oa(e,"submit",!0)&&e.submit()}function ia(e,t){if("boolean"==typeof t){if(!(e instanceof HTMLInputElement))throw new TypeError("only checkboxes can be set to boolean value");e.checked=t}else{if("checkbox"===e.type)throw new TypeError("checkbox can't be set to string value");e.value=t}oa(e,"change",!1)}function sa(e){if(e.querySelector(".js-task-list-field"))for(const t of O(e,"task-lists",TaskListsElement))t.disabled=!1}function aa(e,t,n){const o=_(e,".js-comment-update",HTMLFormElement);!function(e){for(const t of O(e,"task-lists",TaskListsElement))t.disabled=!0}(e);const r=o.elements.namedItem("task_list_track");r&&r.remove();const i=o.elements.namedItem("task_list_operation");i&&i.remove();const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","task_list_track"),s.setAttribute("value",t),o.appendChild(s);const a=document.createElement("input");if(a.setAttribute("type","hidden"),a.setAttribute("name","task_list_operation"),a.setAttribute("value",JSON.stringify(n)),o.appendChild(a),!o.elements.namedItem("task_list_key")){const e=P(_(o,".js-task-list-field"),"name").split("[")[0],t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","task_list_key"),t.setAttribute("value",e),o.appendChild(t)}e.classList.remove("is-comment-stale"),ra(o)}function ca(e){if(function(e){let t;try{t=new URL(e.url)}catch(n){return!0}return t.host!==window.location.host}(e)||function(e){return/[?&]_pjax=/.test(e.url)}(e))return;const t=function(){const e=document.querySelector(".js-timeline-marker");return null!=e?e.getAttribute("data-last-modified"):null}();t&&e.headers.set("X-Timeline-Last-Modified",t)}window.customElements.get("task-lists")||(window.TaskListsElement=TaskListsElement,window.customElements.define("task-lists",TaskListsElement)),Ro(".js-task-list-container .js-task-list-field",function(e){sa(D(e,".js-task-list-container"))}),k("task-lists-move","task-lists",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/task-list.js:49");const{src:t,dst:n}=e.detail;aa(D(e.currentTarget,".js-task-list-container"),"reordered",{operation:"move",src:t,dst:n})}),k("task-lists-check","task-lists",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/task-list.js:62");const{position:t,checked:n}=e.detail;aa(D(e.currentTarget,".js-task-list-container"),`checked:${n?1:0}`,{operation:"check",position:t,checked:n})}),Fn(".js-task-list-container .js-comment-update",async function(e,t){const n=D(e,".js-task-list-container"),o=e.elements.namedItem("task_list_track");o&&o.remove();const r=e.elements.namedItem("task_list_operation");let i;r&&r.remove();try{i=await t.json()}catch(s){let e;try{e=JSON.parse(s.response.text)}catch(a){}if(e&&e.stale){const t=e.updated_markdown,o=e.updated_html,r=e.version;if(t&&o&&r){const e=_(n,".js-comment-body"),i=_(n,".js-body-version"),s=_(n,".js-task-list-field",HTMLTextAreaElement);e.innerHTML=o,s.value=t,n.setAttribute("data-body-version",r),i instanceof HTMLInputElement&&(i.value=r)}}else window.location.reload()}i&&(r&&i.json.source&&(_(n,".js-task-list-field",HTMLTextAreaElement).value=i.json.source),sa(n))}),Fn(".js-needs-timeline-marker-header",function(e,t,n){ca(n)}),k("deprecatedAjaxSend","[data-remote]",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/timeline/marker.js:46");const{request:t}=e.detail;ca(t)}),Ro(".js-discussion",function(){let e;function t(){e=new WeakSet(document.querySelectorAll(".js-timeline-item"))}t(),document.addEventListener("pjax:end",t),Ro(".js-timeline-item",t=>{e.has(t)||wn(t)})});const la="navigationStart";function ua(){const e={};e.crossBrowserLoadEvent=Date.now();const t=window.performance&&window.performance.timing;if(t)e.connectEnd=t.connectEnd,e.connectStart=t.connectStart,e.domComplete=t.domComplete,e.domContentLoadedEventEnd=t.domContentLoadedEventEnd,e.domContentLoadedEventStart=t.domContentLoadedEventStart,e.domInteractive=t.domInteractive,e.domLoading=t.domLoading,e.domainLookupEnd=t.domainLookupEnd,e.domainLookupStart=t.domainLookupStart,e.fetchStart=t.fetchStart,e.loadEventEnd=t.loadEventEnd,e.loadEventStart=t.loadEventStart,e.navigationStart=t.navigationStart,e.redirectEnd=t.redirectEnd,e.redirectStart=t.redirectStart,e.requestStart=t.requestStart,e.responseEnd=t.responseEnd,e.responseStart=t.responseStart,e.secureConnectionStart=t.secureConnectionStart,e.unloadEventEnd=t.unloadEventEnd,e.unloadEventStart=t.unloadEventStart;else{const t=function(){const e=Jn(la);if(e)return parseInt(e,10)}();null!=t&&(e.simulatedNavigationStart=t)}const n=function(){if(window.performance&&"timeOrigin"in window.performance&&window.performance.getEntriesByType){const e=window.performance.getEntriesByType("paint");if(e.length){const t=e.find(e=>"first-paint"===e.name);if(t)return Math.round((performance.timeOrigin+t.startTime)/1e6)}}}();return null!=n&&(e.chromeFirstPaintTime=n),e}function da(e,t=!1){return fa(e)||function(e,t){const n=function(e){if(pa instanceof Element)return pa;if(e&&e.ownerDocument&&e.ownerDocument.activeElement)return e.ownerDocument.activeElement;return null}(e);return null!=n&&!(t&&n===e)&&(function(e){if(!(e instanceof HTMLElement))return!1;const t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}(n)&&n===e||e.contains(n)&&!function(e){if(!(ha instanceof Element))return!1;const t=e.closest(ga);if(!t)return!1;const n=ha.closest(ga);return t===n}(n))}(e,t)||function(e){return e.matches(":active")}(e)||function(e){return!(!e.closest(".is-dirty")&&!e.querySelector(".is-dirty"))}(e)}function fa(e){for(const t of e.querySelectorAll("input, textarea"))if((t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&ma(t))return!0;return!1}function ma(e){if(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type)){if(e.checked!==e.defaultChecked)return!0}else if(e.value!==e.defaultValue)return!0;return!1}let pa,ha;window.performance&&window.performance.timing||window.addEventListener("pagehide",function(){Zn(la,Date.now().toString())}),async function(){await Tn,await new Promise(e=>setTimeout(e));const e=function(){const e=[],t=window.performance;if(t&&t.getEntriesByType)for(const n of t.getEntriesByType("resource")){const t={};e.push(t),"string"==typeof n.name&&(t.name=n.name),"string"==typeof n.entryType&&(t.entryType=n.entryType),"number"==typeof n.startTime&&(t.startTime=n.startTime),"number"==typeof n.duration&&(t.duration=n.duration)}return e}();e.length&&fr({resourceTimings:e});const t=function(){const e=[],t=window.performance;if(t&&t.getEntriesByType)for(const o of t.getEntriesByType("navigation")){const t={};e.push(t),"string"==typeof o.entryType&&(t.entryType=o.entryType),"number"==typeof o.startTime&&(t.startTime=o.startTime),"number"==typeof o.duration&&(t.duration=o.duration)}const n=ua();return n&&0===e.length&&e.push({name:location.href,entryType:"navigation",startTime:0,duration:n.loadEventEnd-n.navigationStart,initiatorType:"navigation",nextHopProtocol:"http/1.1",type:"navigate",redirectStart:n.redirectStart,redirectEnd:n.redirectEnd,fetchStart:n.fetchStart,domainLookupStart:n.domainLookupStart,domainLookupEnd:n.domainLookupEnd,connectStart:n.connectStart,connectEnd:n.connectEnd,secureConnectionStart:n.secureConnectionStart,requestStart:n.requestStart,responseStart:n.responseStart,responseEnd:n.responseEnd,unloadEventStart:n.unloadEventStart,unloadEventEnd:n.unloadEventEnd,domInteractive:n.domInteractive,domContentLoadedEventStart:n.domContentLoadedEventStart,domContentLoadedEventEnd:n.domContentLoadedEventEnd,domComplete:n.domComplete,loadEventStart:n.loadEventStart,loadEventEnd:n.loadEventEnd}),e}();t.length&&fr({navigationTimings:t})}(),k("click",".js-toggler-container .js-toggler-target",function(e){if(!(e instanceof MouseEvent))throw new Error("invariant: app/assets/modules/github/toggler.js:37");if(!e.currentTarget)throw new Error("invariant: app/assets/modules/github/toggler.js:38");if(0!==e.button)return;const t=e.currentTarget.closest(".js-toggler-container"),n=e.currentTarget.closest(".js-toggler-container-secondary");t.classList.toggle("on"),n&&n.classList.toggle("on")}),Fn(".js-toggler-container",async(e,t)=>{e.classList.remove("success","error"),e.classList.add("loading");try{await t.text(),e.classList.add("success")}catch(n){e.classList.add("error")}finally{e.classList.remove("loading")}}),document.addEventListener("mouseup",function(e){ha=e.target});const ga="a[href], button, details:not([open]) summary";const va=new WeakMap;async function wa(e,t){if(va.get(e))return;const n=new XMLHttpRequest,o=P(e,"data-url"),r=e.hasAttribute("data-retain-focus");n.open("GET",o),n.setRequestHeader("Accept","text/html"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=t&&n.setRequestHeader("X-Request-Purpose",t),va.set(e,n);try{const t=await function(e,t){return new Promise((n,o)=>{e.onload=(()=>{200===e.status?n(e.responseText):o(new Error(`XMLHttpRequest ${e.statusText}`))}),e.onerror=o,e.send(t||null)})}(n);if(da(e,r))throw new Error("element had interactions");return ya(e,t,r)}catch(i){"XMLHttpRequest abort"!==i.message&&console.warn("Failed to update content",e,i)}finally{va.delete(e)}}async function ba(e,t){const n=va.get(e);return n&&n.abort(),ya(e,t)}function ya(e,t,n=!1){return function(e,t){return En(function(e){if(e.activeElement!==e.body)return e.activeElement;var t=e.querySelectorAll(":hover"),n=t.length;return n?t[n-1]:void 0}(e),t)}(document,()=>{const o=B(document,t.trim()),r=n&&e===e.ownerDocument.activeElement?o.querySelector("*"):null,i=Array.from(e.querySelectorAll("details[open][id]")).map(e=>e.id);"DETAILS"===e.tagName&&e.id&&e.hasAttribute("open")&&i.push(e.id);for(const t of e.querySelectorAll(".js-updatable-content-preserve-scroll-position")){const e=P(t,"data-updatable-content-scroll-position-id");Ea.set(e,t.scrollTop)}for(const e of i){const t=o.querySelector(`#${e}`);t&&t.setAttribute("open","")}e.replaceWith(o),r&&r.focus()})}const Ea=new Map;function La(e,t,n){let o=e.value.substring(0,e.selectionEnd||0),r=e.value.substring(e.selectionEnd||0);o=o.replace(t,n),r=r.replace(t,n),e.value=o+r,e.selectionStart=o.length,e.selectionEnd=o.length,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}Ro(".js-updatable-content-preserve-scroll-position",{constructor:HTMLElement,add(e){const t=e.getAttribute("data-updatable-content-scroll-position-id");if(!t)return;const n=Ea.get(t);null!=n&&(e.scrollTop=n)}}),k("socket:message",".js-updatable-content",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/updatable-content-observer.js:14");const{gid:t,wait:n}=e.detail.data||{};let o;if(t&&e.target.getAttribute("data-gid")===t?o=e.target:t?o=e.target.querySelector(`[data-url][data-gid="${t}"]`):e.currentTarget===e.target&&(o=e.target),!(o instanceof HTMLElement))return;const r=wa.bind(null,o);null==n?r("live-update"):setTimeout(r,n,"delayed-live-update")});const Ta=2303741511,ja=4;class ka{static fromFile(e){return new Promise(function(t,n){const o=new FileReader;o.onload=function(){if(!(o.result instanceof ArrayBuffer))throw new Error("invariant: app/assets/modules/github/png-scanner.js:32");t(new ka(o.result))},o.onerror=function(){n(o.error)},o.readAsArrayBuffer(e)})}constructor(e){this.dataview=new DataView(e),this.pos=0}advance(e){this.pos+=e}readInt(e){const t=this,n=function(){switch(e){case 1:return t.dataview.getUint8(t.pos);case 2:return t.dataview.getUint16(t.pos);case 4:return t.dataview.getUint32(t.pos);default:throw new Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(e),n}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(e){const t=[];for(let n=0;n<e;n++)t.push(String.fromCharCode(this.readChar()));return t.join("")}scan(e){if(this.readLong()!==Ta)throw new Error("invalid PNG");for(this.advance(4);;){const t=this.readLong(),n=this.readString(4),o=this.pos+t+ja;if(!1===e.call(this,n,t)||"IEND"===n)break;this.pos=o}}}const xa=.0254;function Aa(e,t){const n=e.value.substring(0,e.selectionStart),o=e.value.substring(e.selectionEnd),r=0===n.length||n.match(/\n$/)?"":"\n",i=n+r+t;e.value=i+o,e.selectionStart=i.length,e.selectionEnd=e.selectionStart,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus()}function Ma(e){const t=e.dataTransfer;if(!t)return;if(function(e){return Array.from(e.types).indexOf("Files")>=0}(t))return;if(!qa(t))return;const n=Ia(t);if(!n.some(_a))return;e.stopPropagation(),e.preventDefault();const o=e.currentTarget;o instanceof HTMLTextAreaElement&&Aa(o,n.map(Ha).join(""))}function Sa(e){const t=e.dataTransfer;t&&(t.dropEffect="link")}function Ca(e){const t=e.clipboardData;if(!t||!qa(t))return;const n=Ia(t);if(!n.some(_a))return;e.stopPropagation(),e.preventDefault();const o=e.currentTarget;o instanceof HTMLTextAreaElement&&Aa(o,n.map(Ha).join(""))}function Ha(e){return _a(e)?`\n![](${e})\n`:e}function qa(e){return Array.from(e.types).indexOf("text/uri-list")>=0}function Ia(e){return(e.getData("text/uri-list")||"").split("\r\n")}const Da=/\.(gif|png|jpe?g)$/i;function _a(e){return Da.test(e)}function Oa(e){const t=e.dataTransfer;if(!t)return;if(function(e){return Array.from(e.types).indexOf("Files")>=0}(t))return;const n=Fa(t);if(!n)return;e.stopPropagation(),e.preventDefault();const o=e.currentTarget;o instanceof HTMLTextAreaElement&&Aa(o,Ba(n))}function Na(e){const t=e.dataTransfer;t&&(t.dropEffect="copy")}function Pa(e){if(!e.clipboardData)return;const t=Fa(e.clipboardData);if(!t)return;e.stopPropagation(),e.preventDefault();const n=e.currentTarget;n instanceof HTMLTextAreaElement&&Aa(n,Ba(t))}function Ra(e){return e.textContent.trim().replace(/\|/g,"\\|").replace(/\n/g," ")||" "}function Ba(e){const t=Array.from(e.querySelectorAll("tr")),n=(o=t.shift(),Array.from(o.querySelectorAll("td, th")).map(Ra));var o;const r=n.map(()=>"--");return`\n${`${n.join(" | ")}\n${r.join(" | ")}\n`}${t.map(e=>Array.from(e.querySelectorAll("td")).map(Ra).join(" | ")).join("\n")}\n\n`}function Fa(e){if(-1===Array.from(e.types).indexOf("text/html"))return;const t=e.getData("text/html");if(!/<table/i.test(t))return;const n=function(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelector("table")}(t);return n&&!n.closest(".js-comment")?/\b(js|blob|diff)-./.test(n.className)?null:n:void 0}function $a(e){const t=e.clipboardData;if(!t||!function(e){return Array.from(e.types).indexOf("text/x-gfm")>=0}(t))return;const n=e.currentTarget;if(!(n instanceof HTMLTextAreaElement))return;const o=t.getData("text/x-gfm");o&&(e.stopPropagation(),e.preventDefault(),Aa(n,o))}function Ua(e){return`${Wa(e)?"!":""}[Uploading ${e.name}…]()`}function Wa(e){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(e.type)>-1}Ro(".js-paste-markdown",{subscribe:function(e){return function(e){e.addEventListener("dragover",Na),e.addEventListener("drop",Oa),e.addEventListener("paste",Pa)}(e),function(e){e.addEventListener("dragover",Sa),e.addEventListener("drop",Ma),e.addEventListener("paste",Ca)}(e),function(e){e.addEventListener("paste",$a)}(e),{unsubscribe:()=>{!function(e){e.removeEventListener("dragover",Na),e.removeEventListener("drop",Oa),e.removeEventListener("paste",Pa)}(e),function(e){e.removeEventListener("dragover",Sa),e.removeEventListener("drop",Ma),e.removeEventListener("paste",Ca)}(e),function(e){e.removeEventListener("paste",$a)}(e)}}}});const Va=144;function za(){}k("upload:setup",".js-upload-markdown-image",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:48");const t=_(e.currentTarget,".js-comment-field",HTMLTextAreaElement);t.setCustomValidity("uploading"),function(e,t){const n=e.selectionEnd||0,o=e.value.substring(0,n),r=e.value.substring(n),i=""===e.value||o.match(/\n$/)?"":"\n";e.value=o+i+t+r,e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus()}(t,`${Ua(e.detail.file)}\n`)}),k("upload:complete",".js-upload-markdown-image",async function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:54");const t=e.detail,n=_(e.currentTarget,".js-comment-field",HTMLTextAreaElement),o=Ua(t.file);function r(e){let r=`[${t.file.name}](${t.policy.asset.href})`;if(Wa(t.file)){const n=function(e){return e.replace(/[[\]\\"<>&]/g,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")}(t.file.name).replace(/\.[^.]+$/,"").replace(/\./g," "),o=t.policy.asset.href;if(e&&e.ppi===Va){r=`<img width="${Math.round(e.width/2)}" alt="${n}" src="${o}">`}else r=`![${n}](${o})`}n.setCustomValidity(""),La(n,o,r)}try{r(await async function(e){if("image/png"!==e.type)return null;const t=e.slice(0,10240,e.type),n=await ka.fromFile(t),o={width:0,height:0,ppi:1};return n.scan(function(e){switch(e){case"IHDR":return o.width=this.readLong(),o.height=this.readLong(),!0;case"pHYs":{const e=this.readLong(),t=this.readLong();let n;return 1===this.readChar()&&(n=xa),n&&(o.ppi=Math.round((e+t)/2*n)),!1}case"IDAT":return!1}return!0}),o}(t.file))}catch(i){r(),setTimeout(function(){throw i})}}),k("upload:error",".js-upload-markdown-image",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:90");const t=_(e.currentTarget,".js-comment-field",HTMLTextAreaElement),n=Ua(e.detail.file);t.setCustomValidity(""),La(t,n,"")}),k("upload:invalid",".js-upload-markdown-image",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:97");const t=_(e.currentTarget,".js-comment-field",HTMLTextAreaElement),n=Ua(e.detail.file);t.setCustomValidity(""),La(t,n,"")}),k("upload:setup",".js-upload-avatar-image",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/avatar.js:6");const t=e.detail.policyRequest,n=e.currentTarget.getAttribute("data-alambic-organization"),o=e.currentTarget.getAttribute("data-alambic-owner-type"),r=e.currentTarget.getAttribute("data-alambic-owner-id");n&&t.body.append("organization_id",n),o&&t.body.append("owner_type",o),r&&t.body.append("owner_id",r)}),k("upload:complete",".js-upload-avatar-image",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/avatar.js:25");const t=`/settings/avatars/${e.detail.result.id}`;!async function(e){const t=_(document,"#site-details-dialog",HTMLTemplateElement).content.cloneNode(!0);if(!(t instanceof DocumentFragment))throw new Error("invariant violation: clonedDetails instanceof HTMLElement");const n=_(t,"details"),o=_(n,"details-dialog"),r=_(n,".js-details-dialog-spinner");if(e.detailsClass&&n.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&o.classList.add(...e.dialogClass.split(" ")),!document.body)throw new Error("invariant violation: document.body");document.body.append(t);const i=await e.content;r.remove(),o.prepend(i),n.addEventListener("toggle",()=>{n.hasAttribute("open")||(x(o,"dialog:remove"),n.remove())})}({content:K(document,t)})}),k("upload:setup",".js-upload-marketplace-listing-screenshot",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/marketplace-listing-screenshot.js:6");const t=e.detail.policyRequest,n=e.currentTarget.getAttribute("data-marketplace-listing-id");n&&t.body.append("marketplace_listing_id",n)}),k("upload:complete",".js-upload-marketplace-listing-screenshot",async function(e){const t=P(e.currentTarget,"data-screenshots-url"),n=_(document,".js-marketplace-listing-screenshots-container"),o=await K(document,t);n.innerHTML="",n.appendChild(o)}),k("upload:setup",".js-upload-marketplace-listing-hero-card-background",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/marketplace-listing-hero-card-background.js:5");const t=e.detail.policyRequest,n=e.currentTarget.getAttribute("data-marketplace-listing-id");n&&t.body.append("marketplace_listing_id",n)}),k("upload:complete",".js-upload-marketplace-listing-hero-card-background",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/marketplace-listing-hero-card-background.js:14");const t=e.detail,n=t.policy;_(document,".js-marketplace-listing-hero-card-background-id",HTMLInputElement).value=n.asset.id||t.result.id;const o=_(document,".js-hero-listing-container"),r=n.asset.href||t.result.href;o.style.backgroundImage=`url(${r})`});class Xa{constructor(){this.previousReceiver={resolve:za,reject:za}}push(e){return this.previousReceiver.resolve=this.previousReceiver.reject=za,new Promise((t,n)=>{const o={resolve:t,reject:n};this.previousReceiver=o,e.then(function(...e){o.resolve(...e)},function(...e){o.reject(...e)})})}}const Ka=new WeakMap;function Ga(e,t){const n=function(e,t){const n=O(e,"link[rel=pjax-prefetch]",HTMLLinkElement);for(const o of n)if(o.href===t)return o}(e,t);if(n){const e=Ka.get(n);return n.remove(),Ka.delete(n),e}}const Ya={container:null,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0},Ja=20;let Za;const Qa=new Xa;function ec(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))}function tc(e){nc({url:e.url,container:e.container,replace:e.replace})}function nc(e){const t={url:"",container:null};if(Object.assign(t,Ya,e),"string"!=typeof t.url)throw new Error("invariant: app/assets/modules/github/pjax.js:132");t.requestUrl=t.url;const n=lc(t.url),o=n.hash,r=t.container;if(!r)throw new Error("invariant: app/assets/modules/github/pjax.js:137");const i=uc(r);if("GET"===t.type&&(n.search+=`${n.search?"&":""}_pjax=${encodeURIComponent(i)}`,t.url=n.toString()),Za||Yn(Za={id:ac(),url:window.location.href,title:document.title,container:i,fragment:t.fragment},Za.title,Za.url),tc.options=t,"string"!=typeof t.requestUrl)throw new Error("invariant: app/assets/modules/github/pjax.js:273");let s=Ga(r,t.requestUrl);if(!s){if(!t.url)throw new Error("invariant: app/assets/modules/github/pjax.js:277");s=z(t.url,{method:t.type,body:t.data,headers:{Accept:"text/html","X-PJAX":"true","X-PJAX-Container":i}})}if(!0===t.push&&!0!==t.replace){if(a=Za.id,c=cc(r),pc[a]=c,gc.push(a),vc(hc,0),vc(gc,Ja),"string"!=typeof t.requestUrl)throw new Error("invariant: app/assets/modules/github/pjax.js:292");!function(e,t,n){Vn=0;const o=Object.assign({},{_id:Gn()},e);history.pushState(o,t,n),Kn(o)}(null,"",t.requestUrl)}var a,c;ec(r,"pjax:start",{url:t.url}),ec(r,"pjax:send"),Qa.push(s).then(async function(e){const n=Za,s=function(){for(const e of document.getElementsByTagName("meta")){const t=e.getAttribute("http-equiv");if(t&&"X-PJAX-VERSION"===t.toUpperCase())return e.content}}(),a=e.headers.get("X-PJAX-Version"),c=function(e,t,n){if("string"!=typeof n.requestUrl)throw new Error("invariant: app/assets/modules/github/pjax.js:540");const o={url:mc(t,n.requestUrl),title:""},r=/<html/i.test(e);if("text/html"!==(t.headers.get("Content-Type")||"").split(";",1)[0].trim())return o;let i,s;if(r){const t=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i),n=e.match(/<body[^>]*>([\s\S.]*)<\/body>/i);i=t?Array.from(B(document,t[0]).childNodes):[],s=n?Array.from(B(document,n[0]).childNodes):[]}else i=s=Array.from(B(document,e).childNodes);if(0===s.length)return o;const a=dc(i,"title",HTMLTitleElement);let c;if(o.title=a.length>0?a[a.length-1].textContent:"",n.fragment){if("body"===n.fragment)c=s;else{const e=dc(s,n.fragment,Element);c=e.length>0?[e[0]]:[]}if(c.length&&("body"===n.fragment?o.contents=c:o.contents=c.flatMap(e=>Array.from(e.childNodes)),!o.title)){const e=c[0];e instanceof Element&&(o.title=e.getAttribute("title")||e.getAttribute("data-title")||"")}}else r||(o.contents=s);if(o.contents){o.contents=o.contents.filter(function(e){return!(e instanceof Element&&e.matches("title"))});for(const t of o.contents)if(t instanceof Element)for(const e of t.querySelectorAll("title"))e.remove();const e=dc(o.contents,"script[src]",HTMLScriptElement);for(const t of e)t.remove();if(o.scripts=e,!o.contents)throw new Error("invariant: app/assets/modules/github/pjax.js:632");o.contents=o.contents.filter(t=>-1===e.indexOf(t))}return o.title&&(o.title=o.title.trim()),o}(await e.text(),e,t),{contents:l}=c,u=lc(c.url);if(o&&(u.hash=o,c.url=u.href),s&&a&&s!==a)return void oc(c.url);if(!l)return void oc(c.url);Za={id:null!=t.id?t.id:ac(),url:c.url,title:c.title,container:i,fragment:t.fragment},!0!==t.push&&!0!==t.replace||Yn(Za,c.title,c.url);const d=document.activeElement,f=null!=t.container&&t.container.contains(d);if(d&&f)try{d.blur()}catch(h){}c.title&&(document.title=c.title),ec(r,"pjax:beforeReplace",{contents:l,state:Za,previousState:n}),fc(r,l);const m=O(r,"input[autofocus], textarea[autofocus]").pop();m&&document.activeElement!==m&&m.focus(),function(e){if(!e)return;const t=O(document,"script[src]",HTMLScriptElement);for(const n of e){const{src:e}=n;if(t.some(t=>t.src===e))return;const o=document.createElement("script"),r=n.getAttribute("type");r&&(o.type=r),o.src=e,document.head&&document.head.appendChild(o)}}(c.scripts);let p=t.scrollTo;if(o){const e=function(e,t=location.hash){return ni(e,oi(t))}(document,o);e&&(p=e.getBoundingClientRect().top+window.pageYOffset)}"number"==typeof p&&window.scrollTo(window.pageXOffset,p),ec(r,"pjax:success"),ec(r,"pjax:complete"),ec(r,"pjax:end")},function(e){let n=t.requestUrl;if("string"!=typeof n)throw new Error("invariant: app/assets/modules/github/pjax.js:150");e.response&&(n=mc(e.response,n));const o=ec(r,"pjax:error");"GET"===t.type&&o&&oc(n),ec(r,"pjax:complete"),ec(r,"pjax:end")})}function oc(e){Za&&Yn(null,"",Za.url),window.location.replace(e)}let rc=!0;const ic=window.location.href,sc=window.history.state;function ac(){return(new Date).getTime()}function cc(e){const t=e.cloneNode(!0);return[uc(e),Array.from(t.childNodes),Date.now()]}function lc(e){const t=document.createElement("a");return t.href=e,t}function uc(e){if(e.id)return`#${e.id}`;throw new Error("pjax container has no id")}function dc(e,t,n){let o=[];for(const r of e)r instanceof Element&&(r instanceof n&&r.matches(t)&&o.push(r),o=o.concat(O(r,t,n)));return o}function fc(e,t){e.innerHTML="";for(const n of t)null!=n&&e.appendChild(n)}function mc(e,t){const n=e.headers.get("X-PJAX-URL");return n?((o=lc(n)).search=o.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),o.href.replace(/\?($|#)/,"$1")):t;var o}sc&&sc.container&&(Za=sc),"state"in window.history&&(rc=!1);const pc={},hc=[],gc=[];function vc(e,t){for(;e.length>t;)delete pc[e.shift()]}async function wc(e){const t=e.form;if(!(t instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:11");_(t,"#release_draft",HTMLInputElement).value="1",yc(e,"saving");try{const o=await G(t.action,{method:t.method,body:new FormData(t)});return yc(e,"saved"),setTimeout(yc,5e3,e,"default"),x(t,"release:saved",{release:o}),o}catch(n){throw yc(e,"failed"),n}}function bc(e){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:40");const t=_(D(e,".js-releases-marketplace-publish-container"),".js-releases-marketplace-publish-preview");e.checked?t.classList.remove("d-none"):t.classList.add("d-none")}function yc(e,t){for(const n of e.querySelectorAll(".js-save-draft-button-state"))n.hidden=n.getAttribute("data-state")!==t;e.disabled="saving"===t}function Ec(e){const t=document.querySelector(".js-release-target-wrapper");if(null!=t){switch(e){case"valid":t.classList.add("d-none");break;case"loading":break;default:t.classList.remove("d-none")}for(const t of document.querySelectorAll(".js-tag-status-message"))t.hidden=t.getAttribute("data-state")!==e}}window.addEventListener("popstate",function(e){rc||Qa.push(Promise.resolve(new Response));const t=Za,n=e.state;let o;if(n&&n.container){if(rc&&ic===n.url)return;if(t){if(t.id===n.id)return;o=t.id<n.id?"forward":"back"}const[e,r,i]=pc[n.id]||[],s=document.querySelector(e||n.container);if(s){t&&function(e,t,n){let o,r;pc[t]=n,"forward"===e?(o=gc,r=hc):(o=hc,r=gc),o.push(t);const i=r.pop();i&&delete pc[i],vc(o,Ja)}(o,t.id,cc(s)),ec(s,"pjax:popstate",{state:n,direction:o,cachedAt:i});const e={id:n.id,url:n.url,container:s,push:!1,fragment:n.fragment||"",scrollTo:!1};r?(ec(s,"pjax:start"),Za=n,n.title&&(document.title=n.title),ec(s,"pjax:beforeReplace",{contents:r,state:n,previousState:t}),fc(s,r),ec(s,"pjax:end")):nc(e),s.offsetHeight}else oc(location.href)}rc=!1}),k("change",".js-releases-marketplace-publish-field",function(e){bc(e.currentTarget)}),Ro(".js-releases-marketplace-publish-field",function(e){bc(e)}),k("click",".js-save-draft",function(e){const t=e.currentTarget;if(!(t instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:55");wc(t),e.preventDefault()}),k("click",".js-timeline-tags-expander",function(e){D(e.currentTarget,".js-timeline-tags").classList.remove("is-collapsed")}),k("release:saved",".js-release-form",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:76");const t=e.detail.release,n=e.currentTarget,o=n.getAttribute("data-repo-url"),r=t.update_url||jc("tag",o,t.tag_name);if(n.setAttribute("action",r),t.update_authenticity_token){n.querySelector("input[name=authenticity_token]").value=t.update_authenticity_token}const i=t.edit_url||jc("edit",o,t.tag_name);Yn(Za,document.title,i);const s=document.querySelector("#delete_release_confirm form");if(s){const e=t.delete_url||jc("tag",o,t.tag_name);if(s.setAttribute("action",e),t.delete_authenticity_token){_(s,"input[name=authenticity_token]",HTMLInputElement).value=t.delete_authenticity_token}}const a=n.querySelector("#release_id");if(!a.value){a.value=t.id;const e=document.createElement("input");e.type="hidden",e.name="_method",e.value="put",n.appendChild(e)}}),k("click",".js-publish-release",function(){_(document,"#release_draft",HTMLInputElement).value="0"});const Lc=new WeakMap;async function Tc(e){if(!e.value)return;if(e.value===Lc.get(e))return;Ec("loading"),Lc.set(e,e.value);const t=P(e,"data-url"),n=new URL(t,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.append("tag_name",e.value),n.search=o.toString();try{const t=await G(n);"duplicate"===t.status&&parseInt(e.getAttribute("data-existing-id"))===parseInt(t.release_id)?Ec("valid"):(_(document,".js-release-tag .js-edit-release-link").setAttribute("href",t.url),Ec(t.status))}catch(r){Ec("invalid")}}function jc(e,t,n){return`${t}/releases/${e}/${n}`}function kc(e){const t=D(e,"form",HTMLFormElement).querySelector(".js-previewable-comment-form");if(!t)return;let n=t.getAttribute("data-base-preview-url");n||(n=String(t.getAttribute("data-preview-url")),t.setAttribute("data-base-preview-url",n));const o=O(e,'input[name="release[tag_name]"], input[name="release[target_commitish]"]:checked',HTMLInputElement),r=new URL(n,window.location.origin),i=new URLSearchParams(r.search.slice(1));for(const s of o)s.value&&i.append(s.name,s.value);r.search=i.toString(),t.setAttribute("data-preview-url",r.toString())}function xc(e){return _(D(e,"form",HTMLFormElement),"#release_id",HTMLInputElement).value}Ro("input.js-release-tag-field",{constructor:HTMLInputElement,initialize(e){Tc(e),e.addEventListener("blur",function(){Tc(e)})}}),k("change",".js-release-tag",function(e){kc(e.currentTarget)}),Ro(".js-release-form .js-previewable-comment-form",function(e){kc(_(D(e,"form"),".js-release-tag"))}),k("click",".js-release-remove-file",function(e){const t=D(e.currentTarget,".js-release-file");t.classList.add("delete"),_(t,"input.destroy",HTMLInputElement).value="true"}),k("click",".js-release-undo-remove-file",function(e){const t=D(e.currentTarget,".js-release-file");t.classList.remove("delete"),_(t,"input.destroy",HTMLInputElement).value=""});let Ac=null;function Mc(e,t){const n=t.body;if(!(n instanceof FormData))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:44");n.append("release_id",xc(e));const o=O(document,".js-releases-field .js-release-file.delete .id",HTMLInputElement);if(o.length){const e=o.map(e=>e.value);n.append("deletion_candidates",e.join(","))}}k("release:saved",".js-release-form",function(e){const t=e.currentTarget;Ac=null;let n=!1;for(const r of t.querySelectorAll(".js-releases-field .js-release-file"))r.classList.contains("delete")?r.remove():r.classList.contains("js-template")||(n=!0);const o=_(t,".js-releases-field");o.classList.toggle("not-populated",!n),o.classList.toggle("is-populated",n)}),k("upload:setup",".js-upload-release-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:55");const{policyRequest:t,preprocess:n}=e.detail,o=e.currentTarget;if(xc(o))return void Mc(o,t);if(!Ac){const e=_(document,".js-save-draft",HTMLButtonElement);Ac=wc(e)}const r=Mc.bind(null,o,t);n.push(Ac.then(r))}),k("upload:start",".js-upload-release-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:78");const t=e.detail.policy;_(e.currentTarget,".js-upload-meter").classList.remove("d-none");const n=t.asset.replaced_asset;if(n)for(const o of O(document,".js-releases-field .js-release-file .id",HTMLInputElement))Number(o.value)===n&&D(o,".js-release-file").remove()}),k("upload:complete",".js-upload-release-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:94");const t=e.detail,n=t.policy,o=_(document,".js-releases-field"),r=_(o,".js-template").cloneNode(!0);r.classList.remove("d-none","js-template"),_(r,"input.id",HTMLInputElement).value=n.asset.id||t.result.id;const i=n.asset.name||n.asset.href.split("/").pop();for(const a of r.querySelectorAll(".js-release-asset-filename"))a instanceof HTMLInputElement?a.value=i:a.textContent=i;const s=n.asset.size?`(${(n.asset.size/1048576).toFixed(2)} MB)`:"";_(r,".js-release-asset-filesize").textContent=s,o.appendChild(r),o.classList.remove("not-populated"),o.classList.add("is-populated"),_(e.currentTarget,".js-upload-meter").classList.add("d-none")}),k("upload:progress",".js-upload-release-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:126");_(e.currentTarget,".js-upload-meter").style.width=`${e.detail.percent}%`}),k("upload:setup",".js-upload-repository-image",function(){_(document,".js-remove-repository-image-button").hidden=!0}),k("upload:complete",".js-upload-repository-image",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/repository-image.js:9");const t=e.detail,n=t.policy,o=n.asset.id||t.result.id,r=n.asset.href||t.result.href;_(document,".js-repository-image-id",HTMLInputElement).value=o,_(document,".js-remove-repository-image-button").hidden=!1,_(document,".js-repository-image-container").style.backgroundImage=`url(${r})`});let Sc=null;const Cc=new WeakMap;function Hc(e){e.classList.remove("is-progress-bar");const t=D(e,".js-upload-manifest-file-container");_(t,".js-upload-progress").classList.remove("active"),_(t,".js-upload-meter-text .js-upload-meter-filename").textContent=""}function qc(e){return e._path?`${e._path}/${e.name}`:e.name}function Ic(e){Hc(e.currentTarget)}async function Dc(e){const t=P(e,"data-redirect-url");try{await function(e,t){return new Promise(function(n,o){!function r(i){z(e,t).then(function(e){switch(e.status){case 200:n(e);break;case 202:setTimeout(()=>r(1.5*i),i);break;default:o(new F(e))}},o)}(1e3)})}(P(e,"data-poll-url")),window.location=t}catch(n){_(document,".js-manifest-ready-check").classList.add("d-none"),_(document,".js-manifest-ready-check-failed").classList.remove("d-none")}}function _c(e){return Array.from(e.types).indexOf("Files")>=0}function Oc(e,n){Q(new t(e),n)}function Nc(e){switch(e){case"image/gif":return"image.gif";case"image/png":return"image.png";case"image/jpeg":return"image.jpg"}}function Pc(e){const t=e.dataTransfer;t&&_c(t)&&e.preventDefault()}function Rc(e){const t=e.dataTransfer;t&&_c(t)&&e.preventDefault()}k("upload:drop:setup",".js-upload-manifest-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:36");const t=e.detail.files,n=parseInt(e.currentTarget.getAttribute("data-directory-upload-max-files"),10);t.length>n&&(e.preventDefault(),e.currentTarget.classList.add("is-too-many"))}),k("upload:drop:setup",".js-upload-manifest-tree-view",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:46");e.preventDefault();const t=e.detail.upload,n=_(document,"#js-repo-pjax-container");n.addEventListener("pjax:success",()=>{t(_(n,".js-upload-manifest-file"))},{once:!0}),tc({url:P(e.currentTarget,"data-drop-url"),container:n})}),k("upload:setup",".js-upload-manifest-file",async function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:63");const{policyRequest:t,preprocess:n}=e.detail,o=e.currentTarget;function r(){t.body.append("upload_manifest_id",Cc.get(o))}if(function(e,t){const n=_(D(e,".js-upload-manifest-file-container"),".js-upload-progress");n.classList.add("active"),e.classList.add("is-progress-bar");const o=_(n,".js-upload-meter-text");_(o,".js-upload-meter-range-start").textContent=String(t.batch.uploaded+1),_(o,".js-upload-meter-range-end").textContent=String(t.batch.size)}(o,e.detail),Cc.get(o))return void r();if(Sc)return void n.push(Sc.then(r));const i=D(o,".js-upload-manifest-file-container").querySelector(".js-upload-manifest-form");Sc=G(i.action,{method:i.method,body:new FormData(i)});const[s,a]=function(){let e,t;const n=new Promise((n,o)=>{e=n,t=o});if(!e)throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:116");if(!t)throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:117");return[n,e,t]}();n.push(s.then(r));const c=await Sc,l=_(document,".js-manifest-commit-form",HTMLFormElement).elements.namedItem("manifest_id");if(!(l instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:101");l.value=c.upload_manifest.id,Cc.set(o,c.upload_manifest.id),Sc=null,a()}),k("upload:start",".js-upload-manifest-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:130");const t=e.detail,n=_(D(e.currentTarget,".js-upload-manifest-file-container"),".js-upload-progress"),o=_(n,".js-upload-meter-text");_(o,".js-upload-meter-range-start").textContent=t.batch.uploaded+1,_(o,".js-upload-meter-filename").textContent=qc(t.file)}),k("upload:complete",".js-upload-manifest-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:141");const t=e.detail,n=_(document,".js-manifest-commit-file-template",HTMLTableElement).rows[0].cloneNode(!0);_(n,".name").textContent=qc(t.file);const o=t.policy.asset.id||t.result.id,r=_(n,".js-remove-manifest-file-form",HTMLFormElement).elements.namedItem("file_id");if(!(r instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:154");r.value=o;const i=_(document,".js-manifest-file-list");i.classList.remove("d-none"),e.currentTarget.classList.add("is-file-list"),_(document,".js-upload-progress").classList.add("is-file-list"),_(i,".js-manifest-file-list-root").appendChild(n),t.batch.isFinished()&&Hc(e.currentTarget)}),k("upload:progress",".js-upload-manifest-file",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:171");const t=e.detail;_(D(e.currentTarget,".js-upload-manifest-file-container"),".js-upload-meter").style.width=`${t.batch.percent()}%`}),k("upload:error",".js-upload-manifest-file",Ic),k("upload:invalid",".js-upload-manifest-file",Ic),Fn(".js-remove-manifest-file-form",async function(e,t){await t.html();const n=D(e,".js-manifest-file-list-root");if(D(e,".js-manifest-file-entry").remove(),!n.hasChildNodes()){D(n,".js-manifest-file-list").classList.add("d-none"),_(document,".js-upload-manifest-file").classList.remove("is-file-list"),_(document,".js-upload-progress").classList.remove("is-file-list")}}),Ro(".js-manifest-ready-check",{initialize(e){Dc(e)}}),k("upload:setup",".js-upload-enterprise-installation-user-accounts-upload",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/enterprise-installation-user-accounts-upload.js:5");const t=e.detail.policyRequest,n=e.currentTarget.getAttribute("data-business-id");n&&t.body.append("business_id",n);const o=e.currentTarget.getAttribute("data-enterprise-installation-id");o&&t.body.append("enterprise_installation_id",o)}),k("upload:complete",".js-upload-enterprise-installation-user-accounts-upload",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/enterprise-installation-user-accounts-upload.js:20");const t=e.detail,n=t.policy,o=_(e.currentTarget,".js-enterprise-installation-user-accounts-upload-id",HTMLInputElement);o.value=n.asset.id||t.result.id;const r=_(e.currentTarget,".js-enterprise-installation-id",HTMLInputElement),i=e.currentTarget.getAttribute("data-enterprise-installation-id");i&&(r.value=i);const s=o.form;s&&s.submit()});let Bc=null;function Fc(e){if(Gc)return;const t=e.currentTarget;if(!(t instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:70");Bc&&clearTimeout(Bc),Bc=setTimeout(()=>t.classList.remove("dragover"),200);const n=e.dataTransfer;n&&_c(n)&&(n.dropEffect="copy",t.classList.add("dragover"),e.stopPropagation(),e.preventDefault())}function $c(e){if(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),!(e.currentTarget instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:91");e.currentTarget.classList.remove("dragover"),e.stopPropagation(),e.preventDefault()}function Uc(e){if(e.target instanceof Element&&e.target.classList.contains("js-document-dropzone")){if(!(e.currentTarget instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:102");e.currentTarget.classList.remove("dragover")}}function Wc(e){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/uploads.js:130");const n=e.currentTarget;if(!(n instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:132");n.classList.remove("dragover"),t.classList.remove("dragover");const o=e.dataTransfer;o&&_c(o)&&(!async function(e,t){const n=await re(t,e.hasAttribute("data-directory-upload"));n.length?!x(e,"upload:drop:setup",{upload:Oc.bind(null,n),files:n})||Oc(n,e):J(e,"is-hidden-file")}(n,o),e.stopPropagation(),e.preventDefault())}function Vc(e){if(!e.clipboardData)return;if(!e.clipboardData.items)return;const t=Array.from(e.clipboardData.items).map(e=>[e,Nc(e.type)]).filter(e=>e[1]).shift();if(!t)return;const[n]=t,o=n.getAsFile();if(!(e.currentTarget instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/uploads.js:163");if(!o)throw new Error("invariant: app/assets/modules/github/uploads.js:164");Oc([o],e.currentTarget),e.preventDefault()}function zc(e){const t=e.target;if(t instanceof HTMLInputElement&&t.classList.contains("js-manual-file-chooser")){if(e.currentTarget instanceof FileAttachmentElement)e.currentTarget.upload(t.files);else{if(!(e.currentTarget instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:181");Oc(t.files,e.currentTarget)}t.value=""}}function Xc({currentTarget:e}){let t;if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/uploads.js:196");J(t=e.classList.contains("js-uploadable-container")?e:_(e,".js-uploadable-container, file-attachment"),"is-default")}let Kc=0,Gc=!1;function Yc(){Gc=!0}function Jc(){Gc=!1}function Zc(){const e=document.getElementById("ajax-error-message");e&&e.classList.add("visible")}function Qc(){const e=document.getElementById("ajax-error-message");e&&e.classList.remove("visible")}function el(){return Promise.resolve()}Ro(".js-document-dropzone",{add(e){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/uploads.js:224");t.addEventListener("dragstart",Yc),t.addEventListener("dragend",Jc),t.addEventListener("dragenter",Fc),t.addEventListener("dragover",Fc),t.addEventListener("dragleave",Uc),e.addEventListener("drop",Wc)},remove(e){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/uploads.js:235");t.removeEventListener("dragstart",Yc),t.removeEventListener("dragend",Jc),t.removeEventListener("dragenter",Fc),t.removeEventListener("dragover",Fc),t.removeEventListener("dragleave",Uc),e.removeEventListener("drop",Wc)}}),Ro(".js-uploadable-container, file-attachment",{add(e){0==Kc++&&(document.addEventListener("drop",Pc),document.addEventListener("dragover",Rc)),e.addEventListener("change",zc);const t=e.closest("form");t&&t.addEventListener("reset",Xc)},remove(e){0==--Kc&&(document.removeEventListener("drop",Pc),document.removeEventListener("dragover",Rc)),e.removeEventListener("change",zc);const t=e.closest("form");t&&t.removeEventListener("reset",Xc)}}),Ro(".js-uploadable-container",{add(e){e.addEventListener("dragenter",Fc),e.addEventListener("dragover",Fc),e.addEventListener("dragleave",$c),e.addEventListener("drop",Wc),e.addEventListener("paste",Vc)},remove(e){e.removeEventListener("dragenter",Fc),e.removeEventListener("dragover",Fc),e.removeEventListener("dragleave",$c),e.removeEventListener("drop",Wc),e.removeEventListener("paste",Vc)}}),k("deprecatedAjaxError","[data-remote]",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/ajax-error.js:26");const t=e.detail,{error:n,text:o}=t;e.currentTarget===e.target&&"abort"!==n&&"canceled"!==n&&(/<html/.test(o)?(Zc(),e.stopImmediatePropagation()):setTimeout(function(){e.defaultPrevented||Zc()},0))}),k("deprecatedAjaxSend","[data-remote]",function(){Qc()}),k("click",".js-ajax-error-dismiss",function(){Qc()}),$r("input[data-autoselect], textarea[data-autoselect]",async function(e){if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/autoselect.js:6");await el(),e.select()});function tl(e){const t=e.querySelector(".js-clipboard-clippy-icon"),n=e.querySelector(".js-clipboard-check-icon");e.classList.toggle("ClipboardButton--success"),t&&t.classList.toggle("d-none"),n&&n.classList.toggle("d-none")}k("clipboard-copy","[data-copy-feedback]",e=>{const t=e.currentTarget,n=P(t,"data-copy-feedback"),o=t.getAttribute("aria-label"),r=t.getAttribute("data-tooltip-direction")||"s";t.setAttribute("aria-label",n),t.classList.add("tooltipped",`tooltipped-${r}`),wn(t),setTimeout(()=>{o?t.setAttribute("aria-label",o):t.removeAttribute("aria-label"),t.classList.remove("tooltipped",`tooltipped-${r}`)},2e3)}),k("clipboard-copy",".js-clipboard-copy",function({currentTarget:e}){tl(e),setTimeout(tl,2e3,e)}),Fn(".js-new-comment-form",async function(e,t){let n;!function(e){const t=e.querySelector(".js-comment-form-error");t&&(t.hidden=!0)}(e);try{n=await t.json()}catch(i){!function(e,t){let n="You can't comment at this time";if(t.response&&422===t.response.status){const e=t.response.json;e.errors&&(n+=` — your comment ${e.errors.join(", ")}`)}n+=". ";const o=e.querySelector(".js-comment-form-error");o&&(o.textContent=n,o.hidden=!1)}(e,i)}if(!n)return;e.reset();for(const s of O(e,".js-resettable-field",HTMLInputElement))ia(s,s.getAttribute("data-reset-value")||"");const o=e.querySelector(".js-write-tab");o&&o.click();const r=n.json.updateContent;for(const s in r){const e=r[s],t=document.querySelector(s);t?ba(t,e):console.warn(`couldn't find ${s} for immediate update`)}}),k("click",".js-comment-edit-button",function(e){const t=D(e.currentTarget,".js-comment");t.classList.add("is-comment-editing"),_(t,".js-write-tab").click();const n=_(t,".js-comment-field");if(!(n instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:14");n.focus(),x(n,"change");const o=e.currentTarget.closest(".js-dropdown-details");o&&o.removeAttribute("open")}),k("click",".js-comment-hide-button",function(e){const t=D(e.currentTarget,".js-comment").querySelector(".js-minimize-comment");t&&t.classList.remove("d-none");const n=e.currentTarget.closest(".js-dropdown-details");n&&n.removeAttribute("open")}),k("click",".js-comment-hide-minimize-form",function(e){D(e.currentTarget,".js-minimize-comment").classList.add("d-none")}),k("click",".js-comment-cancel-button",function(e){const t=D(e.currentTarget,"form",HTMLFormElement),n=P(e.currentTarget,"data-confirm-text");if(fa(t)&&!confirm(n))return!1;for(const r of t.querySelectorAll("input, textarea")){if(!(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:54");r.value=r.defaultValue}const o=e.currentTarget.closest(".js-comment");o&&o.classList.remove("is-comment-editing")}),Fn(".js-comment-delete, .js-comment .js-comment-update, .js-issue-update, .js-comment-minimize, .js-comment-unminimize",function(e,t,n){const o=D(e,".js-comment");o.classList.add("is-comment-loading");const r=o.getAttribute("data-body-version");r&&n.headers.set("X-Body-Version",r)}),Fn(".js-comment .js-comment-update",async function(e,t){let n;const o=D(e,".js-comment"),r=o.querySelector(".js-comment-update-error");r&&(r.hidden=!0);try{n=await t.json()}catch(l){if(422!==l.response.status)throw l;{const e=JSON.parse(l.response.text);if(e.errors)return void(r&&(r.textContent=`There was an error posting your comment: ${e.errors.join(", ")}`,r.hidden=!1))}}if(!n)return;const i=n.json,s=o.querySelector(".js-comment-body");s&&i.body&&(s.innerHTML=i.body),o.setAttribute("data-body-version",i.newBodyVersion);const a=o.querySelector(".js-body-version");a instanceof HTMLInputElement&&(a.value=i.newBodyVersion);for(const u of o.querySelectorAll("input, textarea")){if(!(u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:115");u.defaultValue=u.value}o.classList.remove("is-comment-stale","is-comment-editing");const c=o.querySelector(".js-comment-edit-history");if(c){const e=await K(document,i.editUrl);c.innerHTML="",c.append(e)}}),Fn(".js-comment .js-comment-delete, .js-comment .js-comment-update, .js-comment-minimize, .js-comment-unminimize",async function(e,t){const n=D(e,".js-comment");try{await t.text()}catch(o){if(422!==o.response.status)throw o;{let e;try{e=JSON.parse(o.response.text)}catch(r){}e&&e.stale&&n.classList.add("is-comment-stale")}}n.classList.remove("is-comment-loading")}),Fn(".js-comment-delete",async function(e,t){await t.json();let n=e.closest(".js-comment-delete-container");if(n||(n=e.closest(".js-comment-container")||e.closest(".js-line-comments"))&&1!==n.querySelectorAll(".js-comment").length&&(n=D(e,".js-comment")),!n)throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:165");n.remove()}),Fn(".js-issue-update",async function(e,t){const n=D(e,".js-details-container");n.classList.remove("open");const o=(await t.json()).json;if(null!=o.issue_title){_(n,".js-issue-title").textContent=o.issue_title;const e=n.closest(".js-issues-results");if(e){if(e.querySelector(".js-merge-pr.is-merging")){const t=e.querySelector(".js-merge-pull-request textarea");t instanceof HTMLTextAreaElement&&t.value===t.defaultValue&&(t.value=t.defaultValue=o.issue_title)}else if(e.querySelector(".js-merge-pr.is-squashing")){const t=e.querySelector(".js-merge-pull-request .js-merge-title");t instanceof HTMLInputElement&&t.value===t.defaultValue&&(t.value=t.defaultValue=o.default_squash_commit_title)}const t=e.querySelector("button[value=merge]");t&&t.setAttribute("data-input-message-value",o.issue_title);const n=e.querySelector("button[value=squash]");n&&n.setAttribute("data-input-title-value",o.default_squash_commit_title)}}document.title=o.page_title;for(const r of e.elements)(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(r.defaultValue=r.value)}),Fn(".js-comment-minimize",async function(e,t){await t.json();const n=D(e,".js-comment").querySelector(".js-minimize-comment");n&&n.classList.add("d-none");const o=D(e,".unminimized-comment");o.classList.add("d-none"),o.classList.remove("js-comment");const r=D(e,".js-minimizable-comment-group").querySelector(".minimized-comment");r&&r.classList.remove("d-none"),r&&r.classList.add("js-comment")}),Fn(".js-comment-unminimize",async function(e,t){await t.json();const n=D(e,".js-minimizable-comment-group"),o=n.querySelector(".unminimized-comment");o&&o.classList.remove("d-none"),o&&o.classList.add("js-comment");const r=n.querySelector(".minimized-comment");r&&r.classList.add("d-none"),r&&r.classList.remove("js-comment")});class TabContainerElement extends HTMLElement{constructor(){super(),this.addEventListener("keydown",e=>{const t=e.target;if(!(t instanceof HTMLElement))return;if("tab"!==t.getAttribute("role")&&!t.closest('[role="tablist"]'))return;const n=Array.from(this.querySelectorAll('[role="tablist"] [role="tab"]')),o=n.indexOf(n.find(e=>e.matches('[aria-selected="true"]')));if("ArrowRight"===e.code){let e=o+1;e>=n.length&&(e=0),nl(this,e)}else if("ArrowLeft"===e.code){let e=o-1;e<0&&(e=n.length-1),nl(this,e)}else"Home"===e.code?(nl(this,0),e.preventDefault()):"End"===e.code&&(nl(this,n.length-1),e.preventDefault())}),this.addEventListener("click",e=>{const t=Array.from(this.querySelectorAll('[role="tablist"] [role="tab"]'));if(!(e.target instanceof Element))return;const n=e.target.closest('[role="tab"]');n&&n.closest('[role="tablist"]')&&nl(this,t.indexOf(n))})}}function nl(e,t){const n=e.querySelectorAll('[role="tablist"] [role="tab"]'),o=e.querySelectorAll('[role="tabpanel"]'),r=n[t],i=o[t];if(!!e.dispatchEvent(new CustomEvent("tab-container-change",{bubbles:!0,cancelable:!0,detail:{relatedTarget:i}}))){for(const e of n)e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");for(const e of o)e.hidden=!0,e.setAttribute("tabindex","0");r.setAttribute("aria-selected","true"),r.removeAttribute("tabindex"),r.focus(),i.hidden=!1,e.dispatchEvent(new CustomEvent("tab-container-changed",{bubbles:!0,detail:{relatedTarget:i}}))}}function ol(e){const t=D(e,".js-previewable-comment-form"),n=e.classList.contains("js-preview-tab");if(n){const e=_(t,".js-write-bucket");_(t,".js-preview-body").style.minHeight=`${e.clientHeight}px`}t.classList.toggle("preview-selected",n),t.classList.toggle("write-selected",!n);const o=_(t,'.tabnav-tab.selected, .tabnav-tab[aria-selected="true"]');o.setAttribute("aria-selected","false"),o.classList.remove("selected"),e.classList.add("selected"),e.setAttribute("aria-selected","true");const r=_(t,".js-write-tab");return n?r.setAttribute("data-hotkey","Control+P,Meta+P"):r.removeAttribute("data-hotkey"),t}window.customElements.get("tab-container")||(window.TabContainerElement=TabContainerElement,window.customElements.define("tab-container",TabContainerElement)),k("click",".js-write-tab",function(e){const t=e.currentTarget,n=D(t,".js-previewable-comment-form");if(n instanceof TabContainerElement)return;const o=ol(t);setTimeout(()=>{_(o,".js-comment-field").focus()});const r=n.querySelector("markdown-toolbar");null!=r&&(r.hidden=!1)}),k("click",".js-preview-tab",function(e){const t=e.currentTarget,n=D(t,".js-previewable-comment-form");if(n instanceof TabContainerElement)return;const o=ol(t);setTimeout(()=>{cl(o)});const r=n.querySelector("markdown-toolbar");null!=r&&(r.hidden=!0),e.stopPropagation(),e.preventDefault()}),k("tab-container-change",".js-previewable-comment-form",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/preview.js:118");const t=e.detail.relatedTarget.classList.contains("js-preview-panel"),n=e.currentTarget,o=_(n,".js-write-tab");if(t){const e=_(n,".js-write-bucket");_(n,".js-preview-body").style.minHeight=`${e.clientHeight}px`,o.setAttribute("data-hotkey","Control+P,Meta+P"),cl(n);const t=n.querySelector("markdown-toolbar");t&&(t.hidden=!0)}else{o.removeAttribute("data-hotkey"),setTimeout(()=>_(n,".js-comment-field").focus(),0);const e=n.querySelector("markdown-toolbar");e&&(e.hidden=!1)}n.classList.toggle("preview-selected",t),n.classList.toggle("write-selected",!t)}),k("preview:render",".js-previewable-comment-form",function(e){const t=ol(_(e.target,".js-preview-tab"));setTimeout(()=>{cl(t);const e=t.querySelector("markdown-toolbar");e&&(e.hidden=!0)})});const rl=new Xa,il=new WeakMap;let sl=!1;async function al(e,t,n,o,r){const i={};i.text=t,i.authenticity_token=function(e){const t=e.getAttribute("data-preview-authenticity-token"),n=D(e,"form",HTMLFormElement).elements.namedItem("authenticity_token");return null!=t?t:n instanceof HTMLInputElement?n.value:void 0}(e),o&&(i.path=o),n&&(i.original_line=n),r&&(i.line_number=r);const s={url:P(e,"data-preview-url"),data:i};x(e,"preview:setup",s);const a=JSON.stringify(s),[c,l]=il.get(e)||[];if(c===a)return l;sl=!1;const u=rl.push(function(e){const t=new FormData;for(const n in e.data)null!==e.data[n]&&t.append(n,e.data[n]);return X(e.url,{method:"post",body:t})}(s));il.set(e,[a,u]);const d=await u;return sl=!0,d}async function cl(e){const t=_(e,".js-comment-field",HTMLTextAreaElement),n=_(e,".comment-body"),o=e.querySelector(".js-original-line"),r=e.querySelector(".js-path"),i=e.querySelector(".js-line-number"),s=o instanceof HTMLInputElement?o.value:null,a=r instanceof HTMLInputElement?r.value:null,c=i instanceof HTMLInputElement?i.value:null;sl||(n.innerHTML="<p>Loading preview&hellip;</p>");try{const o=await al(e,t.value,s,a,c);n.innerHTML=o||"<p>Nothing to preview</p>"}catch(l){n.innerHTML="<p>Error rendering preview</p>"}}Ro(".js-preview-tab",function(e){let t,n,o,r,i;e.addEventListener("mouseenter",()=>{!async function(){if(!t){t=D(e,".js-previewable-comment-form"),n=_(t,".js-comment-field",HTMLTextAreaElement);const s=t.querySelector(".js-original-line"),a=t.querySelector(".js-path"),c=t.querySelector(".js-line-number");o=s instanceof HTMLInputElement?s.value:null,r=a instanceof HTMLInputElement?a.value:null,i=c instanceof HTMLInputElement?c.value:null}try{await al(t,n.value,o,r,i)}catch(s){}}()})}),Ur("keydown",".js-comment-field",function(e){const t=e.target;if(!(t instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/preview.js:269");if((e.ctrlKey||e.metaKey)&&"P"===e.key){const n=D(t,".js-previewable-comment-form");n.classList.contains("write-selected")&&(n instanceof TabContainerElement?_(n,".js-preview-tab").click():(t.blur(),n.dispatchEvent(new CustomEvent("preview:render",{bubbles:!0,cancelable:!1}))),e.preventDefault(),e.stopImmediatePropagation())}});const ll=new WeakMap;class RemoteInputElement extends HTMLElement{constructor(){super();const e=ul.bind(null,this,!0),t={currentQuery:null,oninput:dl(e),fetch:e,controller:null};ll.set(this,t)}static get observedAttributes(){return["src"]}attributeChangedCallback(e,t){t&&"src"===e&&ul(this,!1)}connectedCallback(){const e=this.input;if(!e)return;e.setAttribute("autocomplete","off"),e.setAttribute("spellcheck","false");const t=ll.get(this);t&&(e.addEventListener("focus",t.fetch),e.addEventListener("change",t.fetch),e.addEventListener("input",t.oninput))}disconnectedCallback(){const e=this.input;if(!e)return;const t=ll.get(this);t&&(e.removeEventListener("focus",t.fetch),e.removeEventListener("change",t.fetch),e.removeEventListener("input",t.oninput))}get input(){const e=this.querySelector("input, textarea");return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e:null}get src(){return this.getAttribute("src")||""}set src(e){this.setAttribute("src",e)}}async function ul(e,t){const n=e.input;if(!n)return;const o=ll.get(e);if(!o)return;const r=n.value;if(t&&o.currentQuery===r)return;o.currentQuery=r;const i=e.src;if(!i)return;const s=document.getElementById(e.getAttribute("aria-owns")||"");if(!s)return;const a=new URL(i,window.location.href),c=new URLSearchParams(a.search);let l;c.append(e.getAttribute("param")||"q",r),a.search=c.toString(),o.controller?o.controller.abort():(e.dispatchEvent(new CustomEvent("loadstart")),e.setAttribute("loading","")),o.controller="AbortController"in window?new AbortController:{signal:null,abort(){}};let u="";try{l=await async function(e,t,n){try{const r=await fetch(t,n);return e.dispatchEvent(new CustomEvent("load")),e.dispatchEvent(new CustomEvent("loadend")),r}catch(o){throw"AbortError"!==o.name&&(e.dispatchEvent(new CustomEvent("error")),e.dispatchEvent(new CustomEvent("loadend"))),o}}(e,a.toString(),{signal:o.controller.signal,credentials:"same-origin",headers:{accept:"text/html; fragment"}}),u=await l.text(),e.removeAttribute("loading"),o.controller=null}catch(d){return void("AbortError"!==d.name&&(e.removeAttribute("loading"),o.controller=null))}l&&l.ok?(s.innerHTML=u,e.dispatchEvent(new CustomEvent("remote-input-success",{bubbles:!0}))):e.dispatchEvent(new CustomEvent("remote-input-error",{bubbles:!0}))}function dl(e){let t;return function(){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),e()},300)}}async function fl({currentTarget:e}){if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:161");const t=e,n=e.hasAttribute("open");x(t,n?"menu:activate":"menu:deactivate"),await el(),x(t,n?"menu:activated":"menu:deactivated")}window.customElements.get("remote-input")||(window.RemoteInputElement=RemoteInputElement,window.customElements.define("remote-input",RemoteInputElement)),Ro("details.select-menu details-menu include-fragment",function(e){const t=e.closest("details");t&&(e.addEventListener("loadstart",function(){t.classList.add("is-loading"),t.classList.remove("has-error")}),e.addEventListener("error",function(){t.classList.add("has-error")}),e.addEventListener("loadend",function(){t.classList.remove("is-loading");const e=t.querySelector(".js-filterable-field");e&&x(e,"filterable:change")}))}),Ro("details details-menu .js-filterable-field",{constructor:HTMLInputElement,add(e){const t=D(e,"details");t.addEventListener("toggle",function(){t.hasAttribute("open")||(e.value="",x(e,"filterable:change"))})}}),Ro("details-menu[role=menu] [role=menu]",e=>{const t=e.closest("details-menu[role]");t&&t!==e&&t.removeAttribute("role")}),Ro("details details-menu remote-input input",{constructor:HTMLInputElement,add(e){const t=D(e,"details");t.addEventListener("toggle",function(){t.hasAttribute("open")||(e.value="")})}}),Ro("form details-menu",e=>{const t=D(e,"form");t.addEventListener("reset",()=>{setTimeout(()=>(function(e){const t=e.querySelectorAll("details-menu [role=menuitemradio] input[type=radio]:checked");for(const n of t)x(n,"change")})(t),0)})}),Ur("keypress","details-menu .js-filterable-field, details-menu filter-input input",e=>{if("Enter"===e.key){const t=e.currentTarget;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:80");const n=D(t,"details-menu").querySelector('[role^="menuitem"]:not([hidden])');n&&n.click(),e.preventDefault()}}),k("details-menu-selected","details-menu",e=>{const t=e.currentTarget;if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:90");const n=t.querySelector(".js-filterable-field");n instanceof HTMLInputElement&&n.value&&n.focus()},{capture:!0}),k("details-menu-selected","[data-menu-input]",e=>{const t=P(e.target,"data-menu-input"),n=document.getElementById(t);if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:101");if(!(e.detail.relatedTarget instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:102");n.value=e.detail.relatedTarget.value}},{capture:!0}),Ro("details-menu remote-input",{constructor:RemoteInputElement,initialize(e){const t=document.getElementById(e.getAttribute("aria-owns")||"");if(!t)return;let n;e.addEventListener("load",()=>{n=document.activeElement&&t.contains(document.activeElement)&&document.activeElement.id?document.activeElement.id:null}),e.addEventListener("loadend",()=>{if(n){const o=t.querySelector(`#${n}`)||t.querySelector('[role^="menu"]');o?o.focus():e.input&&e.input.focus()}})}}),k("details-menu-selected","details-menu[data-menu-max-options]",e=>{const t=+P(e.currentTarget,"data-menu-max-options")===e.currentTarget.querySelectorAll('[role="menuitemcheckbox"][aria-checked="true"]').length;_(e.currentTarget,"[data-menu-max-options-warning]").hidden=!t;for(const n of O(e.currentTarget,'[role="menuitemcheckbox"] input',HTMLInputElement))n.disabled=t&&!n.checked},{capture:!0}),Ro("details > details-menu",{subscribe:e=>sr(D(e,"details"),"toggle",fl)});const ml=new WeakMap,pl=["input[type=submit][data-disable-with]","button[data-disable-with]"].join(", ");function hl(e,t){e instanceof HTMLInputElement?e.value=t:e.innerHTML=t}function gl(e){for(const t of e.querySelectorAll(pl)){const n=ml.get(t);if(null!=n){if(!(t instanceof HTMLInputElement||t instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/behaviors/disable-with.js:53");hl(t,n),t.hasAttribute("data-disable-invalid")&&!e.checkValidity()||(t.disabled=!1),ml.delete(t)}}}k("submit","form",function(e){for(const n of e.currentTarget.querySelectorAll(pl)){if(!(n instanceof HTMLInputElement||n instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/behaviors/disable-with.js:34");ml.set(n,(t=n)instanceof HTMLInputElement?t.value||"Submit":t.innerHTML||"");const e=n.getAttribute("data-disable-with");e&&hl(n,e),n.disabled=!0}var t},{capture:!0}),k("deprecatedAjaxComplete","form",function({currentTarget:e,target:t}){if(!(e instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/behaviors/disable-with.js:71");e===t&&gl(e)}),function(e){Rn.push(e)}(gl),k("click",".js-flash-close",function(e){const t=e.currentTarget.closest(".flash-messages"),n=e.currentTarget.closest(".flash");if(!n)throw new Error("invariant: app/assets/modules/github/behaviors/flash.js:19");n.remove(),t&&!t.querySelector(".flash")&&t.remove()}),$r(["input[pattern]","input[required]","textarea[required]","input[data-required-change]","textarea[data-required-change]"].join(","),e=>{if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/html-validation.js:9");let t=e.checkValidity();function n(){const n=e.checkValidity();n!==t&&e.form&&wl(e.form),t=n}e.addEventListener("input",n),e.addEventListener("blur",function t(){e.removeEventListener("input",n),e.removeEventListener("blur",t)})});const vl=new WeakMap;function wl(e){const t=e.checkValidity();for(const n of O(e,"button[data-disable-invalid]",HTMLButtonElement))n.disabled=!t}function bl(e){return"DIV"===e.nodeName&&e.classList.contains("highlight")}Ro("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(e){const t=e.form;t&&(!function(e){vl.get(e)||(e.addEventListener("change",()=>wl(e)),vl.set(e,!0))}(t),e.disabled=!t.checkValidity())}}),Ro("input[data-required-change], textarea[data-required-change]",function(e){if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/html-validation.js:59");const t="radio"===e.type&&e.form?N(e.form,e.name,RadioNodeList).value:null;function n(n){const o=e.form;if(n&&"radio"===e.type&&o&&t)for(const r of N(o,e.name,RadioNodeList))r.setCustomValidity(e.value===t?"unchanged":"");else e.setCustomValidity(e.value===(t||e.defaultValue)?"unchanged":"")}e.addEventListener("input",n),e.addEventListener("change",n),n(),e.form&&wl(e.form)}),document.addEventListener("reset",function(e){if(e.target instanceof HTMLFormElement){const t=e.target;setTimeout(()=>wl(t))}}),Ur("keydown",".js-quick-submit",function(e){!function(e){const t=e.target;if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/quick-submit.js:13");if((e.ctrlKey||e.metaKey)&&"Enter"===e.key){const n=t.form;if(!(n instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/behaviors/quick-submit.js:17");const o=n.querySelector("input[type=submit], button[type=submit]");if(e.shiftKey){const e=n.querySelector(".js-quick-submit-alternative");(e instanceof HTMLInputElement||e instanceof HTMLButtonElement)&&!e.disabled&&ra(n,e)}else(o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.disabled||ra(n);e.preventDefault()}}(e)}),Ro(".js-quote-selection-container",{subscribe:e=>xt(e,{quoteMarkdown:e.hasAttribute("data-quote-markdown"),scopeSelector:e.getAttribute("data-quote-markdown")||"",copyMarkdown:!1})}),document.addEventListener("quote-selection-markdown",function(e){if(!(e instanceof CustomEvent))return;const t=e.detail,{fragment:n,range:o,unwrap:r}=t,i=o.startContainer.parentElement,s=i&&i.closest("pre");if(s instanceof HTMLElement&&!r){const e=s.parentElement;if(e&&bl(e)){const t=document.createElement("div");t.className=e.className,t.appendChild(n),n.appendChild(t)}}!function(e){const t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,function(e){return e.nodeName in yl&&function(e){return"IMG"===e.nodeName||null!=e.firstChild}(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),n=[];let o=t.nextNode();for(;o;)o instanceof HTMLElement&&n.push(o),o=t.nextNode();for(o of(n.reverse(),n))o.replaceWith(yl[o.nodeName](o))}(n)});const yl={PRE(e){const t=e.parentElement;if(t&&bl(t)){const n=t.className.match(/highlight-source-(\S+)/),o=n?n[1]:"",r=e.textContent.replace(/\n+$/,"");e.textContent=`\`\`\`${o}\n${r}\n\`\`\``,e.append("\n\n")}return e},A(e){const t=e.textContent;return e.classList.contains("user-mention")||e.classList.contains("team-mention")?t:e.classList.contains("issue-link")&&/^#\d+$/.test(t)?t:e},IMG(e){const t=e.getAttribute("alt");return t&&e.classList.contains("emoji")?t:e},DIV(e){if(e.classList.contains("js-suggested-changes-blob"))e.remove();else if(e.classList.contains("blob-wrapper-embedded")){const t=e.parentElement;if(!t)throw new Error;const n=_(t,"a[href]",HTMLAnchorElement),o=document.createElement("p");o.textContent=n.href,t.replaceWith(o)}return e}};let El,Ll;function Tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(c){r=!0,i=c}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}k("click",".js-comment-quote-reply",function({currentTarget:e}){const t=_(D(e,".js-comment"),".js-comment-body");if(Ll&&"Range"===Ll.type&&t.contains(Ll.anchorNode))Ht(Ll.text,Ll.range);else{const e=window.getSelection();e.removeAllRanges(),e.selectAllChildren(t),Ht(e.toString(),e.getRangeAt(0))}}),document.addEventListener("selectionchange",function(e,t=0,{start:n=!1,middle:o=!1,once:r=!1}={}){return function(e,t=0,{start:n=!0,middle:o=!0,once:r=!1}={}){var i,s=0,a=!1,c=function c(...l){if(!a){var u=Date.now()-s;s=Date.now(),n?(n=!1,e(...l),r&&c.cancel()):(o&&u<t||!o)&&(clearTimeout(i),i=setTimeout(function(){s=Date.now(),e(...l),r&&c.cancel()},o?t-u:t))}};return c.cancel=function(){clearTimeout(i),a=!0},c}(e,t,{start:n,middle:o,once:r})}(function(){const e=window.getSelection();let t;try{t=e.getRangeAt(0)}catch(Lu){return void(El=null)}El={type:e.type,anchorNode:e.anchorNode,text:e.toString(),range:t}},100)),document.addEventListener("toggle",function(e){const t=e.target;if(!(t instanceof Element&&t.hasAttribute("open")))return;Ll=El;const n=t.querySelector(".js-comment-quote-reply.d-none");if(!n)return;const o=Mt(t);o&&(o.querySelector(".js-inline-comment-form-container")||St(o))&&n.classList.remove("d-none")},{capture:!0}),Fn("form[data-replace-remote-form]",async function(e,t){e.classList.remove("is-error"),e.classList.add("is-loading");try{const o=await t.html();(e.closest("[data-replace-remote-form-target]")||e).replaceWith(o.html)}catch(n){e.classList.remove("is-loading"),e.classList.add("is-error")}});var jl=null;function kl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selector,o=void 0===n?".js-session-resumable":n,r=t.keyPrefix,i="".concat(void 0===r?"session-resume:":r).concat(e),s=[],a=!0,c=!1,l=void 0;try{for(var u,d=document.querySelectorAll(o)[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var f=u.value;(f instanceof HTMLInputElement||f instanceof HTMLTextAreaElement)&&s.push(f)}}catch(p){c=!0,l=p}finally{try{a||null==d.return||d.return()}finally{if(c)throw l}}var m=s.filter(function(e){return function(e){return e.id&&e.value!==e.defaultValue&&e.form!==jl}(e)}).map(function(e){return[e.id,e.value]});if(m.length)try{sessionStorage.setItem(i,JSON.stringify(m))}catch(h){}}function xl(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).keyPrefix,o="".concat(void 0===n?"session-resume:":n).concat(e);try{t=sessionStorage.getItem(o)}catch(h){}if(t){try{sessionStorage.removeItem(o)}catch(h){}var r=[],i=!0,s=!1,a=void 0;try{for(var c,l=JSON.parse(t)[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=Tl(c.value,2),d=u[0],f=u[1],m=new CustomEvent("session:resume",{bubbles:!0,cancelable:!0,detail:{targetId:d,targetValue:f}});if(document.dispatchEvent(m)){var p=document.getElementById(d);p&&(p instanceof HTMLInputElement||p instanceof HTMLTextAreaElement)&&p.value===p.defaultValue&&(p.value=f,r.push(p))}}}catch(g){s=!0,a=g}finally{try{i||null==l.return||l.return()}finally{if(s)throw a}}setTimeout(function(){for(var e=0,t=r;e<t.length;e++){t[e].dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))}},0)}}function Al(e){const t=e||window.location,n=document.head&&document.head.querySelector("meta[name=session-resume-id]");return n instanceof HTMLMetaElement&&n.content||t.pathname}window.addEventListener("submit",function(e){jl=e.target,setTimeout(function(){e.defaultPrevented&&(jl=null)},0)},{capture:!0}),window.addEventListener("pageshow",function(){xl(Al())}),window.addEventListener("pjax:end",function(){xl(Al())}),window.addEventListener("pagehide",function(){kl(Al(),{selector:".js-session-resumable"})}),window.addEventListener("pjax:beforeReplace",function(e){const t=e.detail.previousState,n=t?t.url:null;if(n)kl(Al(new URL(n,window.location.origin)),{selector:".js-session-resumable"});else{const e=new Error("pjax:beforeReplace event.detail.previousState.url is undefined");setTimeout(function(){throw e})}}),Ro("textarea.js-size-to-fit",{constructor:HTMLTextAreaElement,subscribe:function(e){var t=null,n=!1,o=void 0,r=void 0,i=void 0;function s(t){if(o!==t.clientX||r!==t.clientY){var a=e.style.height;i&&i!==a&&(n=!0,e.style.maxHeight="",e.removeEventListener("mousemove",s)),i=a}o=t.clientX,r=t.clientY}var a=e.ownerDocument,c=a.documentElement;function l(){if(!(n||e.value===t||e.offsetWidth<=0&&e.offsetHeight<=0)){var o=function(){for(var t=0,n=e;n!==a.body&&null!==n;)t+=n.offsetTop||0,n=n.offsetParent;var o=t-a.defaultView.pageYOffset;return{top:o,bottom:c.clientHeight-(o+e.offsetHeight)}}(),r=o.top,s=o.bottom;if(!(r<0||s<0)){var l=Number(getComputedStyle(e).height.replace(/px/,""))+s;e.style.maxHeight=l-100+"px";var u=e.parentElement;if(u instanceof HTMLElement){var d=u.style.height;u.style.height=getComputedStyle(u).height,e.style.height="auto",e.style.height=e.scrollHeight+"px",u.style.height=d,i=e.style.height}t=e.value}}}function u(){n=!1,e.style.height="",e.style.maxHeight=""}e.addEventListener("mousemove",s),e.addEventListener("input",l),e.addEventListener("change",l);var d=e.form;return d&&d.addEventListener("reset",u),e.value&&l(),{unsubscribe:function(){e.removeEventListener("mousemove",s),e.removeEventListener("input",l),e.removeEventListener("change",l),d&&d.removeEventListener("reset",u)}}}}),Fn(".js-social-form",async function(e,t){const n=await t.json(),o=D(e,".js-social-container");for(const r of o.querySelectorAll(".js-social-count"))r.textContent=n.json.count});let Ml=0;const Sl="IntersectionObserver"in window?new IntersectionObserver(function(e){for(const t of e)t.isIntersecting&&Cl(t.target)},{root:null,rootMargin:"0px",threshold:1}):{observe(e){},unobserve(e){}};function Cl(e){return e.classList.remove("js-unread-item","unread-item")}function Hl(){if(document.querySelector(":target"))return;const e=oi(location.hash).toLowerCase(),t=ni(document,`user-content-${e}`);t&&t.scrollIntoView()}function ql(e){_(document,".js-gist-dropzone").classList.remove("d-none"),e.stopPropagation(),e.preventDefault()}function Il(e){const t=e.target;t instanceof Element&&t.classList.contains("js-gist-dropzone")&&t.classList.add("d-none")}function Dl(e){!async function(e){const t=e.dataTransfer;if(t)for(const o of t.files){to({category:"Interaction",action:"File Drop",label:o.type});try{const t=await _l(o);e.target.dispatchEvent(new CustomEvent("gist:filedrop",{bubbles:!0,detail:t}))}catch(n){}}}(e),_(document,".js-gist-dropzone").classList.add("d-none"),e.stopPropagation(),e.preventDefault()}function _l(e){return new Promise(function(t,n){const o=new FileReader;o.onload=function(){if("string"!=typeof o.result)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.js:82");const r=o.result;r&&!/\0/.test(r)?t({file:e,data:r}):n(new Error("invalid file"))},o.readAsText(e)})}Ro(".js-unread-item",{constructor:HTMLElement,add(e){Ml++,Sl.observe(e)},remove(e){Ml--,Sl.unobserve(e),0===Ml&&function(){if(!document.hasFocus())return;const e=document.querySelector(".js-timeline-marker-form");e&&e instanceof HTMLFormElement&&ra(e)}()}}),k("socket:message",".js-discussion",function(e){if(e.currentTarget===e.target)for(const t of document.querySelectorAll(".js-unread-item"))Cl(t)}),window.addEventListener("hashchange",Hl),document.addEventListener("pjax:success",Hl),async function(){await Ln,Hl()}(),k("click","a[href]",function(e){const{currentTarget:t}=e;t instanceof HTMLAnchorElement&&t.href===location.href&&location.hash.length>1&&setTimeout(function(){e.defaultPrevented||Hl()})}),Ro(".js-gist-dropzone",{add(){const e=document.body;if(!e)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.js:59");e.addEventListener("dragenter",ql),e.addEventListener("dragleave",Il),e.addEventListener("dragover",ql),e.addEventListener("drop",Dl)},remove(){const e=document.body;if(!e)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.js:68");e.removeEventListener("dragenter",ql),e.removeEventListener("dragleave",Il),e.removeEventListener("dragover",ql),e.removeEventListener("drop",Dl)}});const Ol=new WeakMap;function Nl(e){const t=Ol.get(e);t&&(null!=t.timer&&clearTimeout(t.timer),t.timer=window.setTimeout(()=>{null!=t.timer&&(t.timer=null),t.inputed=!1,t.listener.call(null,e)},t.wait))}function Pl(e){const{currentTarget:t}=e;if(!(t&&t instanceof Element))return;const n=Ol.get(t);n&&(n.keypressed=!0,null!=n.timer&&clearTimeout(n.timer))}function Rl(e){const{currentTarget:t}=e;if(!t||!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const n=Ol.get(t);n&&(n.keypressed=!1,n.inputed&&Nl(t))}function Bl(e){const{currentTarget:t}=e;if(!t||!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const n=Ol.get(t);n&&(n.inputed=!0,n.keypressed||Nl(t))}function Fl(e){const t=_(e,".js-gist-files"),n=document.getElementById("js-gist-file-template");if(!n)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:14");const o=document.createElement("div");o.innerHTML=n.textContent;for(const s of o.querySelectorAll("[id]"))s.removeAttribute("id");const r=o.querySelector(".js-code-textarea");null!=r&&r.setAttribute("id",`blob_contents_${Date.now()}`);for(const s of o.children)t.append(s);const i=t.lastElementChild;if(!i)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:33");return i}function $l(e){return Ni(D(e,".js-code-editor"))}function Ul(e){return!(O(document,".js-must-verify-email",HTMLButtonElement).length>0)&&O(e,".js-code-textarea",HTMLTextAreaElement).some(e=>e.value.trim().length>0)}function Wl(){for(const e of O(document,".js-gist-create",HTMLButtonElement)){const t=e.form;if(!t)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:68");e.disabled=!Ul(t)}}async function Vl(e){const t=e.getAttribute("data-language-detection-url");if(!t)return;const n=new URL(t,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.append("filename",e.value),n.search=o.toString();const r=await G(n);(await $l(e)).setMode(r.language)}function zl(e){const t=e.querySelectorAll(".js-remove-gist-file");for(const n of t)n.classList.toggle("d-none",t.length<2)}function Xl(e){let t=e;const n=t.ownerDocument;if(!n)return;if(!t.offsetParent)return;const o=n.defaultView.HTMLElement;if(t!==n.body){for(;t!==n.body;){if(!(t.parentElement instanceof o))return;t=t.parentElement;const{position:e,overflowY:n,overflowX:r}=getComputedStyle(t);if("fixed"===e||"auto"===n||"auto"===r||"scroll"===n||"scroll"===r)break}return t instanceof Document?null:t}}function Kl(e,t){let n=t;const o=e.ownerDocument;if(!o)return;if(!o.body)return;const r=o.documentElement;if(!r)return;if(e===r)return;const i=Gl(e,n);if(!i)return;const s=(n=i._container)===o.documentElement?{top:o.defaultView.pageYOffset,left:o.defaultView.pageXOffset}:{top:n.scrollTop,left:n.scrollLeft},a=i.top-s.top,c=i.left-s.left,l=n.clientHeight,u=n.clientWidth;return{top:a,left:c,bottom:l-(a+e.offsetHeight),right:u-(c+e.offsetWidth),height:l,width:u}}function Gl(e,t){let n=e;const o=n.ownerDocument;if(!o)return;const r=o.documentElement;if(!r)return;const i=o.body;if(!i)return;const s=o.defaultView.HTMLElement;let a=0,c=0;const l=n.offsetHeight,u=n.offsetWidth;for(;n!==o.body&&n!==t;){if(a+=n.offsetTop||0,c+=n.offsetLeft||0,!(n.offsetParent instanceof s))return;n=n.offsetParent}let d,f,m;if(t&&t!==o&&t!==o.defaultView&&t!==o.documentElement&&t!==o.body){if(!(t instanceof s))return;m=t,d=t.scrollHeight,f=t.scrollWidth}else m=r,d=function(e,t){return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,t.clientHeight)}(i,r),f=function(e,t){return Math.max(e.scrollWidth,t.scrollWidth,e.offsetWidth,t.offsetWidth,t.clientWidth)}(i,r);return{top:a,left:c,bottom:d-(a+l),right:f-(c+u),_container:m}}function Yl(e,t){let n=e;const o=e.ownerDocument;n!==o&&n!==o.defaultView&&n!==o.documentElement&&n!==o.body||(n=o);const r=o.defaultView.Document,i=o.defaultView.HTMLElement;if(n instanceof r){const e=null!=t.top?t.top:o.defaultView.pageYOffset,n=null!=t.left?t.left:o.defaultView.pageXOffset;o.defaultView.scrollTo(n,e)}else{if(!(n instanceof i))throw new Error("container is not HTMLElement");n.scrollTop=t.top,null!=t.left&&(n.scrollLeft=t.left)}}k("change",".js-code-textarea",function(){Wl()}),$r(".js-gist-filename",async e=>{const t=e;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:98");const n=D(e,".js-code-editor");await $l(n),function(e,t,n={wait:null}){Ol.set(e,{keypressed:!1,inputed:!1,timer:void 0,listener:t,wait:null!=n.wait?n.wait:100}),e.addEventListener("keydown",Pl),e.addEventListener("keyup",Rl),e.addEventListener("input",Bl)}(t,Vl),e.addEventListener("blur",()=>(function(e,t){e.removeEventListener("keydown",Pl),e.removeEventListener("keyup",Rl),e.removeEventListener("input",Bl);const n=Ol.get(e);n&&(null!=n.timer&&n.listener===t&&clearTimeout(n.timer),Ol.delete(e))})(t,Vl),{once:!0})}),k("click",".js-add-gist-file",function(e){e.preventDefault(),Fl(D(e.currentTarget,".js-blob-form")).scrollIntoView()}),k("gist:filedrop",".js-blob-form",async function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:112");const{file:t,data:n}=e.detail,o=function(e){for(const t of e.querySelectorAll(".js-gist-file")){const e=_(t,".js-gist-filename",HTMLInputElement),n=_(t,".js-blob-contents",HTMLTextAreaElement);if(!e.value&&!n.value)return t}return Fl(e)}(e.currentTarget),r=_(o,".js-gist-filename",HTMLInputElement);r.value=t.name,Vl(r),(await $l(r)).setCode(n),o.scrollIntoView()}),k("click",".js-remove-gist-file",function(e){e.preventDefault();const t=D(e.currentTarget,".js-gist-file");for(const n of O(t,".js-gist-deleted input",HTMLInputElement))n.disabled=!1;_(t,".js-code-editor").remove()}),Ro(".js-gist-create",Wl),Ro(".js-remove-gist-file",function(e){const t=D(e,".js-gist-files");return{add(){zl(t)},remove(){zl(t)}}});const Jl=navigator.userAgent.match(/Macintosh/),Zl=Jl?"metaKey":"ctrlKey",Ql=Jl?"Meta":"Control";let eu=!1,tu={x:0,y:0};function nu(e){e instanceof MouseEvent&&(tu.x===e.clientX&&tu.y===e.clientY||(eu=!1),tu={x:e.clientX,y:e.clientY})}function ou(e){if(eu)return;const t=e.currentTarget,{target:n}=e;if(!(n instanceof Element&&t instanceof HTMLElement&&t.closest(".js-active-navigation-container")))return;const o=n.closest(".js-navigation-item");o&&hu(o,t)}Ro(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:e=>ar(sr(e,"mouseover",nu),sr(e,"mouseover",ou))});let ru=0;function iu(e){if(e.target!==document.body&&e.target instanceof HTMLElement&&!e.target.classList.contains("js-navigation-enable"))return;eu=!0;const t=gu();let n=!1;if(t){n=x(t.querySelector('.js-navigation-item[aria-selected="true"]')||t,"navigation:keydown",{hotkey:Zo(e),originalEvent:e,originalTarget:e.target})}n||e.preventDefault()}function su(e){x(e.currentTarget,"navigation:open",{modifierKey:e.modifierKey||e.altKey||e.ctrlKey||e.metaKey,shiftKey:e.shiftKey})||e.preventDefault()}function au(e){const t=gu();e!==t&&(t&&cu(t),e.classList.add("js-active-navigation-container"))}function cu(e){e.classList.remove("js-active-navigation-container")}Ro(".js-active-navigation-container",{add(){1===++ru&&document.addEventListener("keydown",iu)},remove(){0===--ru&&document.removeEventListener("keydown",iu)}}),k("navigation:keydown",".js-active-navigation-container",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/navigation.js:208");const t=e.currentTarget,n=e.detail.originalTarget.matches("input, textarea"),o=e.target;if(o.classList.contains("js-navigation-item"))if(n){if(Jl)switch(Zo(e.detail.originalEvent)){case"Control+n":mu(o,t);break;case"Control+p":fu(o,t)}switch(Zo(e.detail.originalEvent)){case"ArrowUp":fu(o,t);break;case"ArrowDown":mu(o,t);break;case"Enter":case`${Ql}+Enter`:pu(o,e.detail.originalEvent[Zl])}}else{if(Jl)switch(Zo(e.detail.originalEvent)){case"Control+n":mu(o,t);break;case"Control+p":fu(o,t);break;case"Alt+v":!function(e,t){const n=vu(t);let o=n.indexOf(e);const r=Xl(e);if(null==r)return;let i,s;for(;(i=n[o-1])&&(s=Kl(i,r))&&s.top>=0;)o--;if(i){const e=hu(i,t);if(e)return;bu(r,i)}}(o,t);break;case"Control+v":!function(e,t){const n=vu(t);let o=n.indexOf(e);const r=Xl(e);if(null==r)return;let i,s;for(;(i=n[o+1])&&(s=Kl(i,r))&&s.bottom>=0;)o++;if(i){const e=hu(i,t);if(e)return;bu(r,i)}}(o,t)}switch(Zo(e.detail.originalEvent)){case"j":case"J":mu(o,t);break;case"k":case"K":fu(o,t);break;case"o":case"Enter":case`${Ql}+Enter`:pu(o,e.detail[Zl])}}else{const o=vu(t)[0];if(o)if(n){if(Jl)switch(Zo(e.detail.originalEvent)){case"Control+n":hu(o,t)}switch(Zo(e.detail.originalEvent)){case"ArrowDown":hu(o,t)}}else{if(Jl)switch(Zo(e.detail.originalEvent)){case"Control+n":case"Control+v":hu(o,t)}switch(Zo(e.detail.originalEvent)){case"j":hu(o,t)}}}if(n){if(Jl)switch(Zo(e.detail.originalEvent)){case"Control+n":case"Control+p":e.preventDefault()}switch(Zo(e.detail.originalEvent)){case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Enter":e.preventDefault()}}else{if(Jl)switch(Zo(e.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":e.preventDefault()}switch(Zo(e.detail.originalEvent)){case"j":case"k":e.preventDefault();break;case"o":case"Enter":case`${Zl}+Enter`:e.preventDefault()}}}),k("click",".js-active-navigation-container .js-navigation-item",function(e){if(!(e instanceof MouseEvent))throw new Error("invariant: app/assets/modules/github/navigation.js:379");su(e)}),k("navigation:keyopen",".js-active-navigation-container .js-navigation-item",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/navigation.js:384");const t=e.currentTarget.classList.contains("js-navigation-open")?e.currentTarget:e.currentTarget.querySelector(".js-navigation-open");if(t){if(e.detail.modifierKey)window.open(t.href,"_blank"),window.focus();else{t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))&&t.click()}e.preventDefault()}else su(e)});const lu=[];function uu(e){cu(e),du(e);const t=lu.pop();t&&au(t)}function du(e){const t=e.querySelectorAll(".js-navigation-item[aria-selected]");for(const n of t)n.classList.remove("navigation-focus"),n.setAttribute("aria-selected","false")}function fu(e,t){const n=vu(t),o=n.indexOf(e),r=n[o-1];if(r){if(hu(r,t))return;const e=Xl(r);if(!e)throw new Error("invariant: app/assets/modules/github/navigation.js:529");"page"===wu(t)?bu(e,r):yu(e,r)}}function mu(e,t){const n=vu(t),o=n.indexOf(e),r=n[o+1];if(r){if(hu(r,t))return;const e=Xl(r);if(!e)throw new Error("invariant: app/assets/modules/github/navigation.js:558");"page"===wu(t)?bu(e,r):yu(e,r)}}function pu(e,t=!1){x(e,"navigation:keyopen",{modifierKey:t})}function hu(e,t){return!x(e,"navigation:focus")||(du(t),e.classList.add("navigation-focus"),e.setAttribute("aria-selected","true"),!1)}function gu(){return document.querySelector(".js-active-navigation-container")}function vu(e){return Array.from(e.querySelectorAll(".js-navigation-item")).filter(Bi)}function wu(e){return e.getAttribute("data-navigation-scroll")||"item"}function bu(e,t,n="smooth"){const o=Kl(t,e);o&&(o.bottom<=0?t.scrollIntoView({behavior:n,block:"start"}):o.top<=0&&t.scrollIntoView({behavior:n,block:"end"}))}function yu(e,t){const n=Gl(t,e),o=Kl(t,e);if(null!=n&&null!=o)if(o.bottom<=0&&document.body){Yl(e,{top:(null!=e.offsetParent?e.scrollHeight:document.body.scrollHeight)-(n.bottom+o.height)})}else o.top<=0&&Yl(e,{top:n.top})}const Eu=new Xa;$r(".js-quicksearch-field",function(e){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:46");if(!e.form)throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:47");!function(e){const t=gu();t&&lu.push(t),au(e)}(_(e.form,".js-quicksearch-results"))}),Wr(".js-quicksearch-field",async function(e){const t=e.target;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:78");const n=t.value.replace(/^\s+|\s+$/g,""),o=D(t,"form"),r=_(o,".js-quicksearch-results"),i=P(r,"data-quicksearch-url");let s,a;if(n.length){const e=new URL(i,window.location.origin),t=new URLSearchParams(e.search.slice(1));t.append("q",n),e.search=t.toString(),o.classList.add("is-sending"),s=X(e)}else s=Promise.resolve("");try{a=await Eu.push(s)}finally{a&&(r.innerHTML=a),r.classList.toggle("active",""!==n),o.classList.remove("is-sending")}}),k("navigation:keydown",".js-quicksearch-results",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:62");const t=e.target,n=D(t,"form",HTMLFormElement);if("Escape"===e.detail.hotkey){const e=_(n,".js-quicksearch-results");e.classList.remove("active"),du(e)}else"Enter"!==e.detail.hotkey||t.classList.contains("js-navigation-item")||(ra(n),e.preventDefault())}),k("submit",".js-quicksearch-form",function(e){if(!(e.currentTarget instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:52");const t=e.currentTarget.querySelector(".js-quicksearch-results");t&&(t.classList.remove("active"),uu(t))}),k("focusout:delay",".js-quicksearch-field",function(e){const t=D(e.currentTarget,"form",HTMLFormElement).querySelector(".js-quicksearch-results");t&&(t.classList.remove("active"),uu(t))}),Fn(".js-gist-file-update-container .js-comment-update",async function(e,t){let n;try{n=await t.json()}catch(o){return}if(e.action=n.json.url,n.json.authenticity_token){_(e,"input[name=authenticity_token]",HTMLInputElement).value=n.json.authenticity_token}}),k("socket:message",".js-notification-indicator",function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/site/header-notifications.js:6");const t=e.currentTarget,n=e.detail.data;t.setAttribute("aria-label",n.aria_label),t.setAttribute("data-ga-click",n.ga_click),t.querySelector("span").setAttribute("class",n.span_class)}),window.v="1"}();
//# sourceMappingURL=gist-bootstrap-091ea022.js.map
